(this.webpackJsonpjiffy=this.webpackJsonpjiffy||[]).push([[12],{1002:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAI8AAACPCAYAAADDY4iTAAAACXBIWXMAAC4jAAAuIwF4pT92AAAID0lEQVR4nO2dz4scRRiGX9fETdxA1oMbwUC6ZUAwQszB4M3xKIgm/8HmKh724N14F4wnr+t/EEXxaLxG0AgmEBicDkQkK+gG3CSbaCI1dsdystNV3V31VVX3+8CyszA/emaerffrr7q7nnj48CEI2YtRlq8COA1gDCADcBnA+UkxLdTdKQ/5H5ow6uedBZ/O2Ukx3aQ8xFaYefJ9/OiGSUthdNYpz4BwIIxORnl6jmNhdArWPD3EozA6JylPTxASpuL6pJgytlJGWBidC+o25UmMgMLobIJNwjSIRJiKWWSBI0+8SAtz59WjWNq5h+WrW6a7XqhuUJ6ICCHM3VPP486po3iw8hSOvP+1zcM2qxuUJzChhanYt7WD/cW26eEqsi4/eozfTSV7EYswOgcu3bB5qgv6H5RHiBiF0Vm5+LPN027qf1Aej8QuTEWbyALlcU8qwui0iSxQHjekKIxOm8gC5WlP6sJUtI0sUJ5m9EUYnbaRBcpjpo/C6LSNLFCevem7MBVdIguU5z+GIoxOl8jC0OUZojA6XSILQ5Rn6MJUdI0sDEUeCvM4XSMLfZaHwtTTNbLQN3kojB0uIgt9kIfCNMdFZCFVeShMN1xEFlKSh8K4wVVkIXZ5KIx7XEUWYpSHwvjFVWQhFnkojAwuIwsh5aEw8riMLEjLQ2HC4jKyICEPhYkDy8i6ZRtZ8CUPhYkP15EFl/JQmLixjCw5eShMGjSILL/yUJj08BFZsJWHwqSNj8hCnTwUph/4iizMy0Nh+oevyIIuzyjLzwHYAHDY5ydIYWTxFVmo5CnF+cDXu6IwYfAZWdBGng2X7+7B0/tx99TRmSy7x9coTCB8RpZi3yjLx66iavelNfz51oszaUh4fEYWXE9PqCtpLt2+h/3FHzOB7mfPuHx60gDfkYXqOsyjLN/2USj//ezKo+jiaCTLoS+vYXXze9NrfjYpputtN6waeVTB/LHrd/fkbzs49NW12U9VB1UisQ7yi+/Ign4F+FGWb5QSed1Vr1D1kZJICfXX2orESw4GFVnPvfuF6e2qyFrt8pk8tnzAKMurBUnV72MSH/j9bBW7x49g542cdZIDJCILprUnRln+itZxPuHlnc6h7+azTmqHupK7RbF8pkuxjCYLl4yyPNNGJLHFM9hgbIZUZKHtqjflHNhYG5VE6iQVbzvjF7D78hrjbQFSkQVXSyaVjcbTknVS1QaoWgHkX6QiCz7W2yrjTUm0Ll0nDb0NIBlZ8L1Y29whHs6mQUyoOkmJNLQ2gGRkQXqlv7INUIkk1gao4q3vdZJkZCHkMpFlG2C9FEkk3lSdVEVb39oA0pGFWNYY1eqksVQbQNVJqjHZlzaAdGQhxgVqtTppHKINkGqdJB1ZSGF145BtgFSmS0JEFlJbGrusk8Yh2gAx10khIgspr6seYrpERdvv770W3WgUIrLQp0X5tTaA1zpJCXTzozd9PX1jQkWWYsn1E4ZC/VepYbn8kE4C+ATAj643R/2HH7Q7sFwE3we519HLK8CX15iZnRGitQHUz+sunn/5ylY09Y/EEYOL6E1s2eBqukTtjf366dvi2z9PyMjC0Fa9mRTT7fKyabNLp7U9alIdm63OEAldOIeMLPSp5mlDWSdtTIppVtZJH9rWSTHUPSEjC0OLLVvKftIPdXcPvdcVOrIw9JFnEWXBfb3uPmqvS32BoQgdWaA8tRg/+OUrN4NtXOjIAuWpxXg94gOXfgmyYRKnEttAeRZQRtetuvsc/O4GlnbuiW9bDJEFymPEIrq2xDcqhsgC5TFi/AKkd9ljiSxQHiMXTXewjBBnxBJZoDz1lB3pz+vutHT7/qzbLEUskQXKY4Xxi1j5ZiqyITFFFiiPFcbokqp7YoosUB4zk2JamOa71ESpRLc5psgC5bHG+IX4LpxjiyxQHmvMdY/dqNCa2CILlMcO24lSn93m2CILlKcRwRqGMUYWKE8jLBqGfiZKY4wsUB57yv/q2olSX4doxBhZoDyNqR19VLfZdXTFGlmgPI0Rr3tijSxQnsaIH6IRa2SB8jSjnCj9tu5B1Wk5Log5skB5WiEWXTFHFihPK8TkiTmyQHmaYzNR6uK0nNgjC5SnNd6PMIw9skB5WmM8LafrXlfskQXK0w7fp+WkEFmgPJ3wVjinEFmgPJ3w1jBMIbJAedpjExltiuZUIguUpzPG03Kajj6pRBYoT2ec1z2pRBYoT2ecnpaTUmSB8nTD9rQc24nSlCILlMcJ5obhT3Z1T0qRBcrjBGN02UiRWmSB8nTH1Wk5qUUWKI8zOu91pRZZoDzOsGgYLj4tJ8XIAuVxw6SYXrSZKF1EipEFyuOU1tGVYmSB8jilVcMw1cgC5XFKq1n2VCMLlMcdNtcv3KvbnGpkgfI4x9ww1K5fmHJkgfI4p9F6FSlHFiiPW5qelpNyZIHyeMHqtJzUIwuUxwvGWXa1y556ZIHyuMdmonT56lbykQXK4w1jdKUeWaA83nDxpUctDiiPH2yuX2gB5RkwxuiqIfrIAuXxSpcvP3pxQHm80nt5uCi/R0ZZrnbbTzR8Ba8L6buEI49fjA3DPUhi1AHl8U4bEZKRh7HlmVGWq8nSY5avkkxkgSOPCE1GkmRGHVAeEXorD2NLgFGWq4msw4ZXSiqywJFHDJsRJalRB5RHDMpDWmM6ozSJuax5KI8A5Wk552peaSPF90V5hJgU0/MAzs4dZahun5kU0zad6OBwbysAoyzPAGyXI1KaAPgHgqgseBvgex0AAAAASUVORK5CYII="},1006:function(e,t,a){e.exports=a.p+"static/media/gigzzypro.ffbc2894.png"},1007:function(e,t,a){e.exports=a.p+"static/media/howprovider.99747bdf.jpg"},1008:function(e,t,a){e.exports=a.p+"static/media/howcustomer.6b0de07f.jpg"},1022:function(e,t,a){e.exports=a(1975)},1222:function(e,t,a){},1223:function(e,t,a){},124:function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i})),a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return l}));var n=a(1),r=a.n(n),o=r.a.createContext({}),i=r.a.createContext({}),c=(r.a.createContext({}),r.a.createContext({})),l=r.a.createContext({comman_data:{},on_book:function(){},set_comman_data:function(){}})},137:function(e,t,a){"use strict";a.d(t,"f",(function(){return _})),a.d(t,"b",(function(){return f})),a.d(t,"h",(function(){return b})),a.d(t,"a",(function(){return h})),a.d(t,"j",(function(){return y})),a.d(t,"d",(function(){return v})),a.d(t,"e",(function(){return E})),a.d(t,"c",(function(){return k})),a.d(t,"i",(function(){return w})),a.d(t,"g",(function(){return j}));var n,r,o,i,c,l,s,d,u,m,p=a(16),g=a(17),_=Object(g.a)(n||(n=Object(p.a)(["\nquery GETSUBCATEGORY($limit: Int,$page:Int,$data:JSON) {\n    get_subcategory(limit:$limit,page:$page,data:$data) {\n        pageInfo{\n      totalDocs\n      page\n    }\n    data{\n        _id\n        subCategory_name\n        base_price\n        hour_price\n        day_price\n        day_limit\n        price_type\n        is_future\n        is_block\n        hour_limit\n        service_fee\n        description\n        img_url\n        small_img_url\n        category{\n            category_name\n        }\n        Certificate{\n            certificate_name\n            _id\n        }\n    }\n    }\n}\n"]))),f=Object(g.a)(r||(r=Object(p.a)(["\nquery CATEGORYNAME($is_parent:Boolean) {\n    category(is_parent:$is_parent) {\n        _id\n       category_name\n       Certificate{\n            certificate_name\n            _id\n        }\n    }\n}\n"]))),b=Object(g.a)(o||(o=Object(p.a)(["\n{\n    sub_category{\n        _id\n        subCategory_name\n    }\n}\n"]))),h=Object(g.a)(i||(i=Object(p.a)(["\n    mutation ADDSUBCATEGORY($file: Upload,$category_id: ID,$subCategory_name: String,$base_price: String,$hour_price: String,$hour_limit: String,$day_price: String,$day_limit: String,$price_type: String,$service_fee: String,$description: String,$certificates: [ID],) {   \n        addsubCategory(file:$file,category_id: $category_id,subCategory_name: $subCategory_name,base_price: $base_price,hour_price: $hour_price,hour_limit: $hour_limit,day_price:$day_price,day_limit:$day_limit,price_type:$price_type,service_fee: $service_fee\n        ,description: $description,certificates: $certificates,){\n            info\n        }\n    }\n"]))),y=Object(g.a)(c||(c=Object(p.a)(["\n    mutation UPDATESUBCATEGORY($_id:ID,$is_block:Boolean,$is_future:Boolean,$file: Upload,$category_id: ID,$subCategory_name: String,$base_price: String,$hour_price: String,$day_price: String,$day_limit: String,$hour_limit: String,$service_fee: String,$description: String,$certificates: [ID],$price_type:String) {   \n        updatesubCategory(_id:$_id,is_block:$is_block,is_future:$is_future,file:$file,category_id: $category_id,subCategory_name: $subCategory_name,base_price: $base_price,hour_price: $hour_price,hour_limit: $hour_limit,day_price:$day_price,day_limit:$day_limit,price_type:$price_type,service_fee: $service_fee\n        ,description: $description,certificates: $certificates,){\n            info\n        }\n    }\n"]))),v=Object(g.a)(l||(l=Object(p.a)(["\nquery FINDSUBCATEGORY($_id:ID) {\n    sub_category(_id:$_id) {\n        certificates\n        _id\n        category_id\n        subCategory_name\n        base_price\n        hour_price\n        hour_limit\n        day_price\n        day_limit\n        price_type\n        service_fee\n        description\n        img_url\n        Certificate{\n            certificate_name\n            _id\n        }\n    }\n}\n"]))),E=Object(g.a)(s||(s=Object(p.a)(["\nquery GETCATEGORYCURRENCY($category_id:ID,$pagination:Boolean) {\n    GetCategoryCurrency(category_id:$category_id,pagination:$pagination) {\n        data{\n            _id\n            currency_id\n            category_type\n            base_price\n            hour_price\n            hour_limit\n            day_price\n            day_limit\n            price_type\n            service_fee\n            get_parent_currency{\n                name\n                currency_code\n            }\n        }\n    }\n}\n"]))),k=Object(g.a)(d||(d=Object(p.a)(["\n    mutation DELETESUBCATEGORY($_id:ID){\n        deletesubCategory(_id:$_id) {\n            msg\n            status\n        }\n    }\n"]))),w=Object(g.a)(u||(u=Object(p.a)(["\n    mutation UPDATECATEGORYCURRENCY($_id:ID,$data:JSON){\n        UpdateCategoryCurrency(_id:$_id,data:$data) {\n            msg\n            status\n        }\n    }\n"]))),j=Object(g.a)(m||(m=Object(p.a)(["\n    mutation REMOVECATEGORYCURRENCY($_id:ID){\n        DeleteCategoryCurrency(_id:$_id) {\n            msg\n            status\n        }\n    }\n"])))},1770:function(e,t){},1787:function(e,t,a){},1788:function(e,t,a){},192:function(e,t,a){},1975:function(e,t,a){"use strict";a.r(t);var n=a(365),r=(a(1023),a(1034),a(1)),o=a.n(r),i=a(21),c=a.n(i),l=a(93),s=a(140),d=a(48),u=a(35);a(1222),a(46),a(50),a(237),a(1223),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var m,p,g,_,f,b,h,y,v,E,k,w,j,O,S,N,x,C,I,$,D,P,T,A=a(6),F=a(1010),z=a(114),R=a(24),q=a(12),U=a(13),L=a(15),M=a(14),B=a(43),V=a(44),G=a(3),J=a.n(G),Y=a(11),H=a(5),K=a(1984),W=a(448),Q=a(1983),Z=a(294),X=a(22),ee=a(658),te=a(625),ae=a(351),ne=a(16),re=a(17),oe=Object(re.a)(m||(m=Object(ne.a)(["\n    mutation ADDCATEGORY($category_name: String,$description: String,$file:Upload,$base_price: String,$hour_price: String,$hour_limit: String,$day_price: String,$day_limit: String,$service_fee: String,$price_type:String,$certificates: [ID],$is_parent:Boolean) {\n        addCategory(category_name:$category_name,description:$description,file: $file,base_price: $base_price,hour_price: $hour_price,hour_limit: $hour_limit,day_price:$day_price,day_limit:$day_limit,price_type:$price_type,service_fee: $service_fee,certificates: $certificates,is_parent:$is_parent){\n            category_name\n            _id\n            description\n            url\n            uid\n            info\n        }\n    }\n"]))),ie=Object(re.a)(p||(p=Object(ne.a)(["\n    mutation update_Category($_id:ID,$is_block:Boolean,$is_future:Boolean,$category_name:String,$file:Upload,$description:String,$base_price: String,$hour_price: String,$hour_limit: String,$day_price: String,$day_limit: String,$service_fee: String,$price_type:String,$is_parent: Boolean,$certificates: [ID]){\n        updateCategory(_id:$_id,is_block:$is_block,is_future:$is_future,category_name:$category_name,file:$file,description:$description,base_price: $base_price,hour_price: $hour_price,hour_limit: $hour_limit,day_price:$day_price,day_limit:$day_limit,price_type:$price_type,service_fee: $service_fee,certificates: $certificates,is_parent:$is_parent){\n            info\n        }\n    }\n"]))),ce=Object(re.a)(g||(g=Object(ne.a)(["\n    mutation changeparentbolck($_id:ID,$is_block:Boolean){\n        change_parent_bolck(_id:$_id,is_block:$is_block){\n            info\n        }\n    }\n"]))),le=Object(re.a)(_||(_=Object(ne.a)(["\n query GETCATEGORY($limit: Int,$page:Int,$data:JSON) {\n    get_category(limit:$limit,page:$page,data:$data) {\n        pageInfo{\n            totalDocs\n            page\n        }\n        data{\n            _id\n            is_future\n            is_block\n            category_name\n            description\n            is_parent\n            img_url\n        }\n    }\n}\n"]))),se=Object(re.a)(f||(f=Object(ne.a)(["\nquery FINDCATEGORY($_id:ID) {\n    category(_id:$_id) {\n        _id\n        category_name\n        description\n        img_url\n        certificates\n        is_parent\n        base_price\n        hour_price\n        hour_limit\n        day_price\n        day_limit\n        price_type\n        service_fee\n        img_url\n        Certificate{\n            certificate_name\n            _id\n        }\n    }\n}\n"]))),de=Object(re.a)(b||(b=Object(ne.a)(["\n    mutation DELETECATEGORY($_id:ID){\n        deleteCategory(_id:$_id) {\n            msg\n            status\n        }\n    }\n"]))),ue=a(20),me=a(77),pe=a.n(me),ge=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(){var e;Object(q.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={modalVisible:!1,dataSource:[],update_data:{},update:0,loading:!1,loading_img:!1,imageUrl:"",file:{},previewVisible:!1,previewImage:"",view_img:"",pagination:{pageSize:10,total:0,current:1,simple:!0}},e.handleTableChange=function(){var t=Object(H.a)(J.a.mark((function t(a){var n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=Object(Y.a)({},a)).current=a.current,e.setState({loading:!0}),t.next=5,A.a.query({query:le,variables:{limit:n.pageSize,page:n.current,data:{is_parent:!1}},fetchPolicy:"no-cache"}).then((function(t){var a=Object(Y.a)({},e.state.pagination);a.total=t.data.get_category.pageInfo.totalDocs,a.current=t.data.get_category.pageInfo.page,console.log(a),e.setState({pagination:a,loading:!1,dataSource:t.data.get_category.data})}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.showModal=function(){e.setState({modalVisible:!0})},e.closeModal=function(){e.setState({modalVisible:!1,update_data:{},imageUrl:""})},e.fetch_category=function(){var t=Object(H.a)(J.a.mark((function t(a){var n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),{},n=a,t.next=5,A.a.query({query:le,variables:{data:n},fetchPolicy:"no-cache"}).then((function(t){var a=Object(Y.a)({},e.state.pagination);a.total=t.data.get_category.pageInfo.totalDocs,e.setState({loading:!1,pagination:a,dataSource:t.data.get_category.data})}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleDelete=function(){var t=Object(H.a)(J.a.mark((function t(a){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,A.a.mutate({mutation:de,variables:{_id:a}}).then((function(t,a,n){Object(ue.a)(t.data.deleteCategory),"success"===t.data.deleteCategory.status&&e.fetch_category({is_parent:!1})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.change_future=function(){var t=Object(H.a)(J.a.mark((function t(a){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.a.mutate({mutation:ie,variables:a}).then((function(t,a,n){Object(ue.a)(t.data.updateCategory.info),e.fetch_category({is_parent:!1})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onFilter_Ref=function(){var t=Object(H.a)(J.a.mark((function t(a){var n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.target.value?(n={is_parent:!1,category_name:{$regex:".*"+a.target.value+".*",$options:"i"}},e.fetch_category(n)):e.fetch_category({is_parent:!1});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.fetch_category({is_parent:!1})}},{key:"render",value:function(){var e=this,t=[{title:r.createElement("span",null,"Category Name"),dataIndex:"category_name",width:"15%",render:function(e,t){return r.createElement("span",{title:"Category Name"},t.category_name)}},{title:r.createElement("span",null,"Description"),dataIndex:"description",render:function(e,t){return r.createElement("span",{title:"Description",style:{wordBreak:"break-all"}},t.description)}},{title:r.createElement("span",null,"Block"),width:"10%",render:function(t,a){return r.createElement("span",{title:"Block"},r.createElement(K.a,{checkedChildren:"Show",unCheckedChildren:"Hide",checked:a.is_block,onChange:function(t){e.change_future({is_block:t,_id:a._id})}}))}},{title:r.createElement("span",null,"Type"),dataIndex:"is_parent",render:function(e,t){return r.createElement("span",{title:"Type"},t.is_parent?r.createElement(W.a,{color:"green"},"Parent"):r.createElement(W.a,{color:"geekblue"},"Category"))}},{title:r.createElement("span",null,"Marker"),render:function(t,a){console.log(a.img_url);var n=e.state.previewVisible;return r.createElement("span",{title:"Marker",className:"clearfix"},r.createElement(Q.a,{src:a.img_url,className:"img_zoom",onClick:function(){e.setState({previewVisible:!0,view_img:a.img_url})}}),r.createElement(Z.a,{visible:n,footer:null,onCancel:function(){e.setState({previewVisible:!1})}},r.createElement("img",{alt:"example",style:{width:"100%"},src:e.state.view_img})))}},{title:"Action",width:"10%",dataIndex:"operation",className:Object(R.a)("edit_category")||Object(R.a)("delete_category")?"":"d-none",render:function(t,a){return e.state.dataSource.length>=1?r.createElement("span",{title:"....",className:"d-inline d-md-flex justify-content-around"},r.createElement(R.b,{permission:"edit_category"},r.createElement("span",{className:"cursor_point",onClick:function(){e.props.history.push("/admin-category/add/".concat(a._id))}},r.createElement(X.a,{type:"edit",theme:"twoTone",twoToneColor:"#52c41a",className:"mx-3 f_25"}))),r.createElement(R.b,{permission:"delete_category"},r.createElement(ee.a,{title:"Sure to delete because may be under some more sub_category ?",onConfirm:function(){return e.handleDelete(a._id)}},r.createElement(X.a,{type:"delete",theme:"twoTone",twoToneColor:"#52c41a",className:"f_25"})))):null}}];return r.createElement(r.Fragment,null,r.createElement("div",{className:"mb-3"},r.createElement(pe.a,{className:"",size:"large",placeholder:"Search Category",onKeyUp:function(t){e.onFilter_Ref(t)},loading:!1})),r.createElement("div",{id:"no-more-tables"},r.createElement(te.a,{className:"table_shadow",pagination:this.state.pagination,rowKey:function(e){return e.id},loading:this.state.loading,dataSource:this.state.dataSource,columns:t,onChange:this.handleTableChange})))}}]),a}(r.Component),_e=ae.a.create()(Object(d.withRouter)(ge)),fe=a(204),be=a(68),he=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(){var e;Object(q.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={modalVisible:!1,dataSource:[],update_data:{},update:0,loading:!1,loading_img:!1,imageUrl:"",file:{},previewVisible:!1,previewImage:"",view_img:"",pagination:{pageSize:10,total:0,current:1,simple:!0}},e.handleTableChange=function(){var t=Object(H.a)(J.a.mark((function t(a){var n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=Object(Y.a)({},a)).current=a.current,e.setState({loading:!0}),t.next=5,A.a.query({query:le,variables:{limit:n.pageSize,page:n.current,data:{is_parent:!0}},fetchPolicy:"no-cache"}).then((function(t){var a=Object(Y.a)({},e.state.pagination);a.total=t.data.get_category.pageInfo.totalDocs,a.current=t.data.get_category.pageInfo.page,console.log(a),e.setState({pagination:a,loading:!1,dataSource:t.data.get_category.data})}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.showModal=function(){e.setState({modalVisible:!0})},e.closeModal=function(){e.setState({modalVisible:!1,update_data:{},imageUrl:""})},e.fetch_category=function(){var t=Object(H.a)(J.a.mark((function t(a){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.next=3,A.a.query({query:le,variables:{data:a},fetchPolicy:"no-cache"}).then((function(t){var a=Object(Y.a)({},e.state.pagination);a.total=t.data.get_category.pageInfo.totalDocs,e.setState({loading:!1,pagination:a,dataSource:t.data.get_category.data})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.change_future=function(){var t=Object(H.a)(J.a.mark((function t(a){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.a.mutate({mutation:ce,variables:a}).then((function(t,a,n){Object(ue.a)(t.data.change_parent_bolck.info),e.fetch_category({is_parent:!0})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleDelete=function(){var t=Object(H.a)(J.a.mark((function t(a){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,A.a.mutate({mutation:de,variables:{_id:a}}).then((function(t,a,n){Object(ue.a)(t.data.deleteCategory),"success"===t.data.deleteCategory.status&&e.fetch_category({is_parent:!0})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onFilter_Ref=function(){var t=Object(H.a)(J.a.mark((function t(a){var n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.target.value?(n={is_parent:!0,category_name:{$regex:".*"+a.target.value+".*",$options:"i"}},e.fetch_category(n)):e.fetch_category({is_parent:!0});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.fetch_category({is_parent:!0})}},{key:"render",value:function(){var e=this,t=[{title:r.createElement("span",null,"Category Name"),dataIndex:"category_name",width:"15%",render:function(e,t){return r.createElement("span",{title:"Category Name"},t.category_name)}},{title:r.createElement("span",null,"Description"),dataIndex:"description",render:function(e,t){return r.createElement("span",{title:"Description",style:{wordBreak:"break-all"}},t.description)}},{title:r.createElement("span",null,"Block"),width:"10%",render:function(t,a){return r.createElement("span",{title:"Block"},r.createElement(K.a,{checkedChildren:"Show",unCheckedChildren:"Hide",checked:a.is_block,onChange:function(t){e.change_future({is_block:t,_id:a._id})}}))}},{title:r.createElement("span",null,"Type"),dataIndex:"is_parent",render:function(e,t){return r.createElement("span",{title:"Type"},t.is_parent?r.createElement(W.a,{color:"green"},"Parent"):r.createElement(W.a,{color:"geekblue"},"Category"))}},{title:r.createElement("span",null,"Marker"),render:function(t,a){console.log(a.img_url);var n=e.state.previewVisible;return r.createElement("span",{title:"Marker",className:"clearfix"},r.createElement(Q.a,{src:a.img_url,className:"img_zoom",onClick:function(){e.setState({previewVisible:!0,view_img:a.img_url})}}),r.createElement(Z.a,{visible:n,footer:null,onCancel:function(){e.setState({previewVisible:!1})}},r.createElement("img",{alt:"example",style:{width:"100%"},src:e.state.view_img})))}},{title:"Action",width:"10%",dataIndex:"operation",className:Object(R.a)("edit_category")||Object(R.a)("delete_category")?"":"d-none",render:function(t,a){return e.state.dataSource.length>=1?r.createElement("span",{title:"....",className:"d-inline d-md-flex justify-content-around"},r.createElement(R.b,{permission:"edit_category"},r.createElement("span",{className:"cursor_point",onClick:function(){e.props.history.push("/admin-category/add/".concat(a._id))}},r.createElement(X.a,{type:"edit",theme:"twoTone",twoToneColor:"#52c41a",className:"mx-3 f_25"}))),r.createElement(R.b,{permission:"delete_category"},r.createElement(ee.a,{title:"Sure to delete because may be under some more sub_category ?",onConfirm:function(){return e.handleDelete(a._id)}},r.createElement(X.a,{type:"delete",theme:"twoTone",twoToneColor:"#52c41a",className:"f_25"})))):null}}];return r.createElement(r.Fragment,null,r.createElement("div",{className:"mb-3"},r.createElement(pe.a,{className:"",size:"large",placeholder:"Search Category",onKeyUp:function(t){e.onFilter_Ref(t)},loading:!1})),r.createElement("div",{id:"no-more-tables"},r.createElement(te.a,{className:"table_shadow",pagination:this.state.pagination,rowKey:function(e){return e.id},loading:this.state.loading,dataSource:this.state.dataSource,columns:t,onChange:this.handleTableChange})))}}]),a}(r.Component),ye=ae.a.create()(Object(d.withRouter)(he)),ve=l.a.Content,Ee=fe.a.TabPane,ke=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(){var e;Object(q.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={collapsed:!1},e.onToggle=function(t){console.log(t),e.setState({collapsed:t})},e}return Object(U.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement(l.a,{style:{height:"100vh"}},o.a.createElement(B.default,{update_collapsed:this.state.collapsed}),o.a.createElement(l.a,null,o.a.createElement(V.default,null),o.a.createElement(ve,{className:"main_frame"},o.a.createElement(fe.a,{tabBarExtraContent:o.a.createElement(R.b,{permission:"add_category"},o.a.createElement(be.a,{type:"primary",onClick:function(){e.props.history.push("/admin-category/add")}},"Add Category"))},o.a.createElement(Ee,{tab:"Category",key:"1"},o.a.createElement(_e,null)),o.a.createElement(Ee,{tab:"Parent Category",key:"2"},o.a.createElement(ye,null))))))}}]),a}(o.a.Component),we=a(449),je=a(187),Oe=a(481),Se=a(201),Ne=a(128),xe=a(484),Ce=a(188),Ie=a(1019),$e=(a(192),Object(re.a)(h||(h=Object(ne.a)(["\n    mutation ADDCERTIFICATE($certificate_name: String) {\n        add_certificate(certificate_name:$certificate_name){\n            certificate_name\n            _id\n            info\n        }\n    }\n"])))),De=Object(re.a)(y||(y=Object(ne.a)(["\n    mutation update_CERTIFICATE($_id:ID,$certificate_name:String){\n        update_certificate(_id:$_id,certificate_name:$certificate_name){\n            info\n        }\n    }\n"]))),Pe=Object(re.a)(v||(v=Object(ne.a)(["\n query CERTIFICATE {\n    certificate {\n        certificate_name\n            _id\n    }\n}\n"]))),Te=Object(re.a)(E||(E=Object(ne.a)(["\n query GETCERTIFICATE($limit: Int,$page:Int) {\n    get_certificate(limit:$limit,page:$page) {\n        pageInfo{\n      totalDocs\n    }\n    data{\n        certificate_name\n            _id\n    }\n    }\n}\n"]))),Ae=Object(re.a)(k||(k=Object(ne.a)(["\nquery FINDCERTIFICATE($_id:ID) {\n    certificate(_id:$_id) {\n        _id\n        certificate_name\n        \n    }\n}\n"]))),Fe=Object(re.a)(w||(w=Object(ne.a)(["\n    mutation DELETECERTIFICATE($_id: ID)  {\n    deleteCertificate(_id:$_id){\n        msg   \n        status      \n    }\n}"]))),ze=l.a.Content,Re=we.a.Title,qe=je.a.Option,Ue=o.a.lazy((function(){return a.e(10).then(a.bind(null,2083))})),Le=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).fetch_certificate=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.query({query:Pe,variables:{is_parent:!0},fetchPolicy:"no-cache"}).then((function(e){n.setState({certificate:e.data.certificate})}));case 2:case"end":return e.stop()}}),e)}))),n.fetch_find_subcategory=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.query({query:se,variables:{_id:n.props.match.params.id},fetchPolicy:"no-cache"}).then((function(e){var t;console.log(e),n.setState({update:1,update_data:e.data.category[0],certificate:e.data.category[0].Certificate,imageUrl:e.data.category[0].img_url,is_parent:e.data.category[0].is_parent,price_type:(null===(t=e.data.category[0])||void 0===t?void 0:t.price_type)||"job"})}));case 2:case"end":return e.stop()}}),e)}))),n.normFile=function(e){return Array.isArray(e)?e:e&&e.fileList},n.getBase64=function(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)},n.beforeUpload=function(e){var t="image/jpeg"===e.type||"image/png"===e.type;console.log("Add_Category -> beforeUpload -> isJpgOrPng",t),t||Oe.a.error("You can only upload JPG/PNG file!");var a=e.size/1024/1024<2;return a||Oe.a.error("Image must smaller than 2MB!"),t&&a},n.handleChange=function(e){console.log("Add_Category -> info",e),"uploading"!==e.file.status?e.file.status&&(console.log(e.file.originFileObj),n.setState({file:e.file.originFileObj}),n.getBase64(e.file.originFileObj,(function(e){return n.setState({imageUrl:e,loading:!1})}))):n.setState({loading:!0})},n.add_category=function(){var e=n.props,t=e.form,a=e.history;t.validateFields(function(){var e=Object(H.a)(J.a.mark((function e(t,r){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return e.next=3,A.a.mutate({mutation:oe,variables:{base_price:r.base_price,hour_limit:r.hour_limit,hour_price:r.hour_price,service_fee:r.service_fee,certificates:r.certificates,category_name:r.category_name,description:r.description,file:n.state.file,is_parent:n.state.is_parent,price_type:n.state.price_type,day_price:r.day_price,day_limit:r.day_limit}}).then((function(e,t,n){Object(ue.a)(e.data.addCategory.info),"success"===e.data.addCategory.info.status&&a.push("/admin-category")}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())},n.update_category=function(){var e=n.props,t=e.form,a=e.history;t.validateFields(function(){var e=Object(H.a)(J.a.mark((function e(t,r){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return e.next=3,A.a.mutate({mutation:ie,variables:{base_price:r.base_price,hour_limit:r.hour_limit,hour_price:r.hour_price,service_fee:r.service_fee,certificates:r.certificates,category_id:r.category_name,description:r.description,file:n.state.file,_id:n.props.match.params.id,is_parent:n.state.is_parent,price_type:n.state.price_type,day_price:r.day_price,day_limit:r.day_limit}}).then((function(e,t,n){Object(ue.a)(e.data.updateCategory.info),"success"===e.data.updateCategory.info.status&&a.push("/admin-category")}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())},n.onPriceTypeChange=function(e){n.setState({price_type:e.target.value})},n.state={modalVisible:!1,dataSource:[],loading:!1,imageUrl:"",update:0,update_data:{},file:{},previewVisible:!1,previewImage:"",pagination:{pageSize:5,current:1,total:0,simple:!0},selectedItems:[],category:[],certificate:[],is_parent:!0,price_type:"job"},n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.props.form.resetFields(),this.setState({imageUrl:""}),console.log(this.props.match.params.id),this.fetch_certificate(),void 0!==this.props.match.params.id&&this.fetch_find_subcategory()}},{key:"render",value:function(){var e=this,t=this.props.form,a=this.state.imageUrl,n=o.a.createElement("div",null,o.a.createElement(X.a,{type:this.state.loading?"loading":"plus"}),o.a.createElement("div",{className:"ant-upload-text"},"Upload"));return console.log(this.state.update_data.subCategory_name),o.a.createElement(l.a,{style:{height:"100vh"}},o.a.createElement(B.default,{update_collapsed:this.state.collapsed}),o.a.createElement(l.a,null,o.a.createElement(V.default,null),o.a.createElement(ze,{className:"main_frame"},o.a.createElement(Se.a,{gutter:[24,24]},o.a.createElement(Ne.a,{span:24},o.a.createElement(Re,{level:3},"Add Category"))),o.a.createElement(Se.a,null,o.a.createElement(ae.a,null,o.a.createElement(Ne.a,{md:18,sm:24},o.a.createElement(Se.a,{gutter:12},o.a.createElement(Ne.a,{md:20,sm:24},o.a.createElement(ae.a.Item,{label:"Category Name"},t.getFieldDecorator("category_name",{initialValue:this.state.update_data.category_name,rules:[{required:!0}]})(o.a.createElement(xe.a,{name:"Category Name"})))),o.a.createElement(Ne.a,{md:4,sm:24},o.a.createElement(ae.a.Item,{label:"Is Parent"},t.getFieldDecorator("is_parent",{initialValue:this.state.update_data.is_parent})(o.a.createElement(Ce.a,{checked:this.state.is_parent,onChange:function(t){e.setState({is_parent:t.target.checked})}},"Is Parent"))))),!this.state.is_parent&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{label:"Description"},t.getFieldDecorator("description",{initialValue:this.state.update_data.description,rules:[{required:!0}]})(o.a.createElement(xe.a.TextArea,{placeholder:"Description"})))))),o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{label:"Certificates"},t.getFieldDecorator("certificates",{initialValue:this.state.update_data.certificates,rules:this.state.is_parent?[{required:!1}]:[{required:!0}]})(o.a.createElement(je.a,{mode:"tags",style:{width:"100%"},placeholder:"Certificate",onChange:function(e){console.log(e)}},this.state.certificate.map((function(e){return o.a.createElement(qe,{key:e._id},e.certificate_name)}))))))),o.a.createElement(Se.a,{className:"py-3",gutter:12},o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{className:"float-right"},o.a.createElement(be.a,{type:"primary",htmlType:"submit",className:"mx-3",onClick:function(){e.props.history.push("/admin-category")}},"Cancel"),o.a.createElement(be.a,{type:"primary",className:this.state.update?"d-none":"",htmlType:"submit",onClick:this.add_category},"Submit"),o.a.createElement(be.a,{type:"primary",className:this.state.update?"":"d-none",htmlType:"submit",onClick:this.update_category},"Update"))))),o.a.createElement(Ne.a,{md:6,sm:24},o.a.createElement(ae.a.Item,{label:"Image"},t.getFieldDecorator("file",{rules:""===a?[{required:!0}]:[{required:!1}],valuePropName:"fileList",getValueFromEvent:this.normFile})(o.a.createElement(Ie.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader img_upload_lg",showUploadList:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",beforeUpload:this.beforeUpload,onChange:this.handleChange},a?o.a.createElement("img",{src:a,alt:"avatar",style:{width:"100%"}}):n)))))),!this.state.is_parent&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Se.a,{className:"jumbotron p-1"},o.a.createElement(Ne.a,null,o.a.createElement(r.Suspense,{fallback:o.a.createElement("div",null,".......")},o.a.createElement(Ue,{id:this.props.match.params.id}))))))))}}]),a}(o.a.Component),Me=ae.a.create()(Object(d.withRouter)(Le)),Be=a(137),Ve=o.a.lazy((function(){return a.e(25).then(a.bind(null,2084))})),Ge=o.a.lazy((function(){return a.e(2).then(a.bind(null,2085))})),Je=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).fetch_subCategory=function(){var e=Object(H.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),{},a={limit:n.state.pagination.pageSize,page:n.state.pagination.current,data:t},e.next=5,A.a.query({query:Be.f,variables:a,fetchPolicy:"no-cache"}).then((function(e){var t=Object(Y.a)({},n.state.pagination);t.total=e.data.get_subcategory.pageInfo.totalDocs,n.setState({loading:!1,pagination:t,dataSource:e.data.get_subcategory.data})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleTableChange=function(){var e=Object(H.a)(J.a.mark((function e(t){var a,r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=Object(Y.a)({},t)).current=t.current,console.log(a.current),n.setState({loading:!0}),r={data:n.state.input_data,limit:a.pageSize,page:a.current},e.next=7,A.a.query({query:Be.f,variables:r,fetchPolicy:"no-cache"}).then((function(e){var t=Object(Y.a)({},n.state.pagination);t.total=e.data.get_subcategory.pageInfo.totalDocs,t.current=e.data.get_subcategory.pageInfo.page,n.setState({pagination:t,loading:!1,dataSource:e.data.get_subcategory.data})}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.change_future=function(){var e=Object(H.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.mutate({mutation:Be.j,variables:t,refetchQueries:[{query:Be.f}],awaitRefetchQueries:!0}).then((function(e,t,a){Object(ue.a)(e.data.updatesubCategory.info),n.fetch_subCategory()}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleDelete=function(){var e=Object(H.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,A.a.mutate({mutation:Be.c,variables:{_id:t}}).then((function(e,t,a){Object(ue.a)(e.data.deletesubCategory),"success"===e.data.deletesubCategory.status&&n.fetch_subCategory()}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onFilter=function(){var e=Object(H.a)(J.a.mark((function e(t){var a,r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(Object.keys(t)[0]),""===t[Object.keys(t)[0]]?(delete n.state.input_data[Object.keys(t)[0]],a=n.state.input_data,n.setState({input_data:a}),n.fetch_subCategory(a)):(n.setState({input_data:Object(Y.a)(Object(Y.a)({},n.state.input_data),t)}),r=Object(Y.a)(Object(Y.a)({},n.state.input_data),t),n.fetch_subCategory(r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={modalVisible:!1,dataSource:[],loading:!1,imageUrl:"",file:{},input_data:{},previewVisible:!1,previewImage:"",view_img:"",pagination:{pageSize:10,current:1,total:0,simple:!0}},n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.fetch_subCategory()}},{key:"render",value:function(){var e=this,t=[{title:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"d-block"},o.a.createElement(o.a.Fragment,null,o.a.createElement(r.Suspense,{fallback:o.a.createElement("div",null,".......")},o.a.createElement(Ve,{value:"category_name",placeholder:"Enter Category",passedFunction:e.onFilter})))))},width:"20%",render:function(e,t){return o.a.createElement("span",{title:"Category Name"},t.category[0]?t.category[0].category_name:"")}},{title:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"d-block"},o.a.createElement(o.a.Fragment,null,o.a.createElement(r.Suspense,{fallback:o.a.createElement("div",null,".......")},o.a.createElement(Ge,{value:"subCategory_name",id:"_id",placeholder:"Enter Sub Category",passedFunction:e.onFilter})))))},dataIndex:"category_name",render:function(e,t){return o.a.createElement("span",{title:"Sub Category Name"},t.subCategory_name)}},{title:"Limit(Per Job)",dataIndex:"",width:"5%",render:function(e,t){return o.a.createElement("span",{title:"Hour Limit"},t.hour_limit)}},{title:"Basic Price",width:"10%",render:function(e,t){return o.a.createElement("span",{title:"Basic Price'"},t.base_price)}},{title:"Price(Per Day Price)",dataIndex:"",width:"10%",render:function(e,t){return o.a.createElement("span",{title:"Hours Price"},null===t||void 0===t?void 0:t.day_price)}},{title:"Service Fee",width:"10%",render:function(e,t){return o.a.createElement("span",{title:"Service Fee",className:"d-flex align-items-center"},t.service_fee,o.a.createElement(X.a,{className:"px-2",type:"percentage"}))}},{title:o.a.createElement("span",null,"Block"),width:"10%",render:function(t,a){return o.a.createElement("span",{title:"Block"},o.a.createElement(K.a,{checkedChildren:"Show",unCheckedChildren:"Hide",checked:a.is_block,onChange:function(t){e.change_future({is_block:t,_id:a._id})}}))}},{title:o.a.createElement("span",null,"Featured"),width:"5",render:function(t,a){return o.a.createElement("span",{title:"Future"},o.a.createElement(K.a,{checkedChildren:"Show",unCheckedChildren:"Hide",checked:a.is_future,onChange:function(t){e.change_future({is_future:t,_id:a._id})}}))}},{title:"Image",width:"5%",render:function(t,a){console.log(a.img_url);var n=e.state.previewVisible;return o.a.createElement("span",{title:"Image",className:"clearfix"},o.a.createElement(Q.a,{src:a.img_url,className:"img_zoom",onClick:function(){e.setState({previewVisible:!0,view_img:a.img_url})}}),o.a.createElement(Z.a,{visible:n,footer:null,onCancel:function(){e.setState({previewVisible:!1})}},o.a.createElement("img",{alt:"example",style:{width:"100%"},src:e.state.view_img})))}},{title:"Action",width:"7%",dataIndex:"operation",className:Object(R.a)("edit_subcatgeory")||Object(R.a)("delete_subcatgeory")?"":"d-none",render:function(t,a){return e.state.dataSource.length>=1?o.a.createElement("span",{title:"....",className:"d-inline d-md-flex justify-content-around"},o.a.createElement(R.b,{permission:"edit_subcatgeory"},o.a.createElement("span",{className:"cursor-point",onClick:function(){e.props.history.push("/admin-subcategory/add/".concat(a._id))}},o.a.createElement(X.a,{type:"edit",theme:"twoTone",twoToneColor:"#52c41a",className:"mx-3 f_25"}))),o.a.createElement(R.b,{permission:"delete_subcatgeory"},o.a.createElement(ee.a,{title:"Sure to delete because may be under some more bookings ?",onConfirm:function(){return e.handleDelete(a._id)}},o.a.createElement(X.a,{type:"delete",theme:"twoTone",twoToneColor:"#52c41a",className:"f_25"})))):null}}],a=this.state.dataSource;return o.a.createElement("div",null,o.a.createElement(R.b,{permission:"add_subcatgeory"},o.a.createElement("div",{className:"my-3"},o.a.createElement(be.a,{type:"primary",onClick:function(){e.props.history.push("/admin-subcategory/add")}},"Add Sub Category"))),o.a.createElement("div",{id:"no-more-tables"},o.a.createElement(te.a,{rowClassName:function(){return"editable-row"},className:"table_shadow",dataSource:a,columns:t,size:"middle",pagination:this.state.pagination,onChange:this.handleTableChange,loading:this.state.loading})))}}]),a}(o.a.Component),Ye=ae.a.create()(Object(d.withRouter)(Je)),He=l.a.Content,Ke=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(){var e;Object(q.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={collapsed:!1},e.onToggle=function(t){console.log(t),e.setState({collapsed:t})},e}return Object(U.a)(a,[{key:"render",value:function(){return o.a.createElement(l.a,{style:{height:"100vh"}},o.a.createElement(B.default,{update_collapsed:this.state.collapsed}),o.a.createElement(l.a,null,o.a.createElement(V.default,null),o.a.createElement(He,{className:"main_frame"},o.a.createElement(Ye,null))))}}]),a}(o.a.Component),We=a(258),Qe=l.a.Content,Ze=we.a.Title,Xe=je.a.Option,et=o.a.lazy((function(){return a.e(10).then(a.bind(null,2083))})),tt=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).fetch_category=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.query({query:Be.b,variables:{is_parent:!0},fetchPolicy:"no-cache"}).then((function(e){var t;n.setState({category:e.data.category,certificate:null===(t=e.data.category[0])||void 0===t?void 0:t.Certificate})}));case 2:case"end":return e.stop()}}),e)}))),n.fetch_find_subcategory=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),e.next=3,A.a.query({query:Be.d,variables:{_id:n.props.match.params.id},fetchPolicy:"no-cache"}).then((function(e){console.log(e),n.setState({update:1,loading:!1,update_data:e.data.sub_category[0],certificate:e.data.sub_category[0].Certificate,imageUrl:e.data.sub_category[0].img_url,price_type:e.data.sub_category[0].price_type||"job"})}));case 3:case"end":return e.stop()}}),e)}))),n.normFile=function(e){return Array.isArray(e)?e:e&&e.fileList},n.getBase64=function(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)},n.beforeUpload=function(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||Oe.a.error("You can only upload JPG/PNG file!");var a=e.size/1024/1024<2;return a||Oe.a.error("Image must smaller than 2MB!"),t&&a},n.handleChange=function(e){"uploading"!==e.file.status?e.file.status&&(console.log(e.file.originFileObj),n.setState({file:e.file.originFileObj}),n.getBase64(e.file.originFileObj,(function(e){return n.setState({imageUrl:e,loading:!1})}))):n.setState({loading:!0})},n.add_subcategory=function(){var e=n.props,t=e.form,a=e.history;t.validateFields(function(){var e=Object(H.a)(J.a.mark((function e(t,r){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return e.next=3,A.a.mutate({mutation:Be.a,variables:{subCategory_name:r.subCategory_name,base_price:r.base_price,hour_limit:r.hour_limit,hour_price:r.hour_price,service_fee:String(r.service_fee),certificates:r.certificates,category_id:r.category_name,description:r.description,file:n.state.file,price_type:n.state.price_type,day_price:r.day_price,day_limit:r.day_limi}}).then((function(e,t,n){Object(ue.a)(e.data.addsubCategory.info),"success"===e.data.addsubCategory.info.status&&a.push("/admin-subcategory")}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())},n.update_subcategory=function(){var e=n.props,t=e.form,a=e.history;t.validateFields(function(){var e=Object(H.a)(J.a.mark((function e(t,r){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return e.next=3,A.a.mutate({mutation:Be.j,variables:{subCategory_name:r.subCategory_name,base_price:r.base_price,hour_limit:r.hour_limit,hour_price:r.hour_price,service_fee:String(r.service_fee),certificates:r.certificates,category_id:r.category_name,description:r.description,file:n.state.file,_id:n.props.match.params.id,price_type:n.state.price_type,day_price:r.day_price,day_limit:r.day_limit}}).then((function(e,t,n){Object(ue.a)(e.data.updatesubCategory.info),"success"===e.data.updatesubCategory.info.status&&a.push("/admin-subcategory")}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())},n.onPriceTypeChange=function(e){n.setState({price_type:e.target.value})},n.state={modalVisible:!1,dataSource:[],loading:!1,imageUrl:"",update:0,update_data:{},file:{},previewVisible:!1,previewImage:"",pagination:{pageSize:5,current:1,total:0,simple:!0},selectedItems:[],category:[],certificate:[],price_type:"job"},n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.props.form.resetFields(),this.setState({imageUrl:""}),this.fetch_category(),console.log(this.props.match.params.id),void 0!==this.props.match.params.id&&this.fetch_find_subcategory()}},{key:"render",value:function(){var e=this,t=this.props.form,a=this.state.imageUrl,n=o.a.createElement("div",null,o.a.createElement(X.a,{type:this.state.loading?"loading":"plus"}),o.a.createElement("div",{className:"ant-upload-text"},"Upload"));return o.a.createElement(l.a,{style:{height:"100vh"}},o.a.createElement(B.default,{update_collapsed:this.state.collapsed}),o.a.createElement(l.a,null,o.a.createElement(V.default,null),o.a.createElement(Qe,{className:"main_frame"},o.a.createElement(We.a,{spinning:this.state.loading},o.a.createElement(Se.a,{gutter:[24,24]},o.a.createElement(Ne.a,{span:24},o.a.createElement(Ze,{level:3},"Add Sub Category"))),o.a.createElement(Se.a,null,o.a.createElement(ae.a,null,o.a.createElement(Ne.a,{md:18,sm:24},o.a.createElement(Se.a,{gutter:12},o.a.createElement(Ne.a,{span:12},o.a.createElement(ae.a.Item,{label:"Category Name"},t.getFieldDecorator("category_name",{initialValue:this.state.update_data.category_id,rules:[{required:!0}]})(o.a.createElement(je.a,{style:{width:"-webkit-fill-available"}},this.state.category.map((function(e){return o.a.createElement(Xe,{key:e._id},e.category_name)})))))),o.a.createElement(Ne.a,{span:12},o.a.createElement(ae.a.Item,{label:"Sub Category Name"},t.getFieldDecorator("subCategory_name",{initialValue:this.state.update_data.subCategory_name,rules:[{required:!0}]})(o.a.createElement(xe.a,{name:"Sub Category"}))))),o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{label:"Description"},t.getFieldDecorator("description",{initialValue:this.state.update_data.description,rules:[{required:!0}]})(o.a.createElement(xe.a.TextArea,{placeholder:"Description"}))))),o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{label:"Contract Service Fee"},t.getFieldDecorator("service_fee",{initialValue:this.state.update_data.service_fee,rules:[{required:!0}]})(o.a.createElement(xe.a,{type:"number",className:"w-50",min:0,max:100,addonAfter:"%"})))),o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{className:"float-right"},o.a.createElement(be.a,{type:"primary",htmlType:"submit",className:"mx-3",onClick:function(){e.props.history.push("/admin-subcategory")}},"Cancel"),o.a.createElement(be.a,{type:"primary",className:this.state.update?"d-none":"",htmlType:"submit",onClick:this.add_subcategory},"Submit"),o.a.createElement(be.a,{type:"primary",className:this.state.update?"":"d-none",htmlType:"submit",onClick:this.update_subcategory},"Update"))))),o.a.createElement(Ne.a,{md:6,sm:24},o.a.createElement(ae.a.Item,{label:"Image"},t.getFieldDecorator("file",{rules:""===a?[{required:!0}]:[{required:!1}],valuePropName:"fileList",getValueFromEvent:this.normFile})(o.a.createElement(Ie.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader img_upload_lg",showUploadList:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",beforeUpload:this.beforeUpload,onChange:this.handleChange},a?o.a.createElement("img",{src:a,alt:"avatar",style:{width:"100%"}}):n)))))),o.a.createElement(Se.a,{className:"jumbotron p-1"},o.a.createElement(Ne.a,null,o.a.createElement(r.Suspense,{fallback:o.a.createElement("div",null,".......")},o.a.createElement(et,{id:this.props.match.params.id}))))))))}}]),a}(o.a.Component),at=ae.a.create()(Object(d.withRouter)(tt)),nt=(Object(re.a)(j||(j=Object(ne.a)(["\n    mutation ADDUSER($role:Int,$country_code:String,$phone_no:String,$email:String,$password:String,$name:String,$provider_subCategoryID:[ID],$lat:Float,$lng:Float,$address:String) {\n        admin_add_user(role:$role,country_code:$country_code,phone_no:$phone_no,email:$email,password:$password,name:$name,provider_subCategoryID:$provider_subCategoryID,lat:$lat,lng:$lng,address:$address){\n            info\n        }\n    }\n"]))),Object(re.a)(O||(O=Object(ne.a)(["\n    mutation UPDATEUSER($_id:ID,$role:Int,$country_code:String,$phone_no:String,$email:String,$password:String,$name:String,$provider_subCategoryID:[ID],$lat:Float,$lng:Float,$address:String) {\n        admin_update_user(_id:$_id,role:$role,country_code:$country_code,phone_no:$phone_no,email:$email,password:$password,name:$name,provider_subCategoryID:$provider_subCategoryID,lat:$lat,lng:$lng,address:$address){\n            info\n        }\n    }\n"]))),Object(re.a)(S||(S=Object(ne.a)(["\n query GETBOOKING($limit: Int,$page:Int,$booking_status:[Int],$payment_status:[Int],$user_id:ID,$provider_id:ID,$booking_date:JSON,$category_id:ID,$booking_ref:JSON) {\n    get_booking(limit:$limit,page:$page,booking_status:$booking_status,payment_status:$payment_status,user_id:$user_id,provider_id:$provider_id,booking_date:$booking_date,category_id:$category_id,booking_ref:$booking_ref) {\n        pageInfo {\n            totalDocs\n            page\n        }\n        data {\n          _id\n            description\n            category_type\n            status\n            booking_date\n            booking_ref\n            booking_status\n            booking_provider {\n                name\n            }\n            booking_category {\n                category_name\n                subCategory_name\n                category_type\n                booking_parent_category {\n                    category_name\n                }\n            }\n            booking_user {\n                name\n            }\n        }\n    }\n}\n"])))),rt=Object(re.a)(N||(N=Object(ne.a)(["\n query GETPROVIDERBOOKING($limit: Int,$page:Int,$booking_status:[Int],$payment_status:[Int],$provider_id:ID) {\n    get_booking(limit:$limit,page:$page,booking_status:$booking_status,payment_status:$payment_status,provider_id:$provider_id) {\n        pageInfo {\n            totalDocs\n            page\n        }\n        data {\n          _id\n            description\n            category_type\n            status\n            booking_date\n            booking_status\n            booking_provider {\n                name\n            }\n            booking_category {\n                category_name\n                subCategory_name\n                category_type\n                booking_parent_category {\n                    category_name\n                }\n            }\n            booking_user {\n                name\n            }\n        }\n    }\n}\n"]))),ot=(Object(re.a)(x||(x=Object(ne.a)(["\n    mutation DELETECERTIFICATE($_id: ID)  {\n    deletecertificate(_id:$_id){\n        msg         \n    }\n}"]))),Object(re.a)(C||(C=Object(ne.a)(["\n\nquery FINDUSER($_id:ID) {\n    user(_id:$_id) {\n        _id\n        country_code\n        phone_no\n        demo\n        email\n        name\n        address\n        location\n        password\n        provider_subCategoryID\n        provider_document_url\n        proof_status\n    }\n}\n"]))),Object(re.a)(I||(I=Object(ne.a)(["\nmutation PROVIDERDOCUMENTVERIFIED($_id:ID,$proof_status:String) {\n    provider_document_verified(_id:$_id,proof_status:$proof_status) {\n        info\n        provider_document_url\n        proof_status\n    }\n}\n"]))),Object(re.a)($||($=Object(ne.a)(["\nquery GETPAYOUT($provider_id:ID,$option:Int,$booking_status:Int,$limit:Int,$page:Int){\n    get_payout(\n      provider_id: $provider_id\n      option: $option\n      booking_status: $booking_status\n      limit: $limit\n      page: $page\n    ) {\n      pageInfo {\n        totalDocs\n        page\n        total_amount\n      }\n      data {\n        _id\n        booking_ref\n        category_type\n        provider_fee\n        booking_category {\n          category_name\n          subCategory_name\n          category_type\n        }\n\n      }\n    }\n}"]))),Object(re.a)(D||(D=Object(ne.a)(["\n  query GETALLPAYOUT ($limit:Int,$page:Int,$provider_id:ID){\n    get_all_payout(limit:$limit,page:$page,provider_id:$provider_id) {\n      pageInfo {\n        totalDocs\n        page\n      }\n  \n      data {\n        _id\n        total_amount\n        find_payout_provider {\n          name\n        }\n      }\n    }\n  }\n"])))),it=Object(re.a)(P||(P=Object(ne.a)(["\n  query GETPAYOUTDETAIL ($data:JSON){\n    get_payout_detail(data:$data) {\n            _id\n        amount\n        provider_id\n        booking_provider{\n          name\n          account_no\n          bank_name\n          ifsc_code\n          kra_pin\n          payout_phone\n          payout_frist_name\n          payout_second_name\n          payout_id\n          payout_option\n          account_name\n          routing_name\n          branch_name\n        }\n        find_payout_booking{\n\t\t    booking_ref\t\n            booking_category {\n                category_name\n                category_type\n                subCategory_name\n                description\n                _id\n                base_price\n                hour_price\n                hour_limit\n                img_url\n                booking_parent_category {\n                category_name\n                category_name\n                }\n            }\n        }\n    }\n}\n"]))),ct=Object(re.a)(T||(T=Object(ne.a)(["\nmutation ADMINTOPROVIDER($provider_id:ID,$booking_status:Int,$status:Int) {\n  pay_admin_to_provider(provider_id:$provider_id,booking_status:$booking_status,status:$status) {\n        msg\n        status\n    }\n}\n"]))),lt=o.a.lazy((function(){return a.e(1).then(a.bind(null,2086))})),st=o.a.lazy((function(){return Promise.all([a.e(5),a.e(4)]).then(a.bind(null,2087))})),dt=o.a.lazy((function(){return a.e(2).then(a.bind(null,2085))})),ut=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).fetch_booking=function(){var e=Object(H.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:1}),e.next=3,A.a.query({query:nt,variables:t,fetchPolicy:"no-cache"}).then((function(e){var t=Object(Y.a)({},n.state.pagination);t.total=e.data.get_booking.pageInfo.totalDocs,n.setState({loading:0,pagination:t,dataSource:e.data.get_booking.data})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleTableChange=function(){var e=Object(H.a)(J.a.mark((function e(t){var a,r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=Object(Y.a)({},t)).current=t.current,n.setState({loading:1}),r=Object(Y.a)(Object(Y.a)({},n.state.input_data),{},{limit:a.pageSize,page:a.current,booking_status:[13,10]}),e.next=6,A.a.query({query:nt,variables:r,fetchPolicy:"no-cache"}).then((function(e){var t=Object(Y.a)({},n.state.pagination);t.total=e.data.get_booking.pageInfo.totalDocs,t.current=e.data.get_booking.pageInfo.page,n.setState({pagination:t,loading:0,dataSource:e.data.get_booking.data})}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onFilter=function(){var e=Object(H.a)(J.a.mark((function e(t){var a,r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(Object.keys(t)[0]),""==t[Object.keys(t)[0]]?(delete n.state.input_data[Object.keys(t)[0]],a=n.state.input_data,n.setState({input_data:a}),n.fetch_booking(Object(Y.a)(Object(Y.a)({},a),{},{limit:10,page:1,booking_status:[13,10]}))):(n.setState({input_data:Object(Y.a)(Object(Y.a)({},n.state.input_data),t)}),r=Object(Y.a)(Object(Y.a)({},n.state.input_data),t),n.fetch_booking(Object(Y.a)(Object(Y.a)({},r),{},{limit:10,page:1,booking_status:[13,10]})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onFilter_Ref=function(){var e=Object(H.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.value?n.fetch_booking({booking_ref:{$regex:".*"+t.target.value+".*",$options:"i"},limit:10,page:1}):n.fetch_booking({limit:10,page:1,booking_status:[13,10]});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={modalVisible:!1,dataSource:[],update_data:{},update:0,loading:0,loading_img:!1,imageUrl:"",file:{},input_data:{},previewVisible:!1,previewImage:"",pagination:{pageSize:10,current:1,total:0,simple:!0}},n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.fetch_booking({limit:this.state.pagination.pageSize,page:this.state.pagination.current,booking_status:[13,10]})}},{key:"render",value:function(){var e=this,t=[{title:function(){return o.a.createElement("div",null,"Booking Ref")},width:"8%",editable:!0,render:function(e,t){return o.a.createElement("span",{title:"User"},null===t||void 0===t?void 0:t.booking_ref)}},{title:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"d-block"},o.a.createElement(o.a.Fragment,null,o.a.createElement(r.Suspense,{fallback:o.a.createElement("div",null,".......")},o.a.createElement(lt,{role:1,value:"name",placeholder:"Enter User",passedFunction:e.onFilter})))))},width:"15%",editable:!0,render:function(e,t){return o.a.createElement("span",{title:"User"},t.booking_user[0]?t.booking_user[0].name:"")}},{title:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"d-block"},o.a.createElement(o.a.Fragment,null,o.a.createElement(r.Suspense,{fallback:o.a.createElement("div",null,".......")},o.a.createElement(lt,{role:2,value:"name",placeholder:"Enter Provider",passedFunction:e.onFilter})))))},width:"15%",editable:!0,render:function(e,t){return o.a.createElement("span",{title:"Provider"},t.booking_provider[0]?t.booking_provider[0].name:"Not Assign")}},{title:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"d-block"},o.a.createElement(o.a.Fragment,null,o.a.createElement(r.Suspense,{fallback:o.a.createElement("div",null,".......")},o.a.createElement(dt,{value:"subCategory_name",id:"category_id",placeholder:"Enter Sub Category",passedFunction:e.onFilter})))))},width:"15%",editable:!0,render:function(e,t){return o.a.createElement("span",{title:"Sub Category"},t.booking_category[0]&&t.booking_category[0].subCategory_name?t.booking_category[0].subCategory_name:"Main Category")}},{title:function(){return o.a.createElement("div",null,"Category")},width:"15%",editable:!0,render:function(e,t){return"2"===t.category_type?o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{title:"Category"},t.booking_category[0]&&t.booking_category[0].booking_parent_category[0]?t.booking_category[0].booking_parent_category[0].category_name:"")):o.a.createElement("span",{title:"Category"},t.booking_category[0]?t.booking_category[0].category_name:"")}},{title:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"d-block"},o.a.createElement(o.a.Fragment,null,o.a.createElement(r.Suspense,{fallback:o.a.createElement("div",null,".......")},o.a.createElement(st,{role:"1",value:"boo",placeholder:"Enter Booking Date",passedFunction:e.onFilter})))))},width:"15%",editable:!0,render:function(e,t){return o.a.createElement("span",{title:"Booked",style:{wordBreak:"keep-all"}},t.booking_date)}},{title:"Status",width:"15%",editable:!0,render:function(e,t){return 14===t.booking_status?o.a.createElement("span",{title:"Status"}," ",o.a.createElement(W.a,{color:"cyan"},"Completed")," "):13===t.booking_status?o.a.createElement("span",{title:"Status"}," ",o.a.createElement(W.a,{color:"cyan"},"End")," "):10===t.booking_status?o.a.createElement("span",{title:"Status"}," ",o.a.createElement(W.a,{color:"cyan"},"User Accept")," "):8===t.booking_status?o.a.createElement("span",{title:"Status"}," ",o.a.createElement(W.a,{color:"cyan"},"Provider Cancel")," "):11===t.booking_status?o.a.createElement("span",{title:"Status"}," ",o.a.createElement(W.a,{color:"cyan"},"User Cancel")," "):void 0}},{title:"Action",dataIndex:"operation",className:Object(R.a)("view_booking_detail")?"":"d-none",render:function(t,a){return e.state.dataSource.length>=1?o.a.createElement("span",{title:"....",className:"d-inline d-md-flex justify-content-around"},o.a.createElement(R.b,{permission:"view_booking_detail"},o.a.createElement("span",{className:"cursor_point",onClick:function(){e.props.history.push({pathname:"/admin-booking-detail",state:{_id:a._id}})}},o.a.createElement(X.a,{type:"eye",theme:"twoTone",twoToneColor:"#52c41a",className:"f_25"})))):null}}],a=this.state.dataSource;return o.a.createElement(o.a.Fragment,null,o.a.createElement(pe.a,{prefix:"#",className:"mb-3",size:"large",placeholder:"Search Booking Ref",onKeyUp:function(t){e.onFilter_Ref(t)},loading:!1}),o.a.createElement("div",{id:"no-more-tables"},o.a.createElement(te.a,{rowClassName:function(){return"editable-row"},className:"table_shadow",dataSource:a,columns:t,size:"middle",pagination:this.state.pagination,onChange:this.handleTableChange,loading:!!this.state.loading})))}}]),a}(o.a.Component),mt=ae.a.create()(Object(d.withRouter)(ut)),pt=o.a.lazy((function(){return a.e(1).then(a.bind(null,2086))})),gt=o.a.lazy((function(){return Promise.all([a.e(5),a.e(4)]).then(a.bind(null,2087))})),_t=o.a.lazy((function(){return a.e(2).then(a.bind(null,2085))})),ft=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).handleTableChange=function(){var e=Object(H.a)(J.a.mark((function e(t){var a,r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=Object(Y.a)({},t)).current=t.current,n.setState({loading:!0}),r=Object(Y.a)(Object(Y.a)({},n.state.input_data),{},{limit:a.pageSize,page:a.current,booking_status:[8,11],payment_status:[1,2,3,4,6]}),e.next=6,A.a.query({query:nt,variables:r,fetchPolicy:"no-cache"}).then((function(e){console.log(e.data);var t=Object(Y.a)({},n.state.pagination);t.total=e.data.get_booking.pageInfo.totalDocs,t.current=e.data.get_booking.pageInfo.page,console.log(t),n.setState({pagination:t,loading:!1,dataSource:e.data.get_booking.data})}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.fetch_booking=function(){var e=Object(H.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),e.next=3,A.a.query({query:nt,variables:t,fetchPolicy:"no-cache"}).then((function(e){var t=Object(Y.a)({},n.state.pagination);t.total=e.data.get_booking.pageInfo.totalDocs,n.setState({loading:!1,pagination:t,dataSource:e.data.get_booking.data})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onFilter=function(){var e=Object(H.a)(J.a.mark((function e(t){var a,r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(Object.keys(t)[0]),""===t[Object.keys(t)[0]]?(delete n.state.input_data[Object.keys(t)[0]],a=n.state.input_data,n.setState({input_data:a}),n.fetch_booking(Object(Y.a)(Object(Y.a)({},a),{},{limit:10,page:1,booking_status:[8,11],payment_status:[1,2,3,4,6]}))):(n.setState({input_data:Object(Y.a)(Object(Y.a)({},n.state.input_data),t)}),r=Object(Y.a)(Object(Y.a)({},n.state.input_data),t),n.fetch_booking(Object(Y.a)(Object(Y.a)({},r),{},{limit:10,page:1,booking_status:[8,11],payment_status:[1,2,3,4,6]})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onFilter_Ref=function(){var e=Object(H.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.value?n.fetch_booking({booking_ref:{$regex:".*"+t.target.value+".*",$options:"i"},limit:10,page:1}):n.fetch_booking({limit:10,page:1,booking_status:[8,11],payment_status:[1,2,3,4,6]});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={modalVisible:!1,dataSource:[],update_data:{},update:0,loading:!0,loading_img:!1,imageUrl:"",input_data:{},file:{},previewVisible:!1,previewImage:"",pagination:{pageSize:10,current:1,total:0,simple:!0}},n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.fetch_booking({limit:this.state.pagination.pageSize,page:this.state.pagination.current,booking_status:[8,11],payment_status:[1,2,3,4,6]})}},{key:"render",value:function(){var e=this,t=[{title:function(){return o.a.createElement("div",null,"Booking Ref")},width:"8%",editable:!0,render:function(e,t){return o.a.createElement("span",{title:"User"},null===t||void 0===t?void 0:t.booking_ref)}},{title:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"d-block"},o.a.createElement(o.a.Fragment,null,o.a.createElement(r.Suspense,{fallback:o.a.createElement("div",null,".......")},o.a.createElement(pt,{role:1,value:"name",placeholder:"Enter User",passedFunction:e.onFilter})))))},width:"15%",editable:!0,render:function(e,t){return o.a.createElement("span",{title:"User"},t.booking_user[0]?t.booking_user[0].name:"")}},{title:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"d-block"},o.a.createElement(o.a.Fragment,null,o.a.createElement(r.Suspense,{fallback:o.a.createElement("div",null,".......")},o.a.createElement(pt,{role:2,value:"name",placeholder:"Enter Provider",passedFunction:e.onFilter})))))},width:"15%",editable:!0,render:function(e,t){return o.a.createElement("span",{title:"Provider"},t.booking_provider[0]?t.booking_provider[0].name:"Not Assign")}},{title:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"d-block"},o.a.createElement(o.a.Fragment,null,o.a.createElement(r.Suspense,{fallback:o.a.createElement("div",null,".......")},o.a.createElement(_t,{value:"subCategory_name",id:"category_id",placeholder:"Enter Sub Category",passedFunction:e.onFilter})))))},width:"15%",editable:!0,render:function(e,t){return o.a.createElement("span",{title:"Sub Category"},t.booking_category[0]&&t.booking_category[0].subCategory_name?t.booking_category[0].subCategory_name:"Main Category")}},{title:function(){return o.a.createElement("div",null,"Category")},width:"15%",editable:!0,render:function(e,t){return"2"===t.category_type?o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{title:"Category"},t.booking_category[0]&&t.booking_category[0].booking_parent_category[0]?t.booking_category[0].booking_parent_category[0].category_name:"")):o.a.createElement("span",{title:"Category"},t.booking_category[0]?t.booking_category[0].category_name:"")}},{title:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"d-block"},o.a.createElement(o.a.Fragment,null,o.a.createElement(r.Suspense,{fallback:o.a.createElement("div",null,".......")},o.a.createElement(gt,{role:"1",value:"boo",placeholder:"Enter Booking Date",passedFunction:e.onFilter})))))},width:"15%",editable:!0,render:function(e,t){return o.a.createElement("span",{title:"Booked",style:{wordBreak:"keep-all"}},t.booking_date)}},{title:"Status",width:"15%",editable:!0,render:function(e,t){return 14===t.booking_status?o.a.createElement("span",{title:"Status"}," ",o.a.createElement(W.a,{color:"cyan"},"Completed")," "):13===t.booking_status?o.a.createElement("span",{title:"Status"}," ",o.a.createElement(W.a,{color:"cyan"},"End")," "):10===t.booking_status?o.a.createElement("span",{title:"Status"}," ",o.a.createElement(W.a,{color:"cyan"},"User Accept")," "):8===t.booking_status?o.a.createElement("span",{title:"Status"}," ",o.a.createElement(W.a,{color:"cyan"},"Provider Cancel")," "):11===t.booking_status?o.a.createElement("span",{title:"Status"}," ",o.a.createElement(W.a,{color:"cyan"},"User Cancel")," "):void 0}},{title:"Action",dataIndex:"operation",className:Object(R.a)("view_booking_detail")?"":"d-none",render:function(t,a){return e.state.dataSource.length>=1?o.a.createElement("span",{title:"....",className:"d-inline d-md-flex justify-content-around"},o.a.createElement(R.b,{permission:"view_booking_detail"},o.a.createElement("span",{className:"cursor_point",onClick:function(){e.props.history.push({pathname:"/admin-booking-detail",state:{_id:a._id}})}},o.a.createElement(X.a,{type:"eye",theme:"twoTone",twoToneColor:"#52c41a",className:"f_25"})))):null}}],a=this.state.dataSource;return o.a.createElement(o.a.Fragment,null,o.a.createElement(pe.a,{prefix:"#",className:"mb-3",size:"large",placeholder:"Search Booking Ref",onKeyUp:function(t){e.onFilter_Ref(t)},loading:!1}),o.a.createElement("div",{id:"no-more-tables"},o.a.createElement(te.a,{rowClassName:function(){return"editable-row"},className:"table_shadow",dataSource:a,columns:t,size:"middle",pagination:this.state.pagination,loading:this.state.loading,onChange:this.handleTableChange})))}}]),a}(o.a.Component),bt=Object(d.withRouter)(ft),ht=o.a.lazy((function(){return a.e(1).then(a.bind(null,2086))})),yt=o.a.lazy((function(){return Promise.all([a.e(5),a.e(4)]).then(a.bind(null,2087))})),vt=o.a.lazy((function(){return a.e(2).then(a.bind(null,2085))})),Et=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).handleTableChange=function(e){var t=Object(Y.a)({},e);t.current=e.current,n.setState({loading:!0});var a=Object(Y.a)(Object(Y.a)({},n.state.input_data),{},{limit:t.pageSize,page:t.current,booking_status:[14]});A.a.query({query:nt,variables:a,fetchPolicy:"no-cache"}).then((function(e){console.log(e.data);var t=Object(Y.a)({},n.state.pagination);t.total=e.data.get_booking.pageInfo.totalDocs,t.current=e.data.get_booking.pageInfo.page,console.log(t),n.setState({pagination:t,loading:!1,dataSource:e.data.get_booking.data})}))},n.fetch_booking=function(){var e=Object(H.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),e.next=3,A.a.query({query:nt,variables:t,fetchPolicy:"no-cache"}).then((function(e){var t=Object(Y.a)({},n.state.pagination);t.total=e.data.get_booking.pageInfo.totalDocs,n.setState({pagination:t,dataSource:e.data.get_booking.data,loading:!1})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onFilter=function(){var e=Object(H.a)(J.a.mark((function e(t){var a,r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(Object.keys(t)[0]),""===t[Object.keys(t)[0]]?(delete n.state.input_data[Object.keys(t)[0]],a=n.state.input_data,n.setState({input_data:a}),n.fetch_booking(Object(Y.a)(Object(Y.a)({},a),{},{limit:10,page:1,booking_status:[14]}))):(n.setState({input_data:Object(Y.a)(Object(Y.a)({},n.state.input_data),t)}),r=Object(Y.a)(Object(Y.a)({},n.state.input_data),t),n.fetch_booking(Object(Y.a)(Object(Y.a)({},r),{},{limit:10,page:1,booking_status:[14]})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onFilter_Ref=function(){var e=Object(H.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.value?n.fetch_booking({booking_ref:{$regex:".*"+t.target.value+".*",$options:"i"},limit:10,page:1}):n.fetch_booking({limit:10,page:1,booking_status:[14]});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={modalVisible:!1,dataSource:[],update_data:{},update:0,loading:!1,loading_img:!1,imageUrl:"",input_data:{},file:{},previewVisible:!1,previewImage:"",pagination:{pageSize:10,current:1,total:0,simple:!0}},n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.fetch_booking({limit:this.state.pagination.pageSize,page:this.state.pagination.current,booking_status:[14]})}},{key:"render",value:function(){var e=this,t=[{title:function(){return o.a.createElement("div",null,"Booking Ref")},width:"8%",editable:!0,render:function(e,t){return o.a.createElement("span",{title:"User"},null===t||void 0===t?void 0:t.booking_ref)}},{title:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"d-block"},o.a.createElement(o.a.Fragment,null,o.a.createElement(r.Suspense,{fallback:o.a.createElement("div",null,".......")},o.a.createElement(ht,{role:1,value:"name",placeholder:"Enter User",passedFunction:e.onFilter})))))},width:"15%",editable:!0,render:function(e,t){return o.a.createElement("span",{title:"User"},t.booking_user[0]?t.booking_user[0].name:"")}},{title:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"d-block"},o.a.createElement(o.a.Fragment,null,o.a.createElement(r.Suspense,{fallback:o.a.createElement("div",null,".......")},o.a.createElement(ht,{role:2,value:"name",placeholder:"Enter Provider",passedFunction:e.onFilter})))))},width:"15%",editable:!0,render:function(e,t){return o.a.createElement("span",{title:"Provider"},t.booking_provider[0]?t.booking_provider[0].name:"Not Assign")}},{title:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"d-block"},o.a.createElement(o.a.Fragment,null,o.a.createElement(r.Suspense,{fallback:o.a.createElement("div",null,".......")},o.a.createElement(vt,{value:"subCategory_name",id:"category_id",placeholder:"Enter Sub Category",passedFunction:e.onFilter})))))},width:"15%",editable:!0,render:function(e,t){return o.a.createElement("span",{title:"Sub Category"},t.booking_category[0]&&t.booking_category[0].subCategory_name?t.booking_category[0].subCategory_name:"Main Category")}},{title:function(){return o.a.createElement("div",null,"Category")},width:"15%",editable:!0,render:function(e,t){return"2"===t.category_type?o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{title:"Category"},t.booking_category[0]&&t.booking_category[0].booking_parent_category[0]?t.booking_category[0].booking_parent_category[0].category_name:"")):o.a.createElement("span",{title:"Category"},t.booking_category[0]?t.booking_category[0].category_name:"")}},{title:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"d-block"},o.a.createElement(o.a.Fragment,null,o.a.createElement(r.Suspense,{fallback:o.a.createElement("div",null,".......")},o.a.createElement(yt,{role:"1",value:"boo",placeholder:"Enter Booking Date",passedFunction:e.onFilter})))))},width:"15%",editable:!0,render:function(e,t){return o.a.createElement("span",{title:"Booked",style:{wordBreak:"keep-all"}},t.booking_date)}},{title:"Status",width:"15%",editable:!0,render:function(e,t){return 14===t.booking_status?o.a.createElement("span",{title:"Status"}," ",o.a.createElement(W.a,{color:"cyan"},"Completed")," "):13===t.booking_status?o.a.createElement("span",{title:"Status"}," ",o.a.createElement(W.a,{color:"cyan"},"End")," "):10===t.booking_status?o.a.createElement("span",{title:"Status"}," ",o.a.createElement(W.a,{color:"cyan"},"User Accept")," "):8===t.booking_status?o.a.createElement("span",{title:"Status"}," ",o.a.createElement(W.a,{color:"cyan"},"Provider Cancel")," "):11===t.booking_status?o.a.createElement("span",{title:"Status"}," ",o.a.createElement(W.a,{color:"cyan"},"User Cancel")," "):void 0}},{title:"Action",dataIndex:"operation",className:Object(R.a)("view_booking_detail")?"":"d-none",render:function(t,a){return e.state.dataSource.length>=1?o.a.createElement("span",{title:"....",className:"d-inline d-md-flex justify-content-around"},o.a.createElement(R.b,{permission:"view_booking_detail"},o.a.createElement("span",{className:"cursor_point",onClick:function(){e.props.history.push({pathname:"/admin-booking-detail",state:{_id:a._id}})}},o.a.createElement(X.a,{type:"eye",theme:"twoTone",twoToneColor:"#52c41a",className:"f_25"})))):null}}],a=this.state.dataSource;return o.a.createElement(o.a.Fragment,null,o.a.createElement(pe.a,{prefix:"#",className:"mb-3",size:"large",placeholder:"Search Booking Ref",onKeyUp:function(t){e.onFilter_Ref(t)},loading:!1}),o.a.createElement("div",{id:"no-more-tables"},o.a.createElement(te.a,{rowClassName:function(){return"editable-row"},className:"table_shadow",dataSource:a,columns:t,size:"middle",pagination:this.state.pagination,onChange:this.handleTableChange,loading:this.state.loading})))}}]),a}(o.a.Component),kt=Object(d.withRouter)(Et),wt=l.a.Content,jt=fe.a.TabPane,Ot=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(){var e;Object(q.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={collapsed:!1},e.onToggle=function(t){console.log(t),e.setState({collapsed:t})},e}return Object(U.a)(a,[{key:"render",value:function(){return o.a.createElement(l.a,{style:{height:"100vh"}},o.a.createElement(B.default,{update_collapsed:this.state.collapsed}),o.a.createElement(l.a,null,o.a.createElement(V.default,null),o.a.createElement(wt,{className:"main_frame"},o.a.createElement(fe.a,null,o.a.createElement(jt,{tab:"Booking",key:"1"},o.a.createElement(mt,null)),o.a.createElement(jt,{tab:"Canceled Booking",key:"2"},o.a.createElement(bt,null)),o.a.createElement(jt,{tab:"Completed Booking",key:"3"},o.a.createElement(kt,null))))))}}]),a}(o.a.Component),St=a(54),Nt=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).handleTableChange=function(){var e=Object(H.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=Object(Y.a)({},t)).current=t.current,n.setState({loading:!0}),e.next=5,A.a.query({query:St.g,variables:{limit:a.pageSize,page:a.current,role:"2",proof_status:1},fetchPolicy:"no-cache"}).then((function(e){console.log(e.data);var t=Object(Y.a)({},n.state.pagination);t.total=e.data.get_user.pageInfo.totalDocs,t.current=e.data.get_user.pageInfo.page,console.log(t),n.setState({pagination:t,loading:!1,dataSource:e.data.get_user.data})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.fetch_user=function(){var e=Object(H.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),e.next=3,A.a.query({query:St.g,variables:{limit:n.state.pagination.pageSize,page:n.state.pagination.current,role:"2",proof_status:1},fetchPolicy:"no-cache"}).then((function(e){var t=Object(Y.a)({},n.state.pagination);t.total=e.data.get_user.pageInfo.totalDocs,n.setState({loading:!1,pagination:t,dataSource:e.data.get_user.data})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleDelete=function(){var e=Object(H.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,A.a.mutate({mutation:St.d,variables:{_id:t}}).then((function(e,t,a){Object(ue.a)(e.data.deleteDetails),"success"===e.data.deleteDetails.status&&n.fetch_user()}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onFilter=function(){var e=Object(H.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.target.value),a={delete:0,role:2,proof_status:1,$or:[{first_name:{$regex:".*"+t.target.value+".*",$options:"i"}},{email:{$regex:".*"+t.target.value+".*",$options:"i"}},{phone_no:{$regex:".*"+t.target.value+".*",$options:"i"}}]},e.next=4,A.a.query({query:St.k,variables:{data:a},fetchPolicy:"no-cache"}).then((function(e){var t;n.setState({dataSource:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.user_search})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={dataSource:[],loading:!1,pagination:{pageSize:10,current:1,total:0,simple:!0}},n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.fetch_user()}},{key:"render",value:function(){var e=this,t=this.state.dataSource,a=[{title:"First Name",width:"20%",render:function(e,t){return o.a.createElement("span",{title:"First Name"},t.first_name)}},{title:"Last Name",width:"20%",render:function(e,t){return o.a.createElement("span",{title:"Last Name"},t.last_name)}},{title:"Email",width:"20%",render:function(e,t){return o.a.createElement("span",{title:"Email",style:{wordBreak:"keep-all"}},t.email)}},{title:"Phone Number",width:"20%",render:function(e,t){return o.a.createElement("span",{title:"Phone Number"},t.phone_no)}},{title:"Proof Status",width:"20%",render:function(e,t){return o.a.createElement("span",{title:"Proof Status"},0===t.proof_status?o.a.createElement(W.a,{color:"volcano"},"pending"):o.a.createElement(W.a,{color:"green"},"verified"))}},{title:"Action",dataIndex:"operation",className:Object(R.a)("approve_provider")||Object(R.a)("edit_provider")||Object(R.a)("delete_provider")?"":"d-none",render:function(t,a){return e.state.dataSource.length>=1?o.a.createElement("span",{title:"....",className:"d-inline d-md-flex justify-content-around"},o.a.createElement(R.b,{permission:"approve_provider"},o.a.createElement("span",{className:"cursor_point",onClick:function(){e.props.history.push("/admin-provider/view/".concat(a._id))}},o.a.createElement(X.a,{type:"eye",theme:"twoTone",twoToneColor:"#52c41a",className:"mr-2 f_25"}))),o.a.createElement(R.b,{permission:"edit_provider"},o.a.createElement("span",{className:"cursor_point",onClick:function(){e.props.history.push("/admin-provider/add/".concat(a._id))}},o.a.createElement(X.a,{type:"edit",theme:"twoTone",twoToneColor:"#52c41a",className:"mx-3 f_25"}))),o.a.createElement(R.b,{permission:"delete_provider"},o.a.createElement(ee.a,{title:"Sure to delete this provider ?",onConfirm:function(){return e.handleDelete(a._id)}},o.a.createElement(X.a,{type:"delete",theme:"twoTone",twoToneColor:"#52c41a",className:"f_25"})))):null}}];return o.a.createElement("div",null,o.a.createElement("div",{className:"mb-3"},o.a.createElement(pe.a,{className:"mt-3",size:"large",placeholder:"search",onKeyUp:function(t){e.onFilter(t)},loading:!1})),o.a.createElement("div",{id:"no-more-tables"},o.a.createElement(te.a,{rowClassName:function(){return"editable-row"},className:"table_shadow",dataSource:t,columns:a,size:"middle",pagination:this.state.pagination,onChange:this.handleTableChange,loading:this.state.loading})))}}]),a}(o.a.Component),xt=Object(d.withRouter)(Nt),Ct=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).handleTableChange=function(){var e=Object(H.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=Object(Y.a)({},t)).current=t.current,n.setState({loading:!0}),e.next=5,A.a.query({query:St.g,variables:{limit:a.pageSize,page:a.current,role:"2",proof_status:0},fetchPolicy:"no-cache"}).then((function(e){console.log(e.data);var t=Object(Y.a)({},n.state.pagination);t.total=e.data.get_user.pageInfo.totalDocs,t.current=e.data.get_user.pageInfo.page,console.log(t),n.setState({pagination:t,loading:!1,dataSource:e.data.get_user.data})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.fetch_user=function(){var e=Object(H.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),e.next=3,A.a.query({query:St.g,variables:{limit:n.state.pagination.pageSize,page:n.state.pagination.current,role:"2",proof_status:0},fetchPolicy:"no-cache"}).then((function(e){var t=Object(Y.a)({},n.state.pagination);t.total=e.data.get_user.pageInfo.totalDocs,n.setState({loading:!1,pagination:t,dataSource:e.data.get_user.data})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleDelete=function(){var e=Object(H.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,A.a.mutate({mutation:St.d,variables:{_id:t}}).then((function(e,t,a){Object(ue.a)(e.data.deleteDetails),"success"===e.data.deleteDetails.status&&n.fetch_user()}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onFilter=function(){var e=Object(H.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.target.value),a={delete:0,role:2,proof_status:0,$or:[{first_name:{$regex:".*"+t.target.value+".*",$options:"i"}},{email:{$regex:".*"+t.target.value+".*",$options:"i"}},{phone_no:{$regex:".*"+t.target.value+".*",$options:"i"}}]},e.next=4,A.a.query({query:St.k,variables:{data:a},fetchPolicy:"no-cache"}).then((function(e){var t;n.setState({dataSource:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.user_search})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={dataSource:[],loading:!1,pagination:{pageSize:10,current:1,total:0,simple:!0}},n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.fetch_user()}},{key:"render",value:function(){var e=this,t=this.state.dataSource,a=[{title:"First Name",width:"20%",render:function(e,t){return o.a.createElement("span",{title:"First Name"},t.first_name)}},{title:"Last Name",width:"20%",render:function(e,t){return o.a.createElement("span",{title:"Last Name"},t.last_name)}},{title:"Email",width:"20%",render:function(e,t){return o.a.createElement("span",{title:"Email",style:{wordBreak:"keep-all"}},t.email)}},{title:"Phone Number",width:"20%",render:function(e,t){return o.a.createElement("span",{title:"Phone Number"},t.phone_no)}},{title:"Proof Status",width:"20%",render:function(e,t){return o.a.createElement("span",{title:"Proof Status"},0===t.proof_status?o.a.createElement(W.a,{color:"volcano"},"pending"):o.a.createElement(W.a,{color:"green"},"verified"))}},{title:"Action",dataIndex:"operation",className:Object(R.a)("approve_provider")||Object(R.a)("edit_provider")||Object(R.a)("delete_provider")?"":"d-none",render:function(t,a){return e.state.dataSource.length>=1?o.a.createElement("span",{title:"....",className:"d-inline d-md-flex justify-content-around"},o.a.createElement(R.b,{permission:"approve_provider"},o.a.createElement("span",{className:"cursor_point",onClick:function(){e.props.history.push("/admin-provider/view/".concat(a._id))}},o.a.createElement(X.a,{type:"eye",theme:"twoTone",twoToneColor:"#52c41a",className:"mr-2 f_25"}))),o.a.createElement(R.b,{permission:"edit_provider"},o.a.createElement("span",{className:"cursor_point",onClick:function(){e.props.history.push("/admin-provider/add/".concat(a._id))}},o.a.createElement(X.a,{type:"edit",theme:"twoTone",twoToneColor:"#52c41a",className:"mx-3 f_25"}))),o.a.createElement(R.b,{permission:"delete_provider"},o.a.createElement(ee.a,{title:"Sure to delete this provider ?",onConfirm:function(){return e.handleDelete(a._id)}},o.a.createElement(X.a,{type:"delete",theme:"twoTone",twoToneColor:"#52c41a",className:"f_25"})))):null}}];return o.a.createElement("div",null,o.a.createElement("div",{className:"mb-3"},o.a.createElement(pe.a,{className:"mt-3",size:"large",placeholder:"search",onKeyUp:function(t){e.onFilter(t)},loading:!1})),o.a.createElement("div",{id:"no-more-tables"},o.a.createElement(te.a,{rowClassName:function(){return"editable-row"},className:"table_shadow",dataSource:t,columns:a,size:"middle",pagination:this.state.pagination,onChange:this.handleTableChange,loading:this.state.loading})))}}]),a}(o.a.Component),It=Object(d.withRouter)(Ct),$t=l.a.Content,Dt=fe.a.TabPane,Pt=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(){var e;Object(q.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={collapsed:!1},e.onToggle=function(t){console.log(t),e.setState({collapsed:t})},e}return Object(U.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement(l.a,{style:{height:"100vh"}},o.a.createElement(B.default,{update_collapsed:this.state.collapsed}),o.a.createElement(l.a,null,o.a.createElement(V.default,null),o.a.createElement($t,{className:"main_frame "},o.a.createElement(fe.a,{tabBarExtraContent:o.a.createElement(R.b,{permission:"add_provider"},o.a.createElement(be.a,{type:"primary",onClick:function(){e.props.history.push("/admin-provider/add")}},"Add Provider"))},o.a.createElement(Dt,{tab:"Pending Provider",key:"1"},o.a.createElement(It,null)),o.a.createElement(Dt,{tab:"Approved Provider",key:"2"},o.a.createElement(xt,null))))))}}]),a}(o.a.Component),Tt=a(158),At=a(115),Ft=a.n(At),zt=a(113),Rt=a.n(zt),qt=(a(245),a(101)),Ut=a.n(qt),Lt=l.a.Content,Mt=we.a.Title,Bt=je.a.Option;Ut.a.setApiKey("AIzaSyDYRYnxipjEBUNazDUwUa_8BDvm8ON7TIk");var Vt=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).fetch_subcategory=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.query({query:Be.h,fetchPolicy:"no-cache"}).then((function(e){console.log(e),n.setState({category:[].concat(Object(Tt.a)(n.state.category),Object(Tt.a)(e.data.sub_category))})}));case 2:case"end":return e.stop()}}),e)}))),n.fetch_category=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.query({query:Be.b,variables:{is_parent:!1},fetchPolicy:"no-cache"}).then((function(e){n.setState({category:[].concat(Object(Tt.a)(e.data.category),Object(Tt.a)(n.state.category)),certificate:e.data.category[0]?e.data.category[0].Certificate:[]})}));case 2:case"end":return e.stop()}}),e)}))),n.find_address=function(){var e=Object(H.a)(J.a.mark((function e(t,a){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ut.a.fromLatLng(t,a).then((function(e){var t=e.results[0].formatted_address;console.log(t),n.setState({address:t})}),(function(e){console.error(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.fetch_find_user=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.query({query:St.e,variables:{_id:n.props.match.params.id},fetchPolicy:"no-cache"}).then((function(e){var t,a,r,o,i,c,l,s,d,u,m,p,g;(console.log(e),Array.isArray(null===(t=e.data)||void 0===t||null===(a=t.user[0])||void 0===a||null===(r=a.location)||void 0===r?void 0:r.coordinates))&&n.find_address(null===(s=e.data)||void 0===s||null===(d=s.user[0])||void 0===d||null===(u=d.location)||void 0===u?void 0:u.coordinates[0],null===(m=e.data)||void 0===m||null===(p=m.user[0])||void 0===p||null===(g=p.location)||void 0===g?void 0:g.coordinates[1]);n.setState({update:!0,update_data:e.data.user[0],m_no:null===(o=e.data)||void 0===o?void 0:o.user[0].phone_no,country_code:null===(i=e.data)||void 0===i?void 0:i.user[0].country_code,_phone:"+".concat(null===(c=e.data)||void 0===c?void 0:c.user[0].country_code," ").concat(null===(l=e.data)||void 0===l?void 0:l.user[0].phone_no),address:e.data.user[0].address,demo:e.data.user[0].demo})}));case 2:case"end":return e.stop()}}),e)}))),n.normFile=function(e){return Array.isArray(e)?e:e&&e.fileList},n.getBase64=function(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)},n.beforeUpload=function(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||Oe.a.error("You can only upload JPG/PNG file!");var a=e.size/1024/1024<2;return a||Oe.a.error("Image must smaller than 2MB!"),t&&a},n.handleChange=function(e){"uploading"!==e.file.status?e.file.status&&(console.log(e.file.originFileObj),n.setState({file:e.file.originFileObj}),n.getBase64(e.file.originFileObj,(function(e){return n.setState({imageUrl:e,loading:!1})}))):n.setState({loading:!0})},n.add_provider=function(){var e=n.props,t=e.form,a=e.history;t.validateFields(function(){var e=Object(H.a)(J.a.mark((function e(t,r){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(r),t){e.next=4;break}return e.next=4,A.a.mutate({mutation:St.a,variables:{role:2,country_code:n.state.country_code,phone_no:n.state.m_no,email:r.email,password:r.password,first_name:r.provider_first_name,last_name:r.provider_last_name,lat:n.state.lat_lng.lat,lng:n.state.lat_lng.lng,address:n.state.address,provider_subCategoryID:r.category_name,demo:n.state.demo}}).then((function(e,t,n){console.log(e),Object(ue.a)(e.data.admin_add_user.info),"success"===e.data.admin_add_user.info.status&&a.push("/admin-provider")}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())},n.update_provider=function(){var e=n.props,t=e.form,a=e.history;t.validateFields(function(){var e=Object(H.a)(J.a.mark((function e(t,r){var o;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o={role:2,email:r.email,password:r.password,first_name:r.provider_first_name,last_name:r.provider_last_name,lat:n.state.lat_lng?n.state.lat_lng.lat:void 0,lng:n.state.lat_lng?n.state.lat_lng.lng:void 0,address:n.state.address,provider_subCategoryID:r.category_name,_id:n.props.match.params.id},r.phone.length>10&&(o.country_code=n.state.country_code,o.phone_no=n.state.m_no),t){e.next=5;break}return e.next=5,A.a.mutate({mutation:St.j,variables:o}).then((function(e,t,n){Object(ue.a)(e.data.admin_update_user.info),"success"===e.data.admin_update_user.info.status&&a.push("/admin-provider")}));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())},n.handleChange1=function(e){n.setState({address:e})},n.handleSelect=function(e){console.log(e),n.setState({address:e}),Object(At.geocodeByAddress)(e).then((function(e){return Object(At.getLatLng)(e[0])})).then((function(e){return n.setState({lat_lng:e})})).catch((function(e){return console.error("Error",e)}))},n.state={modalVisible:!1,loading:!1,imageUrl:"",update:!1,update_data:{},file:{},previewVisible:!1,previewImage:"",pagination:{pageSize:5,current:1,total:0,simple:!0},OPTIONS:["Apples","Nails","Bananas","Helicopters"],category:[],address:"",certificate:[],country_code:"",m_no:"",demo:!1,_phone:""},n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.props.form.resetFields(),this.setState({imageUrl:""}),this.fetch_subcategory(),this.fetch_category(),void 0!==this.props.match.params.id&&this.fetch_find_user()}},{key:"render",value:function(){var e=this,t=this.props.form;return console.log(this.state.update_data.subCategory_name),o.a.createElement(l.a,{style:{height:"100vh"}},o.a.createElement(B.default,{update_collapsed:this.state.collapsed}),o.a.createElement(l.a,null,o.a.createElement(V.default,null),o.a.createElement(Lt,{className:"main_frame"},o.a.createElement(Se.a,{gutter:[24,24]},o.a.createElement(Ne.a,{span:24},o.a.createElement("div",{className:"d-flex justify-content-between"},o.a.createElement(Mt,{level:3},"Add Provider"),this.state.update&&o.a.createElement(be.a,{type:"primary",onClick:function(){e.props.history.push("/admin-company/add/".concat(e.props.match.params.id))}},"Add Company")))),o.a.createElement(Se.a,null,o.a.createElement(ae.a,null,o.a.createElement(Ne.a,{span:24},o.a.createElement(Se.a,{gutter:12},o.a.createElement(Ne.a,{span:12},o.a.createElement(ae.a.Item,{label:"Category Name"},t.getFieldDecorator("category_name",{initialValue:this.state.update_data.provider_subCategoryID,rules:[{required:!0}]})(o.a.createElement(je.a,{mode:"multiple",style:{width:"100%"},placeholder:"Please select Category",onChange:function(e){console.log(e)}},this.state.category.map((function(e){return o.a.createElement(Bt,{key:e._id},e.subCategory_name?e.subCategory_name:e.category_name?e.category_name:"")})))))),o.a.createElement(Ne.a,{span:6},o.a.createElement(ae.a.Item,{label:"Provider First Name"},t.getFieldDecorator("provider_first_name",{initialValue:this.state.update_data.first_name,rules:[{required:!0}]})(o.a.createElement(xe.a,{placeholder:"Name"})))),o.a.createElement(Ne.a,{span:6},o.a.createElement(ae.a.Item,{label:"Provider Last Name"},t.getFieldDecorator("provider_last_name",{initialValue:this.state.update_data.last_name,rules:[{required:!0}]})(o.a.createElement(xe.a,{placeholder:"Name"}))))),o.a.createElement(Se.a,{className:"py-3",gutter:12},o.a.createElement(Ne.a,{className:"",lg:12},o.a.createElement(ae.a.Item,{label:"Phone"},t.getFieldDecorator("phone",{initialValue:this.state._phone,rules:[{required:!0,message:"Phone no is required"}]})(o.a.createElement(Rt.a,{placeholder:"phone no",country:"ke",value:this.state.phone,onChange:function(t,a,n){console.log(a),e.setState({m_no:t.replace(/[^0-9]+/g,"").slice(a.dialCode.length),country_code:a.dialCode})}})))),o.a.createElement(Ne.a,{className:"",lg:12},o.a.createElement(ae.a.Item,{label:"Location"},t.getFieldDecorator("location",{initialValue:this.state.update_data.address,rules:[{required:!0}]})(o.a.createElement(Ft.a,{value:this.state.address,onChange:this.handleChange1,onSelect:this.handleSelect},(function(t){var a=t.getInputProps,n=t.suggestions,r=t.getSuggestionItemProps,i=t.loading;return o.a.createElement("div",null,o.a.createElement("input",Object.assign({},a({placeholder:"Search Places ...",className:"location-search-input ant-input"}),{value:e.state.address})),o.a.createElement("div",{className:"autocomplete-dropdown-container"},i&&o.a.createElement("div",null,"Loading..."),n.map((function(e){var t=e.active?"suggestion-item--active":"suggestion-item",a=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return o.a.createElement("div",r(e,{className:t,style:a}),o.a.createElement("span",null,e.description))}))))})))))),o.a.createElement(Se.a,{className:"py-3",gutter:12},o.a.createElement(Ne.a,{className:"",lg:12},o.a.createElement(ae.a.Item,{label:"Email"},t.getFieldDecorator("email",{initialValue:this.state.update_data.email,rules:[{required:!0}]})(o.a.createElement(xe.a,{placeholder:"Email"})))),o.a.createElement(Ne.a,{className:"",lg:12},o.a.createElement(ae.a.Item,{label:"Password"},t.getFieldDecorator("password",{initialValue:this.state.update_data.password,rules:[{required:!0}]})(o.a.createElement(xe.a.Password,{placeholder:"Password"})))),o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{className:"float-right"},o.a.createElement(be.a,{type:"primary",htmlType:"submit",className:"mx-3",onClick:function(){e.props.history.push("/admin-provider")}},"Cancel"),o.a.createElement(be.a,{type:"primary",className:this.state.update?"d-none":"",htmlType:"submit",onClick:this.add_provider},"Submit"),o.a.createElement(be.a,{type:"primary",className:this.state.update?"":"d-none",htmlType:"submit",onClick:this.update_provider},"Update"))))))))))}}]),a}(o.a.Component),Gt=ae.a.create()(Vt),Jt=a(149),Yt=a(367),Ht=a.n(Yt);a(1014),a(1015);var Kt=function(e){var t={infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1};return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ht.a,t,e.img.map((function(e,t){return o.a.createElement("div",{className:"img_div"},o.a.createElement("img",{src:e,alt:"no document",className:"w-100 object_fit",style:{height:"20em"}}))}))))},Wt=l.a.Content,Qt=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(){var e;Object(q.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={collapsed:!1,key:"Document",loading:!1,tabList:[{key:"Document",tab:"Document"}],proof_status:0,data:[]},e.fetch_find_user=Object(H.a)(J.a.mark((function t(){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.next=3,A.a.query({query:St.e,variables:{_id:e.props.match.params.id},fetchPolicy:"no-cache"}).then((function(t){console.log(t),e.setState({loading:!1,update:1,proof_status:t.data.user[0].proof_status,data:t.data.user})}));case 3:case"end":return t.stop()}}),t)}))),e.onToggle=function(t){console.log(t),e.setState({collapsed:t})},e.provider_status=function(){var t=Object(H.a)(J.a.mark((function t(a){var n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a?1:0,a?e.setState({proof_status:1}):e.setState({proof_status:0}),t.next=4,A.a.mutate({mutation:St.h,variables:{_id:e.props.match.params.id,proof_status:String(n)}}).then((function(t,a,n){console.log(t),Object(ue.a)(t.data.provider_document_verified.info),"success"===t.data.provider_document_verified.info.status&&e.props.history.push("/admin-provider")}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(U.a)(a,[{key:"componentDidMount",value:function(){void 0!==this.props.match.params.id&&this.fetch_find_user()}},{key:"render",value:function(){var e,t,a=this;return console.log(this.state.data),o.a.createElement(l.a,{style:{height:"100vh"}},o.a.createElement(B.default,{update_collapsed:this.state.collapsed}),o.a.createElement(l.a,null,o.a.createElement(V.default,null),o.a.createElement(Wt,{className:"main_frame"},o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:24},o.a.createElement(Jt.a,{style:{width:"100%"},title:"Provider Documents",extra:o.a.createElement(K.a,{checkedChildren:"verified",unCheckedChildren:"pending",checked:0===this.state.proof_status?0:1,onChange:function(e){a.provider_status(e)}})},o.a.createElement(Se.a,{gutter:12},o.a.createElement(Ne.a,{lg:12,md:24},o.a.createElement(Jt.a,{loading:this.state.loading,title:"Identification Documents",bordered:!1,style:{borderRadius:"1em",boxShadow:"1px 1px 8px 0px"}},this.state.data[0]?o.a.createElement(Kt,{img:null===(e=this.state.data[0])||void 0===e?void 0:e.personal_document_url}):"")),o.a.createElement(Ne.a,{lg:12,md:24},o.a.createElement(Jt.a,{loading:this.state.loading,title:"Professional Document",bordered:!1,style:{borderRadius:"1em",boxShadow:"1px 1px 8px 0px"}},this.state.data[0]?o.a.createElement(Kt,{img:null===(t=this.state.data[0])||void 0===t?void 0:t.professional_document_url}):"")))))))))}}]),a}(o.a.Component),Zt=Object(d.withRouter)(Qt),Xt=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).handleTableChange=function(){var e=Object(H.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=Object(Y.a)({},t)).current=t.current,n.setState({loading:!0}),e.next=5,A.a.query({query:Te,variables:{limit:a.pageSize,page:a.current},fetchPolicy:"no-cache"}).then((function(e){console.log(e.data);var t=Object(Y.a)({},n.state.pagination);t.total=e.data.get_certificate.pageInfo.totalDocs,t.current=e.data.get_certificate.pageInfo.page,console.log(t),n.setState({pagination:t,loading:!1,dataSource:e.data.get_certificate.data})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.fetch_certificate=function(e){n.setState({loading:!0}),A.a.query({query:Te,variables:{limit:n.state.pagination.pageSize,page:n.state.pagination.current},fetchPolicy:"no-cache"}).then((function(e){var t=Object(Y.a)({},n.state.pagination);t.total=e.data.get_certificate.pageInfo.totalDocs,n.setState({loading:!1,pagination:t,dataSource:e.data.get_certificate.data})}))},n.find_certificate=function(){var e=Object(H.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,A.a.query({query:Ae,variables:{_id:t},fetchPolicy:"no-cache"}).then((function(e){console.log(e),n.setState({modalVisible:1,update:1,update_data:e.data.certificate[0]})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.add_certificate=function(){var e=n.props.form;e.validateFields(function(){var t=Object(H.a)(J.a.mark((function t(a,r){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=4;break}return console.log(r),t.next=4,A.a.mutate({mutation:$e,variables:{certificate_name:r.certificate_name}}).then((function(t,a,r){Object(ue.a)(t.data.add_certificate.info),"success"===t.data.add_certificate.info.status&&(n.setState({modalVisible:0}),e.resetFields(),n.fetch_certificate())}));case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}())},n.handleDelete=function(){var e=Object(H.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,A.a.mutate({mutation:Fe,variables:{_id:t}}).then((function(e,t,a){Object(ue.a)(e.data.deleteCertificate),"success"===e.data.deleteCertificate.status&&n.fetch_certificate()}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.update_certificate=function(e){var t=n.props.form;t.validateFields(function(){var a=Object(H.a)(J.a.mark((function a(r,o){return J.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r){a.next=4;break}return console.log(o),a.next=4,A.a.mutate({mutation:De,variables:{certificate_name:o.certificate_name,_id:e}}).then((function(e,a,r){console.log(e),Object(ue.a)(e.data.update_certificate.info),"success"===e.data.update_certificate.info.status&&(t.resetFields(),n.setState({modalVisible:!1,update_data:{}})),n.fetch_certificate()}));case 4:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}())},n.state={modalVisible:!1,dataSource:[],update_data:{},update:0,loading:!1,loading_img:!1,imageUrl:"",file:{},previewVisible:!1,previewImage:"",pagination:{pageSize:10,current:1,total:0,simple:!0}},n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.fetch_certificate()}},{key:"render",value:function(){var e=this,t=[{title:"Certificates Name",width:"50%",editable:!0,render:function(e,t){return o.a.createElement("span",{title:"Certificate name"},t.certificate_name)}},{title:"Action",dataIndex:"operation",className:Object(R.a)("edit_certificate")||Object(R.a)("delete_certificate")?"":"d-none",render:function(t,a){return e.state.dataSource.length>=1?o.a.createElement("span",{title:"....",className:"d-inline d-md-flex justify-content-around"},o.a.createElement(R.b,{permission:"edit_certificate"},o.a.createElement("span",{className:"cursor_point",onClick:function(){return e.find_certificate(a._id)}},o.a.createElement(X.a,{type:"edit",theme:"twoTone",twoToneColor:"#52c41a",className:"mx-3 f_25"}))),o.a.createElement(R.b,{permission:"delete_certificate"},o.a.createElement(ee.a,{title:"Sure to delete this certificate ?",onConfirm:function(){return e.handleDelete(a._id)}},o.a.createElement(X.a,{type:"delete",theme:"twoTone",twoToneColor:"#52c41a",className:"f_25"})))):null}}],a=this.state.dataSource,n=this.props.form;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Z.a,{onOk:function(t){e.state.update?e.update_certificate(e.state.update_data._id):e.add_certificate()},onCancel:function(){e.setState({modalVisible:0})},title:"Add Certificate",visible:this.state.modalVisible},o.a.createElement(ae.a,null,o.a.createElement(ae.a.Item,{label:"Certificate Name"},n.getFieldDecorator("certificate_name",{initialValue:this.state.update_data.certificate_name,rules:[{required:!0}]})(o.a.createElement(xe.a,{placeholder:"Certificate Name"}))))),o.a.createElement(R.b,{permission:"add_certificate"},o.a.createElement("div",{style:{marginBottom:"12px"}},o.a.createElement(be.a,{onClick:function(){e.setState({modalVisible:1,update_data:{}}),n.resetFields()},type:"primary"}," Add Certificate "))),o.a.createElement("div",{id:"no-more-tables"},o.a.createElement(te.a,{rowClassName:function(){return"editable-row"},className:"table_shadow",dataSource:a,columns:t,size:"middle",pagination:this.state.pagination,onChange:this.handleTableChange,loading:this.state.loading})))}}]),a}(o.a.Component),ea=ae.a.create()(Xt),ta=l.a.Content,aa=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(){var e;Object(q.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={collapsed:!1},e.onToggle=function(t){console.log(t),e.setState({collapsed:t})},e}return Object(U.a)(a,[{key:"render",value:function(){return o.a.createElement(l.a,{style:{height:"100vh"}},o.a.createElement(B.default,{update_collapsed:this.state.collapsed}),o.a.createElement(l.a,null,o.a.createElement(V.default,null),o.a.createElement(ta,{className:"main_frame"},o.a.createElement(ea,null))))}}]),a}(o.a.Component),na=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).handleTableChange=function(){var e=Object(H.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=Object(Y.a)({},t)).current=t.current,n.setState({loading:!0}),e.next=5,A.a.query({query:St.g,variables:{limit:a.pageSize,page:a.current,role:"1"},fetchPolicy:"no-cache"}).then((function(e){console.log(e.data);var t=Object(Y.a)({},n.state.pagination);t.total=e.data.get_user.pageInfo.totalDocs,t.current=e.data.get_user.pageInfo.page,console.log(t),n.setState({pagination:t,loading:!1,dataSource:e.data.get_user.data})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.fetch_user=function(){var e=Object(H.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),e.next=3,A.a.query({query:St.g,variables:{limit:n.state.pagination.pageSize,page:n.state.pagination.current,role:"1"},fetchPolicy:"no-cache"}).then((function(e){var t=Object(Y.a)({},n.state.pagination);t.total=e.data.get_user.pageInfo.totalDocs,n.setState({loading:!1,pagination:t,dataSource:e.data.get_user.data})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleDelete=function(){var e=Object(H.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,A.a.mutate({mutation:St.d,variables:{_id:t}}).then((function(e,t,a){Object(ue.a)(e.data.deleteDetails),"success"===e.data.deleteDetails.status&&n.fetch_user()}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onFilter=function(){var e=Object(H.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.target.value),a={delete:0,role:1,$or:[{name:{$regex:".*"+t.target.value+".*",$options:"i"}},{email:{$regex:".*"+t.target.value+".*",$options:"i"}},{phone_no:{$regex:".*"+t.target.value+".*",$options:"i"}}]},e.next=4,A.a.query({query:St.k,variables:{data:a},fetchPolicy:"no-cache"}).then((function(e){var t;n.setState({dataSource:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.user_search})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={add_user:!1,dataSource:[],search_user:[],loading:!1,pagination:{pageSize:10,current:1,total:0,simple:!0}},n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.fetch_user()}},{key:"render",value:function(){var e=this,t=this.state.dataSource,a=[{title:"First Name",width:"20%",render:function(e,t){return o.a.createElement("span",{title:"First Name"},t.first_name)}},{title:"Last Name",width:"20%",render:function(e,t){return o.a.createElement("span",{title:"Last Name"},t.last_name)}},{title:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"d-block"},o.a.createElement("div",null,"Email")))},width:"20%",render:function(e,t){return o.a.createElement("span",{title:"Email",style:{wordBreak:"keep-all"}},t.email)}},{title:function(){return o.a.createElement("div",null,o.a.createElement("div",null,"Phone Number"))},width:"20%",render:function(e,t){return o.a.createElement("span",{title:"Phone Number"},t.phone_no)}},{title:"Action",dataIndex:"operation",className:Object(R.a)("edit_user")||Object(R.a)("delete_user")?"":"d-none",render:function(t,a){return e.state.dataSource.length>=1?o.a.createElement("span",{title:"....",className:"d-inline d-md-flex justify-content-around"},o.a.createElement(R.b,{permission:"edit_user"},o.a.createElement("span",{className:"cursor_point",onClick:function(){e.props.history.push("/admin-user/add/".concat(a._id))}},o.a.createElement(X.a,{type:"edit",theme:"twoTone",twoToneColor:"#52c41a",className:"mx-3 f_25"}))),o.a.createElement(R.b,{permission:"delete_user"},o.a.createElement(ee.a,{title:"Sure to delete the user ?",onConfirm:function(){return e.handleDelete(a._id)}},o.a.createElement(X.a,{type:"delete",theme:"twoTone",twoToneColor:"#52c41a",className:"f_25"})))):null}}];return o.a.createElement("div",null,o.a.createElement(R.b,{permission:"add_user"},o.a.createElement("div",{className:"mx-2 mx-sm-0"},o.a.createElement(be.a,{type:"primary",onClick:function(){e.props.history.push("/admin-user/add")}},"Add User"))),o.a.createElement(pe.a,{className:"my-3",size:"large",placeholder:"search",onKeyUp:function(t){e.onFilter(t)},loading:!1}),o.a.createElement("div",{id:"no-more-tables"},o.a.createElement(te.a,{rowClassName:function(){return"editable-row"},className:"table_shadow",dataSource:t,columns:a,size:"middle",pagination:this.state.pagination,onChange:this.handleTableChange,loading:this.state.loading})))}}]),a}(o.a.Component),ra=Object(d.withRouter)(na),oa=l.a.Content,ia=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(){var e;Object(q.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={collapsed:!1},e.onToggle=function(t){console.log(t),e.setState({collapsed:t})},e}return Object(U.a)(a,[{key:"render",value:function(){return o.a.createElement(l.a,{style:{height:"100vh"}},o.a.createElement(B.default,{update_collapsed:this.state.collapsed}),o.a.createElement(l.a,null,o.a.createElement(V.default,null),o.a.createElement(oa,{className:"main_frame"},o.a.createElement(ra,null))))}}]),a}(o.a.Component),ca=l.a.Content,la=we.a.Title;Ut.a.setApiKey("AIzaSyDYRYnxipjEBUNazDUwUa_8BDvm8ON7TIk");var sa,da,ua,ma,pa,ga,_a,fa,ba,ha=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).find_address=function(){var e=Object(H.a)(J.a.mark((function e(t,a){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ut.a.fromLatLng(t,a).then((function(e){var t=e.results[0].formatted_address;console.log(t),n.setState({address:t})}),(function(e){console.error(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.fetch_find_user=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.query({query:St.e,variables:{_id:n.props.match.params.id},fetchPolicy:"no-cache"}).then((function(e){var t,a,r,o,i,c,l,s,d,u,m,p,g,_,f,b,h,y;(console.log(e),Array.isArray(null===(t=e.data)||void 0===t||null===(a=t.user[0])||void 0===a||null===(r=a.location)||void 0===r?void 0:r.coordinates))&&n.find_address(null===(g=e.data)||void 0===g||null===(_=g.user[0])||void 0===_||null===(f=_.location)||void 0===f?void 0:f.coordinates[0],null===(b=e.data)||void 0===b||null===(h=b.user[0])||void 0===h||null===(y=h.location)||void 0===y?void 0:y.coordinates[1]);n.setState({update:1,update_data:null===(o=e.data)||void 0===o?void 0:o.user[0],m_no:null===(i=e.data)||void 0===i?void 0:i.user[0].phone_no,country_code:null===(c=e.data)||void 0===c?void 0:c.user[0].country_code,_phone:"+".concat(null===(l=e.data)||void 0===l?void 0:l.user[0].country_code," ").concat(null===(s=e.data)||void 0===s?void 0:s.user[0].phone_no),address:null===(d=e.data)||void 0===d||null===(u=d.user[0])||void 0===u?void 0:u.address,demo:null===(m=e.data)||void 0===m||null===(p=m.user[0])||void 0===p?void 0:p.demo})}));case 2:case"end":return e.stop()}}),e)}))),n.normFile=function(e){return Array.isArray(e)?e:e&&e.fileList},n.getBase64=function(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)},n.beforeUpload=function(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||Oe.a.error("You can only upload JPG/PNG file!");var a=e.size/1024/1024<2;return a||Oe.a.error("Image must smaller than 2MB!"),t&&a},n.handleChange=function(e){"uploading"!==e.file.status?e.file.status&&(console.log(e.file.originFileObj),n.setState({file:e.file.originFileObj}),n.getBase64(e.file.originFileObj,(function(e){return n.setState({imageUrl:e,loading:!1})}))):n.setState({loading:!0})},n.add_user=function(){var e=n.props,t=e.form,a=e.history;t.validateFields(function(){var e=Object(H.a)(J.a.mark((function e(t,r){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return e.next=3,A.a.mutate({mutation:St.a,variables:{role:1,country_code:n.state.country_code,phone_no:n.state.m_no,email:r.email,password:r.password,first_name:r.user_first_name,last_name:r.user_last_name,lat:n.state.lat_lng.lat,lng:n.state.lat_lng.lng,address:n.state.address,demo:n.state.demo}}).then((function(e,t,n){Object(ue.a)(e.data.admin_add_user.info),"success"===e.data.admin_add_user.info.status&&a.push("/admin-user")}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())},n.update_user=function(){var e=n.props,t=e.form,a=e.history;t.validateFields(function(){var e=Object(H.a)(J.a.mark((function e(t,r){var o;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=o={_id:n.props.match.params.id,demo:n.state.demo,email:r.email,password:r.password,first_name:r.user_first_name,last_name:r.user_last_name,lat:n.state.lat_lng.lat,lng:n.state.lat_lng.lng,address:n.state.address},r.phone.length>10&&(o.country_code=n.state.country_code,o.phone_no=n.state.m_no),t){e.next=5;break}return e.next=5,A.a.mutate({mutation:St.j,variables:o}).then((function(e,t,n){Object(ue.a)(e.data.admin_update_user.info),"success"===e.data.admin_update_user.info.status&&a.push("/admin-user")}));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())},n.handleChange1=function(e){n.setState({address:e})},n.handleSelect=function(e){console.log(e),n.setState({address:e}),Object(At.geocodeByAddress)(e).then((function(e){return Object(At.getLatLng)(e[0])})).then((function(e){return n.setState({lat_lng:e})})).catch((function(e){return console.error("Error",e)}))},n.state={modalVisible:!1,dataSource:[],loading:!1,imageUrl:"",update:0,update_data:{},file:{},previewVisible:!1,previewImage:"",pagination:{pageSize:5,current:1,total:0,simple:!0},OPTIONS:["Apples","Nails","Bananas","Helicopters"],selectedItems:[],category:[],address:"",lat_lng:{},country_code:"",m_no:"",demo:!1,_phone:""},n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.props.form.resetFields(),this.setState({imageUrl:""}),console.log(this.props.match.params.id),void 0!==this.props.match.params.id&&this.fetch_find_user()}},{key:"render",value:function(){var e=this,t=this.props.form;return console.log(this.state.update_data.subCategory_name),o.a.createElement(l.a,{style:{height:"100vh"}},o.a.createElement(B.default,{update_collapsed:this.state.collapsed}),o.a.createElement(l.a,null,o.a.createElement(V.default,null),o.a.createElement(ca,{className:"main_frame"},o.a.createElement(Se.a,{gutter:[24,24]},o.a.createElement(Ne.a,{span:24},o.a.createElement(la,{level:3},"Add User"))),o.a.createElement(Se.a,null,o.a.createElement(ae.a,null,o.a.createElement(Ne.a,{span:24},o.a.createElement(Se.a,{gutter:12},o.a.createElement(Ne.a,{span:6},o.a.createElement(ae.a.Item,{label:"User First Name"},t.getFieldDecorator("user_first_name",{initialValue:this.state.update_data.first_name,rules:[{required:!0}]})(o.a.createElement(xe.a,{placeholder:"Name"})))),o.a.createElement(Ne.a,{span:6},o.a.createElement(ae.a.Item,{label:"User Last Name"},t.getFieldDecorator("user_last_name",{initialValue:this.state.update_data.last_name,rules:[{required:!0}]})(o.a.createElement(xe.a,{placeholder:"Name"})))),o.a.createElement(Ne.a,{className:"",lg:12},o.a.createElement(ae.a.Item,{label:"Phone"},t.getFieldDecorator("phone",{initialValue:this.state._phone,rules:[{required:!0,message:"Phone no is required"}]})(o.a.createElement(Rt.a,{country:"ke",value:this.state.phone,onChange:function(t,a,n){e.setState({m_no:t.replace(/[^0-9]+/g,"").slice(a.dialCode.length),country_code:a.dialCode})}}))))),o.a.createElement(Se.a,{className:"py-3",gutter:12},o.a.createElement(Ne.a,{className:"",lg:12},o.a.createElement(ae.a.Item,{label:"Email"},t.getFieldDecorator("email",{initialValue:this.state.update_data.email,rules:[{required:!0}]})(o.a.createElement(xe.a,{placeholder:"Email"})))),o.a.createElement(Ne.a,{className:"",lg:12},o.a.createElement(ae.a.Item,{label:"Password"},t.getFieldDecorator("password",{initialValue:this.state.update_data.password,rules:[{required:!0}]})(o.a.createElement(xe.a.Password,{placeholder:"Password"}))))),o.a.createElement(Se.a,{className:"py-3",gutter:12},o.a.createElement(Ne.a,{className:"",lg:12},o.a.createElement(ae.a.Item,{label:"Location"},t.getFieldDecorator("location",{initialValue:this.state.update_data.address,rules:[{required:!0}]})(o.a.createElement(Ft.a,{value:this.state.address,onChange:this.handleChange1,onSelect:this.handleSelect},(function(t){var a=t.getInputProps,n=t.suggestions,r=t.getSuggestionItemProps,i=t.loading;return o.a.createElement("div",null,o.a.createElement("input",Object.assign({},a({placeholder:"Search Places ...",className:"location-search-input ant-input"}),{value:e.state.address})),o.a.createElement("div",{className:"autocomplete-dropdown-container"},i&&o.a.createElement("div",null,"Loading..."),n.map((function(e){var t=e.active?"suggestion-item--active":"suggestion-item",a=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return o.a.createElement("div",r(e,{className:t,style:a}),o.a.createElement("span",null,e.description))}))))})))))),o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{className:"float-right"},o.a.createElement(be.a,{type:"primary",htmlType:"submit",className:"mx-3",onClick:function(){e.props.history.push("/admin-user")}},"Cancel"),o.a.createElement(be.a,{type:"primary",className:this.state.update?"d-none":"",htmlType:"submit",onClick:this.add_user},"Submit"),o.a.createElement(be.a,{type:"primary",className:this.state.update?"":"d-none",htmlType:"submit",onClick:this.update_user},"Update"))))))))))}}]),a}(o.a.Component),ya=ae.a.create()(ha),va=a(97),Ea=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).handleTableChange=function(){var e=Object(H.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=Object(Y.a)({},t)).current=t.current,n.setState({loading:!0}),e.next=5,A.a.query({query:va.h,variables:{limit:a.pageSize,page:a.current},fetchPolicy:"no-cache"}).then((function(e){console.log(e.data);var t=Object(Y.a)({},n.state.pagination);t.total=e.data.get_static.pageInfo.totalDocs,t.current=e.data.get_static.pageInfo.page,console.log(t),n.setState({pagination:t,loading:!1,dataSource:e.data.get_static.data})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.fetch_static=function(){var e=Object(H.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),e.next=3,A.a.query({query:va.h,variables:{limit:n.state.pagination.pageSize,page:n.state.pagination.current},fetchPolicy:"no-cache"}).then((function(e){var t=Object(Y.a)({},n.state.pagination);t.total=e.data.get_static.pageInfo.totalDocs,n.setState({loading:!1,pagination:t,dataSource:e.data.get_static.data})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleDelete=function(){var e=Object(H.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,A.a.mutate({mutation:va.d,variables:{_id:t}}).then((function(e,t,a){Object(ue.a)(e.data.deleteStatic),"success"===e.data.deleteStatic.status&&n.fetch_static()}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={dataSource:[],loading:!1,pagination:{pageSize:10,current:1,total:0,simple:!0}},n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.fetch_static()}},{key:"render",value:function(){var e=this,t=this.state.dataSource,a=[{title:"Page Name",width:"30%",render:function(e,t){return o.a.createElement("span",{title:"page name"},t.page_name)}},{title:"Page Code",width:"30%",render:function(e,t){return o.a.createElement("span",{title:"page code"},t.page_code)}},{title:"Action",dataIndex:"operation",className:Object(R.a)("edit_staticContent")||Object(R.a)("delete_staticContent")?"":"d-none",render:function(t,a){return e.state.dataSource.length>=1?o.a.createElement("span",{title:"....",className:"d-inline d-md-flex justify-content-around"},o.a.createElement(R.b,{permission:"edit_staticContent"},o.a.createElement("span",{className:"cursor_point",onClick:function(){e.props.history.push("/admin-static/add/".concat(a._id))}},o.a.createElement(X.a,{type:"edit",theme:"twoTone",twoToneColor:"#52c41a",className:"mx-3 f_25"}))),o.a.createElement(R.b,{permission:"delete_staticContent"},o.a.createElement(ee.a,{title:"Sure to delete Static data ?",onConfirm:function(){return e.handleDelete(a._id)}},o.a.createElement(X.a,{type:"delete",theme:"twoTone",twoToneColor:"#52c41a",className:"f_25"}))),"I"):null}}];return o.a.createElement("div",null,o.a.createElement(R.b,{permission:"add_staticContent"},o.a.createElement("div",{className:"my-3"},o.a.createElement(be.a,{type:"primary",onClick:function(){e.props.history.push("/admin-static/add")}},"Add Static Pages"))),o.a.createElement("div",{id:"no-more-tables"},o.a.createElement(te.a,{rowClassName:function(){return"editable-row"},className:"table_shadow",dataSource:t,columns:a,size:"middle",pagination:this.state.pagination,onChange:this.handleTableChange,loading:this.state.loading})))}}]),a}(o.a.Component),ka=Object(d.withRouter)(Ea),wa=l.a.Content,ja=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(){var e;Object(q.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={collapsed:!1},e.onToggle=function(t){console.log(t),e.setState({collapsed:t})},e}return Object(U.a)(a,[{key:"render",value:function(){return o.a.createElement(l.a,{style:{height:"100vh"}},o.a.createElement(B.default,{update_collapsed:this.state.collapsed}),o.a.createElement(l.a,null,o.a.createElement(V.default,null),o.a.createElement(wa,{className:"main_frame"},o.a.createElement(ka,null))))}}]),a}(o.a.Component),Oa=a(464),Sa=a.n(Oa),Na=(a(1470),l.a.Content),xa=we.a.Title,Ca=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).fetch_find_static=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.query({query:va.e,variables:{_id:n.props.match.params.id},fetchPolicy:"no-cache"}).then((function(e){console.log(e),n.setState({update:1,update_data:e.data.static[0],text:e.data.static[0].description})}));case 2:case"end":return e.stop()}}),e)}))),n.normFile=function(e){return Array.isArray(e)?e:e&&e.fileList},n.getBase64=function(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)},n.beforeUpload=function(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||Oe.a.error("You can only upload JPG/PNG file!");var a=e.size/1024/1024<2;return a||Oe.a.error("Image must smaller than 2MB!"),t&&a},n.handleChange=function(e){"uploading"!==e.file.status?e.file.status&&(console.log(e.file.originFileObj),n.setState({file:e.file.originFileObj}),n.getBase64(e.file.originFileObj,(function(e){return n.setState({imageUrl:e,loading:!1})}))):n.setState({loading:!0})},n.add_static=function(){var e=n.props,t=e.form,a=e.history;t.validateFields(function(){var e=Object(H.a)(J.a.mark((function e(t,r){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return console.log(r),e.next=4,A.a.mutate({mutation:va.c,variables:{page_code:r.page_code,title:r.title,page_name:r.page_name,description:n.state.text}}).then((function(e,t,n){Object(ue.a)(e.data.add_static.info),"success"===e.data.add_static.info.status&&a.push("/admin-static")}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())},n.update_static=function(){var e=n.props,t=e.form,a=e.history;console.log(n.props),t.validateFields(function(){var e=Object(H.a)(J.a.mark((function e(t,r){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return console.log(r),e.next=4,A.a.mutate({mutation:va.j,variables:{page_code:r.page_code,title:r.title,page_name:r.page_name,description:n.state.text,_id:n.props.match.params.id}}).then((function(e,t,n){Object(ue.a)(e.data.update_static.info),"success"===e.data.update_static.info.status&&a.push("/admin-static")}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())},n.change=function(e){n.setState({text:e})},n.state={modalVisible:!1,dataSource:[],loading:!1,imageUrl:"",update:0,update_data:{},file:{},previewVisible:!1,previewImage:"",pagination:{pageSize:5,current:1,total:0,simple:!0},OPTIONS:["Apples","Nails","Bananas","Helicopters"],selectedItems:[],category:[],address:"",text:""},n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.props.form.resetFields(),console.log(this.props.match.params.id),void 0!==this.props.match.params.id&&this.fetch_find_static()}},{key:"render",value:function(){var e=this,t=this.props.form;return console.log(this.state.update_data.subCategory_name),o.a.createElement(l.a,{style:{height:"100vh"}},o.a.createElement(B.default,{update_collapsed:this.state.collapsed}),o.a.createElement(l.a,null,o.a.createElement(V.default,null),o.a.createElement(Na,{className:"main_frame"},o.a.createElement(Se.a,{gutter:[24,24]},o.a.createElement(Ne.a,{span:24},o.a.createElement(xa,{level:3},"Add Static Page"))),o.a.createElement(Se.a,null,o.a.createElement(ae.a,null,o.a.createElement(Ne.a,{span:24},o.a.createElement(Se.a,{gutter:12},o.a.createElement(Ne.a,{span:12},o.a.createElement(ae.a.Item,{label:"Page Name"},t.getFieldDecorator("page_name",{initialValue:this.state.update_data.page_name,rules:[{required:!0}]})(o.a.createElement(xe.a,{placeholder:"Name"})))),o.a.createElement(Ne.a,{className:"",lg:12},o.a.createElement(ae.a.Item,{label:"Page Code"},t.getFieldDecorator("page_code",{initialValue:this.state.update_data.page_code,rules:[{required:!0}]})(o.a.createElement(xe.a,{placeholder:"Code",disabled:this.state.update}))))),o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{label:"Title"},t.getFieldDecorator("title",{initialValue:this.state.update_data.title,rules:[{required:!0}]})(o.a.createElement(xe.a,{placeholder:"Title"}))))),o.a.createElement(Se.a,{className:"py-3",gutter:12},o.a.createElement(Ne.a,{className:"",lg:24},o.a.createElement(Sa.a,{value:this.state.text,placeholder:"Description",onChange:this.change})),o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{className:"float-right"},o.a.createElement(be.a,{type:"primary",htmlType:"submit",className:"mx-3",onClick:function(){e.props.history.push("/admin-static")}},"Cancel"),o.a.createElement(be.a,{type:"primary",className:this.state.update?"d-none":"",htmlType:"submit",onClick:this.add_static},"Submit"),o.a.createElement(be.a,{type:"primary",className:this.state.update?"":"d-none",htmlType:"submit",onClick:this.update_static},"Update"))))))))))}}]),a}(o.a.Component),Ia=ae.a.create()(Ca),$a=a(353),Da=(Object(re.a)(sa||(sa=Object(ne.a)(["\n    mutation ADDCATEGORY($category_name: String,$description: String,$file:Upload,$base_price: String,$hour_price: String,$hour_limit: String,$day_price: String,$day_limit: String,$service_fee: String,$price_type:String,$certificates: [ID],$is_parent:Boolean) {\n        addCategory(category_name:$category_name,description:$description,file: $file,base_price: $base_price,hour_price: $hour_price,hour_limit: $hour_limit,day_price:$day_price,day_limit:$day_limit,price_type:$price_type,service_fee: $service_fee,certificates: $certificates,is_parent:$is_parent){\n            category_name\n            _id\n            description\n            url\n            uid\n            info\n        }\n    }\n"]))),Object(re.a)(da||(da=Object(ne.a)(["\n    mutation update_Category($_id:ID,$is_block:Boolean,$is_future:Boolean,$category_name:String,$file:Upload,$description:String,$base_price: String,$hour_price: String,$hour_limit: String,$day_price: String,$day_limit: String,$service_fee: String,$price_type:String,$is_parent: Boolean,$certificates: [ID]){\n        updateCategory(_id:$_id,is_block:$is_block,is_future:$is_future,category_name:$category_name,file:$file,description:$description,base_price: $base_price,hour_price: $hour_price,hour_limit: $hour_limit,day_price:$day_price,day_limit:$day_limit,price_type:$price_type,service_fee: $service_fee,certificates: $certificates,is_parent:$is_parent){\n            info\n        }\n    }\n"]))),Object(re.a)(ua||(ua=Object(ne.a)(["\n    mutation changeparentbolck($_id:ID,$is_block:Boolean){\n        change_parent_bolck(_id:$_id,is_block:$is_block){\n            info\n        }\n    }\n"]))),Object(re.a)(ma||(ma=Object(ne.a)(["\n query GETCONTRACTPAGINATION($limit: Int,$page:Int,$booking_status:Int,$search:JSON) {\n    get_contracts_pagination(limit:$limit,page:$page,search:$search,booking_status:$booking_status) {\n        pageInfo{\n            totalDocs\n            page\n        }\n        data{\n            _id\n           name\n           description\n           budget\n           contract_ref\n           category_id\n           category_type\n           get_contract_address_detail {\n                address\n            }\n            get_user {\n                first_name\n                last_name\n            }\n           get_contract_category{\n                subCategory_name\n                category_name\n                category_type\n           }\n        }\n    }\n}\n"])))),Pa=(Object(re.a)(pa||(pa=Object(ne.a)(["\nquery FINDCATEGORY($_id:ID) {\n    category(_id:$_id) {\n        _id\n        category_name\n        description\n        img_url\n        certificates\n        is_parent\n        base_price\n        hour_price\n        hour_limit\n        day_price\n        day_limit\n        price_type\n        service_fee\n        img_url\n        Certificate{\n            certificate_name\n            _id\n        }\n    }\n}\n"]))),Object(re.a)(ga||(ga=Object(ne.a)(["\n    mutation DELETECATEGORY($_id:ID){\n        deleteCategory(_id:$_id) {\n            msg\n            status\n        }\n    }\n"])))),Ta=Object(re.a)(_a||(_a=Object(ne.a)(["\n    mutation MANAGECONTRACTBOOKING($contract_id:ID,$booking_status:Int){\n        manage_contract_booking(contract_id:$contract_id,booking_status:$booking_status) {\n            msg\n            status\n        }\n    }\n"]))),Aa=a(95),Fa=a.n(Aa),za=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).handleTableChange=function(){var e=Object(H.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=Object(Y.a)({},t)).current=t.current,n.setState({loading:!0}),e.next=5,A.a.query({query:Da,variables:{booking_status:n.state.booking_status,limit:a.pageSize,page:a.current,data:{is_parent:!1}},fetchPolicy:"no-cache"}).then((function(e){var t=Object(Y.a)({},n.state.pagination);t.total=e.data.get_contracts_pagination.pageInfo.totalDocs,t.current=e.data.get_contracts_pagination.pageInfo.page,console.log(t),n.setState({pagination:t,loading:!1,dataSource:e.data.get_contracts_pagination.data})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.showModal=function(){n.setState({modalVisible:!0})},n.closeModal=function(){n.setState({modalVisible:!1,update_data:{},imageUrl:""})},n.fetch_category=function(){var e=Object(H.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),a={booking_status:n.state.booking_status},Fa()(t)&&(a.search=t),e.next=5,A.a.query({query:Da,variables:a,fetchPolicy:"no-cache"}).then((function(e){var t=Object(Y.a)({},n.state.pagination);t.total=e.data.get_contracts_pagination.pageInfo.totalDocs,n.setState({loading:!1,pagination:t,dataSource:e.data.get_contracts_pagination.data})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleDelete=function(){var e=Object(H.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,A.a.mutate({mutation:Pa,variables:{_id:t}}).then((function(e,t,a){Object(ue.a)(e.data.deleteCategory),"success"===e.data.deleteCategory.status&&n.fetch_category()}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onFilter_Ref=function(){var e=Object(H.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.value?(a={contract_ref:{$regex:".*"+t.target.value+".*",$options:"i"}},n.fetch_category(a)):n.fetch_category();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={modalVisible:!1,dataSource:[],update_data:{},update:0,loading:!1,loading_img:!1,imageUrl:"",file:{},previewVisible:!1,previewImage:"",view_img:"",booking_status:15,pagination:{pageSize:10,total:0,current:1,simple:!0}},n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.fetch_category()}},{key:"componentDidUpdate",value:function(e){this.props.booking_status!==e.booking_status&&this.fetch_category()}},{key:"render",value:function(){var e=this,t=[{title:r.createElement("span",null,"Contract Ref"),width:"15%",render:function(e,t){return r.createElement("span",{title:"Contract Ref"},r.createElement($a.a,{copyable:!0},t.contract_ref))}},{title:r.createElement("span",null,"User Name"),width:"15%",render:function(e,t){var a,n,o,i;return r.createElement("span",{title:"User Name"},(null===(a=t.get_user)||void 0===a||null===(n=a[0])||void 0===n?void 0:n.first_name)+(null===(o=t.get_user)||void 0===o||null===(i=o[0])||void 0===i?void 0:i.last_name))}},{title:r.createElement("span",null,"Name"),width:"15%",render:function(e,t){return r.createElement("span",{title:"Name"},t.name)}},{title:r.createElement("span",null,"Budget"),width:"10%",render:function(e,t){return r.createElement("span",{title:"Budget"},t.budget)}},{title:r.createElement("span",null,"Location"),width:"35%",render:function(e,t){var a;return r.createElement("span",{title:"Location"},r.createElement($a.a,{ellipsis:{rows:2,expandable:!1,symbol:"..."}},null===(a=t.get_contract_address_detail)||void 0===a?void 0:a.address))}},{title:r.createElement("span",null,"Category"),width:"10%",render:function(e,t){var a,n,o,i;return t&&t.get_contract_category&&1===(null===(a=t.get_contract_category[0])||void 0===a?void 0:a.category_type)?r.createElement("span",{title:"Category"},r.createElement(W.a,{color:"geekblue"},null===(o=t.get_contract_category[0])||void 0===o?void 0:o.category_name)):t&&t.get_contract_category&&2===(null===(n=t.get_contract_category[0])||void 0===n?void 0:n.category_type)?r.createElement("span",{title:"Category"},r.createElement(W.a,{color:"geekblue"},null===(i=t.get_contract_category[0])||void 0===i?void 0:i.subCategory_name)):r.createElement("span",{title:"Category"},"Not Found!")}},{title:"Action",width:"10%",dataIndex:"operation",render:function(t,a){return e.state.dataSource.length>=1?r.createElement("span",{title:"....",className:"d-inline d-md-flex justify-content-around"},r.createElement(R.b,{permission:""},r.createElement("span",{className:"cursor_point",onClick:function(){e.props.history.push("/admin-contract/view/".concat(a._id))}},r.createElement(X.a,{type:"eye",theme:"twoTone",twoToneColor:"#52c41a",className:"mx-3 f_25"})))):null}}];return r.createElement(r.Fragment,null,r.createElement("div",{className:"mb-3"},r.createElement(pe.a,{className:"",size:"large",placeholder:"Search Biding",onKeyUp:function(t){e.onFilter_Ref(t)},loading:!1})),r.createElement("div",{id:"no-more-tables"},r.createElement(te.a,{className:"table_shadow",pagination:this.state.pagination,rowKey:function(e){return e.id},loading:this.state.loading,dataSource:this.state.dataSource,columns:t,onChange:this.handleTableChange})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.booking_status!==t.booking_status?{booking_status:e.booking_status}:null}}]),a}(r.Component),Ra=ae.a.create()(Object(d.withRouter)(za)),qa=l.a.Content,Ua=fe.a.TabPane,La=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(){var e;Object(q.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={collapsed:!1,booking_status:15},e.callback=function(t){e.setState({booking_status:Number(t)})},e}return Object(U.a)(a,[{key:"render",value:function(){return o.a.createElement(l.a,{style:{height:"100vh"}},o.a.createElement(B.default,{update_collapsed:this.state.collapsed}),o.a.createElement(l.a,null,o.a.createElement(V.default,null),o.a.createElement(qa,{className:"main_frame"},o.a.createElement(fe.a,{onChange:this.callback},o.a.createElement(Ua,{tab:"Un-Approved Contract",key:"15"},o.a.createElement(Ra,{booking_status:this.state.booking_status})),o.a.createElement(Ua,{tab:"Approved Contract",key:"9"},o.a.createElement(Ra,{booking_status:this.state.booking_status})),o.a.createElement(Ua,{tab:"Award Contract",key:"10"},o.a.createElement(Ra,{booking_status:this.state.booking_status})),o.a.createElement(Ua,{tab:"Ongoing Contract",key:"4"},o.a.createElement(Ra,{booking_status:this.state.booking_status})),o.a.createElement(Ua,{tab:"Completed Contract",key:"14"},o.a.createElement(Ra,{booking_status:this.state.booking_status}))))))}}]),a}(o.a.Component),Ma=o.a.memo(La),Ba=a(78),Va=(fa={PROVIDER_ROLE:2},Object(Ba.a)(fa,"PROVIDER_ROLE",2),Object(Ba.a)(fa,"WAITING_ADMIN",15),Object(Ba.a)(fa,"WAITING_PAYMENT",50),Object(Ba.a)(fa,"ACCEPT",9),Object(Ba.a)(fa,"BOOKING",12),Object(Ba.a)(fa,"PENDING",10),Object(Ba.a)(fa,"START",4),Object(Ba.a)(fa,"ONGOING",4),Object(Ba.a)(fa,"CANCEL",8),Object(Ba.a)(fa,"END",13),Object(Ba.a)(fa,"COMPLETE",14),ba={2:"PROVIDER ROLE"},Object(Ba.a)(ba,"2","PROVIDER ROLE"),Object(Ba.a)(ba,15,"WAITING ADMIN"),Object(Ba.a)(ba,50,"WAITING PAYMENT"),Object(Ba.a)(ba,9,"APPROVED"),Object(Ba.a)(ba,12,"BOOKING"),Object(Ba.a)(ba,10,"PENDING"),Object(Ba.a)(ba,4,"START"),Object(Ba.a)(ba,"4","ONGOING"),Object(Ba.a)(ba,8,"CANCEL"),Object(Ba.a)(ba,13,"END"),Object(Ba.a)(ba,14,"COMPLETE"),ba),Ga=a(655),Ja=l.a.Content,Ya=o.a.lazy((function(){return a.e(9).then(a.bind(null,2088))})),Ha=o.a.lazy((function(){return a.e(6).then(a.bind(null,2118))})),Ka=o.a.lazy((function(){return Promise.resolve().then(a.bind(null,43))})),Wa=o.a.lazy((function(){return Promise.resolve().then(a.bind(null,44))})),Qa=Jt.a.Meta,Za=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).getData=Object(H.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({loading:!0}),t={contract_id:n.props.match.params.id},A.a.query({query:Ga.b,variables:t,fetchPolicy:"no-cache"}).then((function(e){n.setState({loading:!1,update_data:e.data.get_contracts[0],booking_status:e.data.get_contracts[0].booking_status,booking_user:e.data.get_contracts[0].get_user,get_provider_user:e.data.get_contracts[0].get_provider_user,address:e.data.get_contracts[0].get_contract_address_detail})}));case 3:case"end":return e.stop()}}),e)}))),n.change_status=Object(H.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),t={contract_id:n.props.match.params.id,booking_status:9},e.next=4,A.a.mutate({mutation:Ta,variables:t}).then((function(e,t,a){Object(ue.a)(e.data.manage_contract_booking),n.setState({loading:!1}),n.getData()}));case 4:case"end":return e.stop()}}),e)}))),n.state={modalVisible:!1,dataSource:[],update_data:{},update:0,loading:!1,loading_img:!1,imageUrl:"",file:{},address:{},diffDuration:0,previewVisible:!1,previewImage:"",pagination:{pageSize:10,current:1,total:0,simple:!0},message:[],booking:[],booking_user:[],get_provider_user:[],booking_provider:[],booking_category:[],booking_status:15,nav_text:["",""],u_rate:0,p_rate:0},n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e,t,a,n,i,c,d,u,m,p,g,_,f,b,h,y,v,E,k,w,j,O,S,N,x,C=this;return o.a.createElement(l.a,{style:{height:"100vh"}},o.a.createElement(r.Suspense,{fallback:o.a.createElement(s.a,{active:!0})},o.a.createElement(Ka,{update_collapsed:this.state.collapsed})),o.a.createElement(l.a,null,o.a.createElement(r.Suspense,{fallback:o.a.createElement(s.a,{active:!0})},o.a.createElement(Wa,null)),o.a.createElement(Ja,{className:"main_frame",style:{background:"none"}},o.a.createElement(We.a,{size:"large",spinning:this.state.loading},o.a.createElement(Se.a,{gutter:12},o.a.createElement(Ne.a,{lg:18,md:24},o.a.createElement(Jt.a,{bordered:0},o.a.createElement(r.Suspense,{fallback:o.a.createElement(s.a,{active:!0})},o.a.createElement(Ya,null)),o.a.createElement(r.Suspense,{fallback:o.a.createElement(s.a,{active:!0})},o.a.createElement(Ha,null)))),o.a.createElement(Ne.a,{lg:6,md:24},o.a.createElement(Jt.a,{bordered:0},15===this.state.booking_status?o.a.createElement(o.a.Fragment,null,o.a.createElement(be.a,{onClick:function(){C.change_status()},type:"danger",size:"large",block:!0},"Waiting for approval")):o.a.createElement(o.a.Fragment,null,o.a.createElement(be.a,{type:"dashed",size:"large",className:"text-success",block:!0,disabled:!0},Va[this.state.booking_status]))),o.a.createElement(Jt.a,{className:"mt-2",hoverable:!0,title:"Job Location"},null===(e=this.state.address)||void 0===e?void 0:e.address),this.state.get_provider_user.length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Jt.a,{className:"mt-2",hoverable:!0,title:"Provider",cover:o.a.createElement("img",{alt:"gigzzy user img",src:null===(t=this.state.get_provider_user)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.img_url})},o.a.createElement(Qa,{className:"d-flex",title:(null===(n=this.state.get_provider_user)||void 0===n||null===(i=n[0])||void 0===i?void 0:i.first_name)+(null===(c=this.state.get_provider_user)||void 0===c||null===(d=c[0])||void 0===d?void 0:d.last_name),description:null===(u=this.state.get_provider_user)||void 0===u||null===(m=u[0])||void 0===m?void 0:m.email}),o.a.createElement("div",{className:"d-flex w-100 justify-content-between mt-4"},o.a.createElement("div",{className:"w-50"}," Phone "),o.a.createElement("div",{className:"w-50"},": ",null===(p=this.state.get_provider_user)||void 0===p||null===(g=p[0])||void 0===g?void 0:g.phone_no)),o.a.createElement("div",{className:"d-flex w-100 justify-content-between mt-4"},o.a.createElement("div",{className:"w-50"}," User Type "),o.a.createElement("div",{className:"w-50"},":",null===(_=this.state.get_provider_user)||void 0===_||null===(f=_[0])||void 0===f?void 0:f.user_type)))),o.a.createElement(Jt.a,{className:"mt-2",hoverable:!0,title:"User",cover:o.a.createElement("img",{alt:"gigzzy user img",src:null===(b=this.state.booking_user)||void 0===b||null===(h=b[0])||void 0===h?void 0:h.img_url})},o.a.createElement(Qa,{className:"d-flex",title:(null===(y=this.state.booking_user)||void 0===y||null===(v=y[0])||void 0===v?void 0:v.first_name)+(null===(E=this.state.booking_user)||void 0===E||null===(k=E[0])||void 0===k?void 0:k.last_name),description:null===(w=this.state.booking_user)||void 0===w||null===(j=w[0])||void 0===j?void 0:j.email}),o.a.createElement("div",{className:"d-flex w-100 justify-content-between mt-4"},o.a.createElement("div",{className:"w-50"}," Phone "),o.a.createElement("div",{className:"w-50"},": ",null===(O=this.state.booking_user)||void 0===O||null===(S=O[0])||void 0===S?void 0:S.phone_no)),o.a.createElement("div",{className:"d-flex w-100 justify-content-between mt-4"},o.a.createElement("div",{className:"w-50"}," User Type "),o.a.createElement("div",{className:"w-50"},":",null===(N=this.state.booking_user)||void 0===N||null===(x=N[0])||void 0===x?void 0:x.user_type)))))))))}}]),a}(o.a.Component),Xa=ae.a.create()(Object(d.withRouter)(Za)),en=l.a.Content,tn=fe.a.TabPane,an=o.a.lazy((function(){return Promise.resolve().then(a.bind(null,43))})),nn=o.a.lazy((function(){return Promise.resolve().then(a.bind(null,44))})),rn=o.a.lazy((function(){return a.e(45).then(a.bind(null,2089))})),on=o.a.lazy((function(){return a.e(44).then(a.bind(null,2090))})),cn=o.a.lazy((function(){return a.e(43).then(a.bind(null,2091))})),ln=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(){var e;Object(q.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={collapsed:!1,activeKey:"1",add_btn:"admin",btns:["admin","roles"],add_permission:!1},e.changeTab=function(t){e.setState({activeKey:t,add_btn:e.state.btns[t-1]})},e.closePermission=function(){e.setState({add_permission:!1})},e}return Object(U.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement(l.a,{style:{height:"100vh"}},o.a.createElement(r.Suspense,{fallback:o.a.createElement(s.a,{active:!0})},o.a.createElement(an,{update_collapsed:this.state.collapsed})),o.a.createElement(l.a,null,o.a.createElement(r.Suspense,{fallback:o.a.createElement(s.a,{active:!0})},o.a.createElement(nn,null)),o.a.createElement(en,{className:"main_frame"},o.a.createElement(fe.a,{onChange:this.changeTab,tabBarExtraContent:o.a.createElement("div",null,o.a.createElement(R.b,{permission:"add_admin"},o.a.createElement(be.a,{className:"mx-2",type:"primary",onClick:function(){e.props.history.push("/admin-".concat(e.state.add_btn,"/add"))}},"Add ",this.state.add_btn)),o.a.createElement(be.a,{className:"2"===this.state.activeKey?"":"d-none",type:"primary",onClick:function(){e.setState({add_permission:!0})}},"Add permission"),o.a.createElement(r.Suspense,{fallback:o.a.createElement(s.a,{active:!0})},o.a.createElement(cn,{closePermission:this.closePermission,active:this.state.add_permission})))},o.a.createElement(tn,{tab:"Admin Users",key:"1"},o.a.createElement(r.Suspense,{fallback:o.a.createElement(s.a,{active:!0})},o.a.createElement(rn,null))),o.a.createElement(tn,{tab:"Roles & Permission",key:"2"},o.a.createElement(r.Suspense,{fallback:o.a.createElement(s.a,{active:!0})},o.a.createElement(on,null)))))))}}]),a}(o.a.Component),sn=a(200),dn=a(295),un=a(450),mn=a(173),pn=a.n(mn),gn=l.a.Content,_n=we.a.Title,fn=dn.a.Panel,bn=je.a.Option,hn=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).fetch_find_user=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.query({query:sn.f,variables:{_id:n.props.match.params.id},fetchPolicy:"no-cache"}).then((function(e){var t,a,r,o,i,c;console.log(e),n.setState({update:!0,update_data:null===(t=e.data)||void 0===t?void 0:t.get_admin_users.data[0],roles_options:(null===(a=e.data)||void 0===a?void 0:a.get_admin_users.data[0].get_admin_roles_all)||[],perview_permission:(null===(r=e.data)||void 0===r?void 0:r.get_admin_users.data[0].permissions)||[],perview_roles_permissions:(null===(o=e.data)||void 0===o?void 0:o.get_admin_users.data[0].roles_permissions)||[],individual_based_permissions:(null===(i=e.data)||void 0===i?void 0:i.get_admin_users.data[0].individual_based_permissions_detail)||[],non_role_all_permission:(null===(c=e.data)||void 0===c?void 0:c.get_admin_users.data[0].non_role_permissions_detail)||[]})}));case 2:case"end":return e.stop()}}),e)}))),n.fetch_add_permission=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.query({query:sn.g,fetchPolicy:"no-cache"}).then((function(e){var t;n.setState({role_based_permissions_detail:null===(t=e.data)||void 0===t?void 0:t.get_admin_permission.data})}));case 2:case"end":return e.stop()}}),e)}))),n.isActive_Role=function(e){pn()(n.state.perview_permission,e._id)?n.setState({perview_permission:n.state.perview_permission.filter((function(t){return t!==e._id}))}):n.setState({perview_permission:[].concat(Object(Tt.a)(n.state.perview_permission),[e._id])})},n.Activated_Role=function(e){return!!pn()(n.state.perview_permission,e._id)},n.onRoleChanges=function(e){e.forEach((function(e){pn()(n.state.perview_permission,e)?n.setState({perview_permission:n.state.perview_permission.filter((function(t){return t!==e}))}):n.setState({perview_permission:[].concat(Object(Tt.a)(n.state.perview_permission),[e])})}))},n.roles_permission_show=function(){n.setState({role_permission:!n.state.role_permission})},n.roles_permission_ok=function(e){n.setState({role_permission:!1})},n.individual_permission_show=function(){n.setState({individual_permission:!n.state.individual_permission})},n.individual_permission_ok=function(e){n.setState({individual_permission:!1})},n.update_user=function(){var e=n.props,t=e.form,a=e.history;t.validateFields(function(){var e=Object(H.a)(J.a.mark((function e(t,r){var o;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={},n.state.update_data._id&&(o._id=n.state.update_data._id),r.roles&&r.roles!==n.state.update_data.roles&&(o.roles=r.roles),r.name&&(o.name=r.name),r.email&&(o.email=r.email),r.password&&(o.password=r.password),o.permissions=n.state.perview_permission,e.next=9,A.a.mutate({mutation:sn.m,variables:o}).then((function(e,t,n){Object(ue.a)(e.data.update_admin_user_permission),"success"===e.data.update_admin_user_permission.status&&a.push("/admin-roles")}));case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())},n.state={modalVisible:!1,dataSource:[],loading:!1,imageUrl:"",update:!1,update_data:{},file:{},previewVisible:!1,previewImage:"",pagination:{pageSize:5,current:1,total:0,simple:!0},OPTIONS:["Apples","Nails","Bananas","Helicopters"],selectedItems:[],category:[],address:"",lat_lng:{},country_code:"",m_no:"",demo:!1,_phone:"",role_permission:!1,individual_permission:!1,roles:"",roles_options:[],individual_based_permissions:[],non_role_all_permission:[],perview_permission:[],perview_roles_permission:[],role_based_permissions_detail:[]},n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props.match.params.id,"testinf"),this.props.form.resetFields(),console.log(this.props.match.params.id,"testinf"),void 0!==this.props.match.params.id&&this.fetch_find_user(),this.fetch_add_permission()}},{key:"render",value:function(){var e=this,t=this.props.form;return o.a.createElement(l.a,{style:{height:"100vh"}},o.a.createElement(B.default,{update_collapsed:this.state.collapsed}),o.a.createElement(l.a,null,o.a.createElement(V.default,null),o.a.createElement(gn,{className:"main_frame"},o.a.createElement(Se.a,{gutter:[24,24]},o.a.createElement(Ne.a,{span:24},o.a.createElement(_n,{level:3},"Add Admin"))),o.a.createElement(Se.a,null,o.a.createElement(ae.a,null,o.a.createElement(Ne.a,{span:12,className:"px-3"},o.a.createElement(Se.a,{gutter:12},o.a.createElement(ae.a.Item,{label:"Name"},t.getFieldDecorator("name",{initialValue:this.state.update_data.name,rules:[{required:!0}]})(o.a.createElement(xe.a,{placeholder:"Name"})))),o.a.createElement(Se.a,{gutter:12},o.a.createElement(ae.a.Item,{label:"Email"},t.getFieldDecorator("email",{initialValue:this.state.update_data.email,rules:[{required:!0}]})(o.a.createElement(xe.a,{placeholder:"Email"})))),o.a.createElement(Se.a,{gutter:12},o.a.createElement(ae.a.Item,{label:"Password"},t.getFieldDecorator("password",{initialValue:this.state.update_data.password,rules:[{required:!0}]})(o.a.createElement(xe.a.Password,{placeholder:"Password"}))))),o.a.createElement(Ne.a,{className:this.state.update?"px-3":"d-none",span:12},o.a.createElement(Se.a,{gutter:12},o.a.createElement(ae.a.Item,{label:"Current Role"},t.getFieldDecorator("roles",{initialValue:this.state.update_data.roles,rules:[{required:!1}]})(o.a.createElement(je.a,{placeholder:"Select a option and change input text above",allowClear:!0},this.state.roles_options.map((function(e){return o.a.createElement(bn,{value:e._id},e.name)})))))),o.a.createElement(Se.a,{gutter:12,className:this.state.update_data.roles?"":"d-none"},o.a.createElement(Jt.a,{className:"mb-3",bordered:!0,hoverable:!0},o.a.createElement("div",{className:"d-flex justify-content-between"},o.a.createElement("div",{className:"bold"},"Roles Permission"),o.a.createElement("div",null,o.a.createElement(X.a,{onClick:this.roles_permission_show,type:"eye",theme:"twoTone",twoToneColor:"#52c41a",className:"f_25"})))))))),o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{className:"float-right"},o.a.createElement(be.a,{type:"primary",htmlType:"submit",className:"mx-3",onClick:function(){e.props.history.push("/admin-roles")}},"Cancel"),o.a.createElement(be.a,{type:"primary",className:this.state.update?"d-none":"",htmlType:"submit",onClick:this.update_user},"Submit"),o.a.createElement(be.a,{type:"primary",className:this.state.update?"":"d-none",htmlType:"submit",onClick:this.update_user},"Update")))),o.a.createElement(Z.a,{title:"Roles permission",visible:this.state.role_permission,onOk:this.update_user,onCancel:this.roles_permission_show},o.a.createElement(dn.a,{className:"mb-3",accordion:!0},this.state.role_based_permissions_detail.map((function(t,a){return o.a.createElement(fn,{Panel:!0,header:o.a.createElement("div",{className:"d-flex justify-content-between"},o.a.createElement("div",null,t._id),o.a.createElement(un.a,{style:{backgroundColor:"#52c41a"},count:t.count?t.count:0})),key:a},t.permission.map((function(a){return o.a.createElement("div",{className:"d-flex jumbotron p-1 my-2 justify-content-between align-items-center"},o.a.createElement("div",null,o.a.createElement("div",{className:"bold"},a.name),o.a.createElement("div",null,a.key)),o.a.createElement("div",null,o.a.createElement(Ce.a,{value:t._id,checked:e.Activated_Role(a),onChange:function(){e.isActive_Role(a)}},"Active")))})))})))))))}}]),a}(o.a.Component),yn=ae.a.create()(hn),vn=l.a.Content,En=we.a.Title,kn=dn.a.Panel,wn=(je.a.Option,function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).fetch_find_user=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.query({query:sn.h,variables:{_id:n.props.match.params.id},fetchPolicy:"no-cache"}).then((function(e){var t,a,r,o;console.log(e),n.setState({update:!0,update_data:null===(t=e.data)||void 0===t?void 0:t.get_admin_roles.data[0],permissions_id:(null===(a=e.data)||void 0===a?void 0:a.get_admin_roles.data[0].permissions)||[],orginal_permissions_id:(null===(r=e.data)||void 0===r?void 0:r.get_admin_roles.data[0].permissions)||[],preview_permission:(null===(o=e.data)||void 0===o?void 0:o.get_admin_roles.data[0].role_based_permissions_detail)||[]})}));case 2:case"end":return e.stop()}}),e)}))),n.fetch_add_permission=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.query({query:sn.g,fetchPolicy:"no-cache"}).then((function(e){var t;n.setState({role_based_permissions_detail:null===(t=e.data)||void 0===t?void 0:t.get_admin_permission.data})}));case 2:case"end":return e.stop()}}),e)}))),n.onRoleChanges=function(e){n.setState({roles:e})},n.roles_permission_show=function(){n.setState({role_permission:!n.state.role_permission})},n.isActive_Role=function(e){pn()(n.state.permissions_id,e._id)?n.setState({permissions_id:n.state.permissions_id.filter((function(t){return t!==e._id}))}):n.setState({permissions_id:[].concat(Object(Tt.a)(n.state.permissions_id),[e._id])})},n.Activated_Role=function(e){return!!pn()(n.state.permissions_id,e._id)},n.roles_permission_ok=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.mutate({mutation:sn.l,variables:{_id:n.state.update_data._id,permissions:n.state.permissions_id}}).then((function(e,t,a){Object(ue.a)(e.data.update_admin_roles),"success"===e.data.update_admin_roles.status&&n.setState({role_permission:!1})}));case 2:case"end":return e.stop()}}),e)}))),n.add_new_permission=Object(H.a)(J.a.mark((function e(){var t,a,r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.props,a=t.form,r=t.history,a.validateFields(function(){var e=Object(H.a)(J.a.mark((function e(t,a){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={admin_type:1,name:a.name,key:a.key},e.next=3,A.a.mutate({mutation:sn.b,variables:n}).then(function(){var e=Object(H.a)(J.a.mark((function e(t,a,n){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(ue.a)(t.data.add_admin_roles),"success"===t.data.add_admin_roles.status&&r.push("/admin-roles/add/".concat(t.data.add_admin_roles._id));case 2:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),n.state={modalVisible:!1,dataSource:[],loading:!1,imageUrl:"",update:!1,update_data:{},file:{},previewVisible:!1,previewImage:"",pagination:{pageSize:5,current:1,total:0,simple:!0},OPTIONS:["Apples","Nails","Bananas","Helicopters"],selectedItems:[],category:[],address:"",lat_lng:{},country_code:"",m_no:"",demo:!1,_phone:"",role_permission:!1,individual_permission:!1,roles:"",roles_options:[],individual_based_permissions:[],role_based_permissions_detail:[],preview_permission:[],orginal_permissions_id:[],permissions_id:[]},n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props.match.params.id,"testinf"),this.props.form.resetFields(),console.log(this.props.match.params.id,"testinf"),void 0!==this.props.match.params.id&&this.fetch_find_user(),this.fetch_add_permission()}},{key:"render",value:function(){var e,t,a=this,n=this.props.form;return o.a.createElement(l.a,{style:{height:"100vh"}},o.a.createElement(B.default,{update_collapsed:this.state.collapsed}),o.a.createElement(l.a,null,o.a.createElement(V.default,null),o.a.createElement(vn,{className:"main_frame"},o.a.createElement(Se.a,{gutter:[24,24]},o.a.createElement(Ne.a,{span:24},o.a.createElement(En,{level:3},this.state.update?"update":"Add"," Roles"))),o.a.createElement(Se.a,null,o.a.createElement(ae.a,null,o.a.createElement(Ne.a,{span:12,className:"px-3"},o.a.createElement(Se.a,{gutter:12},o.a.createElement(ae.a.Item,{label:"Name"},n.getFieldDecorator("name",{initialValue:null===(e=this.state.update_data)||void 0===e?void 0:e.name,rules:[{required:!0}]})(o.a.createElement(xe.a,{placeholder:"Name",disabled:this.state.update})))),o.a.createElement(Se.a,{gutter:12,className:this.state.update?"":"d-none"},o.a.createElement(Jt.a,{className:"mb-3",bordered:!0,hoverable:!0},o.a.createElement("div",{className:"d-flex justify-content-between"},o.a.createElement("div",{className:"bold"},"Roles Permission"),o.a.createElement("div",null,o.a.createElement(X.a,{onClick:this.roles_permission_show,type:"eye",theme:"twoTone",twoToneColor:"#52c41a",className:"f_25"})))))),o.a.createElement(Ne.a,{span:12,className:"px-3"},o.a.createElement(Se.a,{gutter:12},o.a.createElement(ae.a.Item,{label:"Key"},n.getFieldDecorator("key",{initialValue:null===(t=this.state.update_data)||void 0===t?void 0:t.key,rules:[{required:!0}]})(o.a.createElement(xe.a,{placeholder:"Key",disabled:this.state.update}))))))),o.a.createElement(Z.a,{title:"Roles permission",visible:this.state.role_permission,onOk:this.roles_permission_ok,onCancel:this.roles_permission_show,okButtonProps:{disabled:Fa()(this.state.orginal_permissions_id)===Fa()(this.state.permissions_id)}},o.a.createElement(dn.a,{className:"mb-3",accordion:!0},this.state.role_based_permissions_detail.map((function(e,t){return o.a.createElement(kn,{Panel:!0,header:o.a.createElement("div",{className:"d-flex justify-content-between"},o.a.createElement("div",null,e._id),o.a.createElement(un.a,{style:{backgroundColor:"#52c41a"},count:e.count?e.count:0})),key:t},e.permission.map((function(t){return o.a.createElement("div",{className:"d-flex jumbotron p-1 my-2 justify-content-between align-items-center"},o.a.createElement("div",null,o.a.createElement("div",{className:"bold"},t.name),o.a.createElement("div",null,t.key)),o.a.createElement("div",null,o.a.createElement(Ce.a,{value:e._id,checked:a.Activated_Role(t),onChange:function(){a.isActive_Role(t)}},"Active")))})))})))),o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{className:"float-right"},o.a.createElement(be.a,{type:"primary",htmlType:"submit",className:"mx-3",onClick:function(){a.props.history.push("/admin-roles")}},"Cancel"),o.a.createElement(be.a,{type:"primary",className:this.state.update?"d-none":"",htmlType:"submit",onClick:this.add_new_permission},"Submit")))))))}}]),a}(o.a.Component)),jn=ae.a.create()(wn),On=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(){var e;Object(q.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={modalVisible:!1,dataSource:[],update_data:{},update:0,loading:!1,loading_img:!1,imageUrl:"",file:{},previewVisible:!1,previewImage:"",view_img:"",pagination:{pageSize:10,total:0,current:1,simple:!0}},e.handleTableChange=function(){var t=Object(H.a)(J.a.mark((function t(a){var n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=Object(Y.a)({},a)).current=a.current,e.setState({loading:!0}),t.next=5,A.a.query({query:St.f,variables:{limit:n.pageSize,page:n.current},fetchPolicy:"no-cache"}).then((function(t){var a=Object(Y.a)({},e.state.pagination);a.total=t.data.get_company_detail.pageInfo.totalDocs,a.current=t.data.get_company_detail.pageInfo.page,e.setState({pagination:a,loading:!1,dataSource:t.data.get_company_detail.data})}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.showModal=function(){e.setState({modalVisible:!0})},e.closeModal=function(){e.setState({modalVisible:!1,update_data:{},imageUrl:""})},e.fetch_category=function(){var t=Object(H.a)(J.a.mark((function t(a){var n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),{},n=a,t.next=5,A.a.query({query:St.f,variables:{limit:e.state.pagination.pageSize,page:e.state.pagination.current,search:n},fetchPolicy:"no-cache"}).then((function(t){var a,n,r=Object(Y.a)({},e.state.pagination);r.total=null===(a=t.data.get_company_detail)||void 0===a||null===(n=a.pageInfo)||void 0===n?void 0:n.totalDocs,e.setState({loading:!1,pagination:r,dataSource:t.data.get_company_detail.data})}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleDelete=function(){var t=Object(H.a)(J.a.mark((function t(a){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,A.a.mutate({mutation:St.b,variables:{company_id:a}}).then((function(t,a,n){Object(ue.a)(t.data.deleteCompany),"success"===t.data.deleteCompany.status&&e.fetch_category()}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.change_future=function(){var e=Object(H.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.onFilter_Ref=function(){var t=Object(H.a)(J.a.mark((function t(a){var n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.target.value?(n={name:{$regex:".*"+a.target.value+".*",$options:"i"}},e.fetch_category(n)):e.fetch_category();case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.fetch_category()}},{key:"render",value:function(){var e=this,t=[{title:r.createElement("span",null,"User Name"),width:"25%",render:function(e,t){var a,n,o,i;return r.createElement("div",null,r.createElement("span",{title:"Company Name"},null===(a=t.get_company_user_detail)||void 0===a||null===(n=a[0])||void 0===n?void 0:n.first_name),r.createElement("span",{title:""}," ",null===(o=t.get_company_user_detail)||void 0===o||null===(i=o[0])||void 0===i?void 0:i.last_name))}},{title:r.createElement("span",null,"Company Name"),dataIndex:"company_name",width:"25%",render:function(e,t){return r.createElement("span",{title:"Company Name"},t.company_name)}},{title:r.createElement("span",null,"Website"),dataIndex:"website",width:"25%",render:function(e,t){return r.createElement("span",{title:"Website"},r.createElement(W.a,{color:"geekblue"},t.company_website))}},{title:"Action",width:"15%",dataIndex:"operation",render:function(t,a){return e.state.dataSource.length>=1?r.createElement("span",{title:"....",className:"d-flex justify-content-around"},r.createElement(R.b,{permission:""},r.createElement("span",{className:"cursor_point",onClick:function(){e.props.history.push("/admin-company/add/".concat(a.user_id,"/").concat(a._id))}},r.createElement(X.a,{type:"edit",theme:"twoTone",twoToneColor:"#52c41a",className:"mx-3 f_25"}))),r.createElement(R.b,{permission:""},r.createElement(ee.a,{title:"Sure to delete this company ?",onConfirm:function(){return e.handleDelete(a._id)}},r.createElement(X.a,{type:"delete",theme:"twoTone",twoToneColor:"#52c41a",className:"f_25"})))):null}}];return r.createElement(r.Fragment,null,r.createElement("div",{className:"mb-3"},r.createElement(pe.a,{className:"",size:"large",placeholder:"Search Company",onKeyUp:function(t){e.onFilter_Ref(t)},loading:!1})),r.createElement("div",{id:"no-more-tables"},r.createElement(te.a,{className:"table_shadow",pagination:this.state.pagination,rowKey:function(e){return e.id},loading:this.state.loading,dataSource:this.state.dataSource,columns:t,onChange:this.handleTableChange})))}}]),a}(r.Component),Sn=ae.a.create()(Object(d.withRouter)(On)),Nn=l.a.Content,xn=fe.a.TabPane,Cn=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(){var e;Object(q.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={collapsed:!1},e.onToggle=function(t){console.log(t),e.setState({collapsed:t})},e}return Object(U.a)(a,[{key:"render",value:function(){return o.a.createElement(l.a,{style:{height:"100vh"}},o.a.createElement(B.default,{update_collapsed:this.state.collapsed}),o.a.createElement(l.a,null,o.a.createElement(V.default,null),o.a.createElement(Nn,{className:"main_frame"},o.a.createElement(fe.a,null,o.a.createElement(xn,{tab:"Company",key:"1"},o.a.createElement(Sn,null))))))}}]),a}(o.a.Component),In=a(1981),$n=a(282),Dn=a(444),Pn=a(124),Tn=l.a.Content,An=we.a.Title,Fn=je.a.Option,zn=o.a.lazy((function(){return a.e(8).then(a.bind(null,2081))})),Rn=o.a.lazy((function(){return a.e(40).then(a.bind(null,2092))})),qn=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).fetch_find_company=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.query({query:St.f,variables:{company_id:n.props.match.params.company_id},fetchPolicy:"no-cache"}).then((function(e){console.log(e),n.setState({update:1,update_data:e.data.get_company_detail.data[0],company_provider:e.data.get_company_detail.data[0].get_parent_company_provider,company_address:e.data.get_company_detail.data[0].get_company_address_detail})}));case 2:case"end":return e.stop()}}),e)}))),n.SearchEmail=function(){var e=Object(H.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={email:{$regex:".*"+t+".*",$options:"i"},role:2},e.next=3,A.a.query({query:St.k,variables:{data:a},fetchPolicy:"no-cache"}).then((function(e){console.log(e),n.setState({emails:e.data.user_search})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.normFile=function(e){return Array.isArray(e)?e:e&&e.fileList},n.getBase64=function(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)},n.beforeUpload=function(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||Oe.a.error("You can only upload JPG/PNG file!");var a=e.size/1024/1024<2;return a||Oe.a.error("Image must smaller than 2MB!"),t&&a},n.handle_logo_Change=function(e){"uploading"!==e.file.status?e.file.status&&(console.log(e.file.originFileObj),n.setState({logo_file:e.file.originFileObj}),n.getBase64(e.file.originFileObj,(function(e){return n.setState({imageUrl:e,loading:!1})}))):n.setState({loading:!0})},n.handle_profile_Change=function(e){"uploading"!==e.file.status?e.file.status&&(console.log(e.file.originFileObj),n.setState({profile_file:e.file.originFileObj}),n.getBase64(e.file.originFileObj,(function(e){return n.setState({profile_imageUrl:e,loading:!1})}))):n.setState({loading:!0})},n.on_popup_closed=function(){},n.on_location_change=function(e){e&&n.setState({address_id:e.user_address[0]._id,visibleAddress:!1})},n.update_company=function(){var e=n.props,t=e.form,a=e.history;t.validateFields(function(){var e=Object(H.a)(J.a.mark((function e(t,r){var o,i;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=15;break}return o={},r.company_name&&(o.company_name=r.company_name),r.about_company&&(o.about_company=r.about_company),r.company_category&&(o.company_category=r.company_category),r.company_website&&(o.company_website=r.company_website),r.provider_email&&r.provider_email.length&&(o.provider_email=r.provider_email),n.props.match.params.user_id&&(o.user_id=n.props.match.params.user_id),i={},n.props.match.params.company_id&&(i._id=n.props.match.params.company_id),Fa()(o)&&(i.company_data=[o]),n.state.logo_file&&Fa()(n.state.logo_file)&&(i.logo_file=n.state.logo_file),n.state.profile_file&&Fa()(n.state.profile_file)&&(i.profile_file=n.state.profile_file),e.next=15,A.a.mutate({mutation:St.i,variables:i}).then((function(e,t,r){n.setState({loading:!0}),Object(ue.a)(e.data.update_company_detail),"success"===e.data.update_company_detail.status&&a.push("/admin-company")}));case 15:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())},n.showDrawer=function(){n.setState({visible:!n.state.visible})},n.goPage=function(e,t){if("profile"===e){var a="/admin-user/add/";n.props.match.params.user_id&&(a="/admin-user/add/".concat(n.props.match.params.user_id)),n.props.history.push(a)}},n.state={user_id:"",visibleAddress:!1,modalVisible:!1,dataSource:[],loading:!1,imageUrl:"",profile_imageUrl:"",update:0,update_data:{},file:{},logo_file:{},profile_file:{},previewVisible:!1,previewImage:"",pagination:{pageSize:5,current:1,total:0,simple:!0},selectedItems:[],category:[],emails:[],company_provider:[],visible:!1,company_address:[],address_id:""},n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.form,t=localStorage.getItem("hokjighsasd");t&&this.setState({user_id:JSON.parse(window.atob(t))._id}),e.resetFields(),void 0!==this.props.match.params.company_id&&this.fetch_find_company()}},{key:"render",value:function(){var e=this,t=(X.a,this.state.loading,this.props.form);return o.a.createElement(o.a.Fragment,null,o.a.createElement(In.a,{title:"Create a Profile document",width:500,onClose:this.showDrawer,visible:this.state.visible,bodyStyle:{paddingBottom:80}},o.a.createElement(r.Suspense,{fallback:o.a.createElement("div",null,".......")},o.a.createElement(Rn,null))),o.a.createElement(l.a,{style:{height:"100vh"}},o.a.createElement(B.default,{update_collapsed:this.state.collapsed}),o.a.createElement(l.a,null,o.a.createElement(V.default,null),o.a.createElement(Tn,{className:"main_frame"},o.a.createElement(Se.a,{gutter:[24,24]},o.a.createElement(Ne.a,{span:24},o.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},o.a.createElement(An,{level:3},"Add Company"),o.a.createElement("div",null,o.a.createElement(be.a,{className:"mx-2",type:"primary",shape:"round",size:"small",onClick:this.showDrawer},"Document"),o.a.createElement(be.a,{className:"mx-2",type:"primary",shape:"round",size:"small",onClick:function(){e.goPage("profile")}},"Profile"))))),o.a.createElement(ae.a,null,o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:12,className:"px-3"},o.a.createElement(Se.a,{gutter:12},o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{label:"Company Name"},t.getFieldDecorator("company_name",{initialValue:this.state.update_data.company_name,rules:[{required:!0}]})(o.a.createElement(xe.a,{placeholder:"Company Name"}))))),o.a.createElement(Se.a,{gutter:12},o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{label:"Company Website"},t.getFieldDecorator("company_website",{initialValue:this.state.update_data.company_website,rules:[{required:!0}]})(o.a.createElement(xe.a,{placeholder:"Company Website"}))))),o.a.createElement(Se.a,{gutter:12},o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{label:"Company About"},t.getFieldDecorator("about_company",{initialValue:this.state.update_data.about_company,rules:[{required:!0}]})(o.a.createElement(xe.a.TextArea,{placeholder:"Company About"})))))),o.a.createElement(Ne.a,{span:12,className:"px-3"},o.a.createElement(Se.a,{gutter:12},o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{label:"Provider Email"},t.getFieldDecorator("provider_email",{rules:[{required:!1}]})(o.a.createElement(je.a,{mode:"tags",style:{width:"100%"},placeholder:"Enter your worker email",onSearch:this.SearchEmail},this.state.emails.map((function(e){return o.a.createElement(Fn,{key:e.email},e.email)}))))))),o.a.createElement(Se.a,{gutter:12},o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{label:"Company Category"},t.getFieldDecorator("company_category",{initialValue:this.state.update_data.company_category,rules:[{required:!0}]})(o.a.createElement(xe.a,{placeholder:"Company Category"}))))),o.a.createElement(Se.a,{gutter:12},o.a.createElement(Ne.a,{span:24})),o.a.createElement(Pn.c.Provider,{value:{location_change:this.on_location_change,popup_closed:this.on_popup_closed}},o.a.createElement(Jt.a,{onClick:function(){e.setState({visibleAddress:!0})}},"Address",this.state.address_id),o.a.createElement(Dn.a,{user_id:this.state.user_id,address_id:this.state.address_id}),o.a.createElement($n.default,{visible:this.state.visibleAddress,user_id:this.state.user_id,address_id:this.state.address_id}))))),o.a.createElement(Se.a,{className:"py-3",gutter:12},o.a.createElement(Ne.a,{span:24,className:"justify-content-end d-flex"},o.a.createElement(be.a,{type:"primary",htmlType:"submit",className:"mx-3",onClick:function(){e.props.history.push("/admin-company")}},"Cancel"),o.a.createElement(be.a,{type:"primary",className:this.state.update?"d-none":"",htmlType:"submit",onClick:this.update_company},"Submit"),o.a.createElement(be.a,{type:"primary",className:this.state.update?"":"d-none",htmlType:"submit",onClick:this.update_company},"Update"))),o.a.createElement(Se.a,{className:this.state.update?"":"d-none"},o.a.createElement(r.Suspense,{fallback:o.a.createElement("div",null,".......")},o.a.createElement(zn,null)))))))}}]),a}(o.a.Component),Un=ae.a.create()(qn),Ln=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(){var e;Object(q.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={modalVisible:!1,dataSource:[],update_data:{},update:0,loading:!1,loading_img:!1,imageUrl:"",file:{},previewVisible:!1,previewImage:"",view_img:"",pagination:{pageSize:10,total:0,current:1,simple:!0}},e.handleTableChange=function(){var t=Object(H.a)(J.a.mark((function t(a){var n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=Object(Y.a)({},a)).current=a.current,e.setState({loading:!0}),t.next=5,A.a.query({query:St.f,variables:{limit:n.pageSize,page:n.current},fetchPolicy:"no-cache"}).then((function(t){var a=Object(Y.a)({},e.state.pagination);a.total=t.data.get_company_detail.pageInfo.totalDocs,a.current=t.data.get_company_detail.pageInfo.page,e.setState({pagination:a,loading:!1,dataSource:t.data.get_company_detail.data})}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.showModal=function(){e.setState({modalVisible:!0})},e.closeModal=function(){e.setState({modalVisible:!1,update_data:{},imageUrl:""})},e.fetch_category=function(){var t=Object(H.a)(J.a.mark((function t(a){var n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),{},n=a,t.next=5,A.a.query({query:St.f,variables:{limit:e.state.pagination.pageSize,page:e.state.pagination.current,search:n},fetchPolicy:"no-cache"}).then((function(t){var a=Object(Y.a)({},e.state.pagination);a.total=t.data.get_company_detail.pageInfo.totalDocs,e.setState({loading:!1,pagination:a,dataSource:t.data.get_company_detail.data})}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleDelete=function(){var t=Object(H.a)(J.a.mark((function t(a){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,A.a.mutate({mutation:St.b,variables:{company_id:a}}).then((function(t,a,n){Object(ue.a)(t.data.deleteCompany),"success"===t.data.deleteCompany.status&&e.fetch_category()}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.change_future=function(){var e=Object(H.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.onFilter_Ref=function(){var t=Object(H.a)(J.a.mark((function t(a){var n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.target.value?(n={name:{$regex:".*"+a.target.value+".*",$options:"i"}},e.fetch_category(n)):e.fetch_category();case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.fetch_category()}},{key:"render",value:function(){var e=this,t=[{title:r.createElement("span",null,"Company Name"),dataIndex:"company_name",width:"25%",render:function(e,t){return r.createElement("span",{title:"Company Name"},t.name)}},{title:r.createElement("span",null,"Website"),dataIndex:"website",width:"25%",render:function(e,t){return r.createElement("span",{title:"Website"},r.createElement(W.a,{color:"geekblue"},t.website_url))}},{title:r.createElement("span",null,"Address"),dataIndex:"address",width:"25%",render:function(e,t){return r.createElement("span",{title:"Address"},null===t||void 0===t?void 0:t.address)}},{title:"Action",width:"15%",dataIndex:"operation",render:function(t,a){return e.state.dataSource.length>=1?r.createElement("span",{title:"....",className:"d-flex justify-content-around"},r.createElement(R.b,{permission:""},r.createElement("span",{className:"cursor_point",onClick:function(){e.props.history.push("/admin-company/add/".concat(a._id))}},r.createElement(X.a,{type:"edit",theme:"twoTone",twoToneColor:"#52c41a",className:"mx-3 f_25"}))),r.createElement(R.b,{permission:""},r.createElement(ee.a,{title:"Sure to delete this company ?",onConfirm:function(){return e.handleDelete(a._id)}},r.createElement(X.a,{type:"delete",theme:"twoTone",twoToneColor:"#52c41a",className:"f_25"})))):null}}];return r.createElement(r.Fragment,null,r.createElement("div",{className:"mb-3"},r.createElement(pe.a,{className:"",size:"large",placeholder:"Search Company",onKeyUp:function(t){e.onFilter_Ref(t)},loading:!1})),r.createElement("div",{id:"no-more-tables"},r.createElement(te.a,{className:"table_shadow",pagination:this.state.pagination,rowKey:function(e){return e.id},loading:this.state.loading,dataSource:this.state.dataSource,columns:t,onChange:this.handleTableChange})))}}]),a}(r.Component),Mn=ae.a.create()(Object(d.withRouter)(Ln)),Bn=a(42),Vn=(l.a.Content,o.a.lazy((function(){return Promise.resolve().then(a.bind(null,650))})),o.a.lazy((function(){return Promise.all([a.e(15),a.e(17)]).then(a.bind(null,2093))})));var Gn,Jn,Yn,Hn,Kn,Wn,Qn,Zn,Xn,er,tr=function(e){var t=Object(r.useState)(!1),a=Object(Bn.a)(t,2),n=(a[0],a[1],Object(r.useState)(1)),i=Object(Bn.a)(n,2);return i[0],i[1],o.a.createElement(o.a.Fragment,null,o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{lg:{span:18,offset:3},className:"pt-5"},o.a.createElement(r.Suspense,{fallback:o.a.createElement(s.a,{active:!0})},o.a.createElement(Vn,null)))))},ar=a(1985),nr=o.a.lazy((function(){return a.e(6).then(a.bind(null,2118))})),rr=o.a.lazy((function(){return a.e(31).then(a.bind(null,2095))})),or=o.a.lazy((function(){return a.e(9).then(a.bind(null,2088))})),ir=o.a.lazy((function(){return a.e(16).then(a.bind(null,2119))})),cr=(o.a.lazy((function(){return Promise.resolve().then(a.bind(null,650))})),{padding:"0px"}),lr=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).state={contract_id:"",booking_status:""},n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.props.match.params.id&&this.setState({contract_id:this.props.match.params.id})}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(ar.a,null),o.a.createElement(Se.a,{gutter:12},o.a.createElement(Ne.a,{lg:3}),o.a.createElement(Ne.a,{lg:18,md:24,className:"my-3"},o.a.createElement(Jt.a,{bordered:0,bodyStyle:cr},o.a.createElement(r.Suspense,{fallback:o.a.createElement(s.a,{active:!0})},o.a.createElement(or,{contract_id:this.state.contract_id})),o.a.createElement(Jt.a,{bordered:0,className:"my-3",bodyStyle:cr},o.a.createElement(r.Suspense,{fallback:o.a.createElement(s.a,{active:!0})},o.a.createElement(ir,{contract_id:this.state.contract_id}))),o.a.createElement(r.Suspense,{fallback:o.a.createElement(s.a,{active:!0})},o.a.createElement(rr,{contract_id:this.state.contract_id})),o.a.createElement(r.Suspense,{fallback:o.a.createElement(s.a,{active:!0})},o.a.createElement(nr,{contract_id:this.state.contract_id})))),o.a.createElement(Ne.a,{lg:6,md:24})))}}]),a}(o.a.Component),sr=ae.a.create()(Object(d.withRouter)(lr)),dr=a(90),ur=a.n(dr),mr=a(465),pr=a.n(mr),gr=a(291),_r=Object(re.a)(Gn||(Gn=Object(ne.a)(["\n query CHECKOPT($_id:ID,$otp:String) {\n    checkOtp(_id:$_id,otp:$otp) {\n        msg\n        role\n        email\n        password\n        _id\n        name\n        demo\n        address\n        phone_number\n        country_code\n        phone_no\n        location\n        img_url\n        lat\n        lng\n        rating\n        profile\n        status\n        user_type\n        company_register_status\n    }\n}"]))),fr=Object(re.a)(Jn||(Jn=Object(ne.a)(["\n    query SENDFORGETEMAIL($role:Int,$email:String){\n        confirm_email(role:$role,email:$email){\n                msg\n                status\n            }\n    }"]))),br=(Object(re.a)(Yn||(Yn=Object(ne.a)(["\n    query CHECKDEMO($_id:ID){\n        check_demo_app(_id:$_id){\n                msg\n                status\n            }\n    }"]))),Object(re.a)(Hn||(Hn=Object(ne.a)(["\nquery EMAILLOGIN($role: Int,$email: String,$password: String,$location_code:String){\n    sign_up( role: $role\n            email: $email\n            password: $password\n        ){\n            msg\n            role\n            _id\n            email\n            password\n            name\n            demo\n            address\n            phone_number\n            country_code\n            phone_no\n            location\n            img_url\n            lat\n            lng\n            rating\n            profile\n            status\n            get_currency(location_code:$location_code) {\n                _id\n                country_code\n                code\n                symbol\n                location\n                msg\n                status\n            }\n        }\n}"])))),hr=Object(re.a)(Kn||(Kn=Object(ne.a)(["\nquery USER($_id:ID){\n    user(_id:$_id){\n            msg\n            role\n            _id\n            email\n            password\n            name\n            demo\n            address\n            phone_number\n            country_code\n            phone_no\n            location\n            img_url\n            lat\n            lng\n            rating\n            profile\n            status\n        }\n}"]))),yr=Object(re.a)(Wn||(Wn=Object(ne.a)(["\n  mutation RESETPASSWORD($password:String,$id:ID) {\n    reset_password(password:$password,id:$id) {\n      msg\n      status\n    }\n  }\n"]))),vr=Object(re.a)(Qn||(Qn=Object(ne.a)(["\n    mutation ADDUSER($_id:ID,$user_type:String,$option:String,$phone_no:String,$role:Int,$location_code:String,$country_code:String,$email:String,$password:String,$first_name:String,$last_name:String,$lng:Float,$lat:Float,$provider_subCategoryID:[ID]){\n        addUser(_id:$_id,user_type:$user_type,option:$option,phone_no:$phone_no,role:$role,location_code:$location_code,country_code:$country_code,email:$email,password:$password,last_name:$last_name,first_name:$first_name,lng:$lng,lat:$lat,provider_subCategoryID:$provider_subCategoryID){\n            msg\n            otp\n            status\n            _id\n            demo\n            role\n            email\n            password\n            name\n            address\n            phone_number\n            country_code\n            location_code\n            phone_no\n            location\n            img_url\n            lat\n            lng\n            rating\n            profile\n            user_type\n            company_register_status\n           company_id\n        }\n    }\n"]))),Er=Object(re.a)(Zn||(Zn=Object(ne.a)(["\n    mutation UPDATECOMPANY($_id:ID,$company_data:JSON){\n        update_company_detail(_id:$_id,company_data:$company_data){\n            msg\n            status\n            _id\n            user_id\n            get_currency(location_code:$location_code) {\n                _id\n                country_code\n                code\n                symbol\n                location\n                msg\n                status\n            }\n        }\n    }\n"]))),kr=Object(re.a)(Xn||(Xn=Object(ne.a)(["\n    mutation UPDATEIMG($_id:ID,$file:Upload){\n        update_profile(_id:$_id,file:$file){\n            msg\n            otp\n            status\n            _id\n            role\n            email\n            demo\n            password\n            name\n            address\n            phone_number\n            country_code\n            phone_no\n            location\n            img_url\n            lat\n            lng\n            rating\n            profile\n        }\n    }\n"]))),wr=we.a.Text,jr=we.a.Title,Or=o.a.lazy((function(){return a.e(61).then(a.bind(null,2097))})),Sr=o.a.lazy((function(){return a.e(62).then(a.bind(null,2098))})),Nr=o.a.lazy((function(){return a.e(63).then(a.bind(null,2099))})),xr=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).get_otp=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.props.form.validateFields(function(){var e=Object(H.a)(J.a.mark((function e(t,a){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return e.next=3,A.a.query({query:vr,variables:{option:"otp",phone_no:n.state.m_no,role:1,location_code:n.state.location_code,country_code:n.state.country_code},fetchPolicy:"no-cache"}).then((function(e){console.log(e.data.addUser.status),localStorage.setItem("user",JSON.stringify(e.data.addUser)),localStorage.setItem("currency",JSON.stringify(e.data.addUser.get_currency)),Object(ue.a)({msg:e.data.addUser.otp,status:"success"}),n.setState({login:0})}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),n.resend_otp=Object(H.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(localStorage.getItem("user")),console.log(t),e.next=4,A.a.query({query:vr,variables:{option:"otp",phone_no:t.phone_no,role:1,country_code:t.phone_no,location_code:n.state.location_code},fetchPolicy:"no-cache"}).then((function(e){console.log(e.data.addUser.status),localStorage.setItem("user",JSON.stringify(e.data.addUser)),localStorage.setItem("currency",JSON.stringify(e.data.addUser.get_currency)),Object(ue.a)({msg:e.data.addUser.otp,status:"success"}),n.setState({login:0})}));case 4:case"end":return e.stop()}}),e)}))),n.check_otp=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.props.form.validateFields(function(){var e=Object(H.a)(J.a.mark((function e(t,a){var r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(a),r=localStorage.getItem("user"),console.log(r),t){e.next=6;break}return e.next=6,A.a.query({query:_r,variables:{_id:JSON.parse(r)._id,otp:a.otp},fetchPolicy:"no-cache"}).then((function(e){if("new user"===e.data.checkOtp.msg)Object(ue.a)(e.data.checkOtp),n.setState({choose_registration:1,otp_login:0});else if("Wrong OTP"===e.data.checkOtp.msg)Object(ue.a)(e.data.checkOtp),localStorage.setItem("userLogin","failed");else{if(e.data.checkOtp.user_type&&"company"===e.data.checkOtp.user_type){if(1===e.data.checkOtp.company_register_status)return n.setState({company_registration_detail:1,otp_login:0}),!1;if(2===e.data.checkOtp.company_register_status)return n.setState({company_worker_detail:1,otp_login:0}),!1}localStorage.setItem("userLogin","success"),n.props.history.push("/")}}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),n.change_from_type=function(e){"COMPANY_REGISTRATION"===e?n.setState({user_type:"company",register:1,choose_registration:0}):"INDIVIDUAL_REGISTRATION"===e?n.setState({user_type:"individual",register:1,choose_registration:0}):"CHO0SE_REGISTRATION"===e?n.setState({user_type:"individual",choose_registration:!0}):"COMPANY_REGISTRATION_DETAIL"===e?n.setState({user_type:"individual",company_registration_detail:!0}):"COMPANY_WORKER_DETAIL"===e&&n.setState({user_type:"individual",company_worker_detail:!0,company_registration_detail:!1})},n.submitFromData=function(){var e=Object(H.a)(J.a.mark((function e(t){var a,r,o,i=arguments;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=i.length>1&&void 0!==i[1]?i[1]:"",console.log("submitFromData -> data",t),t.user_type=n.state.user_type,(r=localStorage.getItem("user"))&&(t.user_id=JSON.parse(r)._id),o="",localStorage.getItem("user_company_id")&&(o=localStorage.getItem("user_company_id")),!t){e.next=10;break}return e.next=10,A.a.mutate({mutation:Er,variables:{_id:o,company_data:[t]}}).then((function(e){console.log(e.data),Object(ue.a)(e.data.update_company_detail),"success"===e.data.update_company_detail.status?"COMPANY_REGISTRATION_DETAIL"===a?n.setState({company_id:e.data.update_company_detail._id,company_registration_detail:0,company_worker_detail:!0}):"COMPANY_WORKER_DETAIL"===a&&(localStorage.setItem("userLogin","success"),n.props.history.push("/")):"COMPANY_REGISTRATION_DETAIL"===a?n.setState({company_registration_detail:1}):"COMPANY_WORKER_DETAIL"===a&&n.setState({company_worker_detail:1})}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.emailLogin=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.props.form.validateFields(function(){var e=Object(H.a)(J.a.mark((function e(t,a){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return e.next=3,A.a.query({query:br,variables:{role:1,email:a.email,password:a.password},fetchPolicy:"no-cache"}).then((function(e){console.log(e.data.sing_up.status),localStorage.setItem("user",JSON.stringify(e.data.addUser)),Object(ue.a)({msg:e.data.addUser.otp,status:"success"}),n.setState({login:0})}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),n.add_user=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.props.form.validateFields(function(){var e=Object(H.a)(J.a.mark((function e(t,a){var r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(a),r=localStorage.getItem("user"),t){e.next=5;break}return e.next=5,A.a.mutate({mutation:vr,variables:{user_type:n.state.user_type,option:"add",_id:JSON.parse(r)._id,last_name:a.last_name,first_name:a.first_name,email:a.email,password:a.password}}).then((function(e){console.log(e.data,"userdata"),Object(ue.a)(e.data.addUser),"success"===e.data.addUser.status?e.data.addUser.company_id&&"company"===n.state.user_type?(n.setState({company_id:e.data.addUser.company_id,company_registration_detail:1,register:0}),localStorage.setItem("user_company_id",e.data.addUser.company_id)):(localStorage.setItem("userLogin","success"),n.props.history.push("/")):n.setState({register:1,otp_login:0})}));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),n.state={otp:"",register:0,otp_login:!0,email_login:0,choose_registration:!1,company_registration_detail:!1,company_worker_detail:!1,country_code:"",location_code:"",login:1,company_id:"",m_no:"",user_type:"individual"},n}return Object(U.a)(a,[{key:"render",value:function(){var e=this,t=this.props.form;return o.a.createElement(Se.a,{style:{overflow:"auto",height:"100vh"}},o.a.createElement(Ne.a,{lg:12,className:"d-none d-lg-flex d-xl-flex justify-content-center align-items-center overflow-hidden h-100"},o.a.createElement("div",{className:"d-flex justify-content-around"},o.a.createElement("img",{src:ur.a,alt:"jiffy",style:{width:300}}))),o.a.createElement(Ne.a,{lg:12,md:24,sm:24,className:"froms",style:{overflow:"auto",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement("div",{className:this.state.otp_login?"w-75 mw-450":" d-none"},o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:24,className:"d-flex d-sm-flex d-lg-none h4 justify-content-around py-3 my-2"},o.a.createElement("img",{src:ur.a,alt:"jiffy",width:"12",style:{width:"8em",height:"3em"},height:"10"})),o.a.createElement(Ne.a,{span:24,className:"d-flex justify-content-around py-3"},o.a.createElement(jr,{level:2}," ",o.a.createElement(wr,{className:"primary_color",strong:!0},"LOGIN"))),o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:24,className:this.state.login?"py-3":"d-none"},o.a.createElement(ae.a.Item,{label:"Mobile Number"},t.getFieldDecorator("phone",{rules:this.state.login?[{required:!0,message:"Phone Number is required"}]:[]})(o.a.createElement(Rt.a,{searchStyle:{backgroundColor:"white"},placeholder:"phone no",inputClass:"input_border",buttonClass:"input_border",inputStyle:{height:"46px"},country:"ke",mask:{in:".........."},onKeyDown:function(t){13===t.keyCode&&e.get_otp()},onChange:function(t,a,n){console.log("render -> data",a),e.setState({m_no:t.replace(/[^0-9]+/g,"").slice(a.dialCode.length),country_code:a.dialCode,location_code:a.countryCode})}})))),o.a.createElement(Ne.a,{span:24,className:this.state.login?"d-none":"py-3"},o.a.createElement(ae.a.Item,{className:"otp_align",label:"OTP"},t.getFieldDecorator("otp",{rules:this.state.login?[]:[{required:!0,message:"otp is required"}]})(o.a.createElement(pr.a,{onChange:function(t){e.setState({otp:t})},numInputs:4,inputStyle:{width:"3em",height:"3em",margin:"0px 1px"},separator:o.a.createElement("span",{className:"px-3"}," ")}))))),o.a.createElement(Ne.a,{span:24},o.a.createElement(be.a,{type:"primary",size:"large",block:!0,className:this.state.login?"":"d-none",htmlType:"submit",onClick:this.get_otp},"Next"),o.a.createElement(be.a,{type:"primary",size:"large",block:!0,className:this.state.login?"d-none":"",htmlType:"submit",onClick:this.check_otp},"Submit"),o.a.createElement(be.a,{type:"link",size:"large",block:!0,className:this.state.login?"d-none":"",onClick:this.resend_otp},o.a.createElement(gr.b,{className:"primary_color"})," ",o.a.createElement("span",{className:"primary_color"},"resend otp"))),o.a.createElement(Ne.a,{span:24,className:"d-flex justify-content-center py-3"},o.a.createElement(wr,null,"or")),o.a.createElement(Ne.a,{span:24,className:"d-flex justify-content-center"},o.a.createElement(be.a,{type:"link",onClick:function(){e.props.history.push("/signup")}},o.a.createElement(wr,null,"Login via ",o.a.createElement("span",{className:"primary_color"},"Email Address")," "))))),o.a.createElement("div",{className:this.state.email_login?"w-75 mw-450":" d-none"},o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:24,className:"d-flex d-sm-flex d-lg-none h4 justify-content-around py-3 my-2"},o.a.createElement("img",{src:ur.a,alt:"jiffy",width:"12",style:{width:"8em",height:"3em"},height:"10"})),o.a.createElement(Ne.a,{span:24,className:"d-flex justify-content-around py-3"},o.a.createElement(jr,{level:2}," ",o.a.createElement(wr,{className:"primary_color",strong:!0},"LOGIN"))),o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{className:"",lg:24},o.a.createElement(ae.a.Item,{label:"Email"},t.getFieldDecorator("email",{rules:this.state.email_login?[{required:!0}]:[]})(o.a.createElement(xe.a,{placeholder:"Email",className:"input_border"})))),o.a.createElement(Ne.a,{className:"",lg:24},o.a.createElement(ae.a.Item,{label:"Password"},t.getFieldDecorator("password",{rules:this.state.email_login?[{required:!0}]:[]})(o.a.createElement(xe.a.Password,{placeholder:"Password",className:"input_border border_less",onPressEnter:this.check_otp}))))),o.a.createElement(Ne.a,{span:24},o.a.createElement(be.a,{type:"primary",size:"large",block:!0,className:this.state.email_login?"":"d-none",htmlType:"submit",onClick:this.check_otp},"Submit")),o.a.createElement(Ne.a,{span:24,className:"d-flex justify-content-center py-3"},o.a.createElement(wr,null,"or")),o.a.createElement(Ne.a,{span:24,className:"d-flex justify-content-center"},o.a.createElement(be.a,{type:"link",onClick:function(){e.setState({email_login:0,otp_login:1})}},o.a.createElement(wr,null,"Are you new here ? ",o.a.createElement("span",{className:"primary_color"},"Register")))))),o.a.createElement("div",{className:this.state.register?"w-75 mw-450":" d-none"},o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:24,className:"d-flex d-sm-flex d-lg-none h4 justify-content-around py-3 my-2"},o.a.createElement("img",{src:ur.a,alt:"jiffy",width:"12",style:{width:"8em",height:"3em"},height:"10"})),o.a.createElement(Ne.a,{span:24,className:"d-flex justify-content-around py-3"},o.a.createElement(jr,{level:2}," ",o.a.createElement(wr,{className:"primary_color",strong:!0},"REGISTER"))),o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{className:"",lg:24},o.a.createElement(ae.a.Item,{label:"First Name"},t.getFieldDecorator("frist_name",{rules:this.state.register?[{required:!0}]:[]})(o.a.createElement(xe.a,{className:"input_border"})))),o.a.createElement(Ne.a,{className:"",lg:24},o.a.createElement(ae.a.Item,{label:"Last Name"},t.getFieldDecorator("last_name",{rules:this.state.register?[{required:!0}]:[]})(o.a.createElement(xe.a,{className:"input_border"})))),o.a.createElement(Ne.a,{className:"",lg:24},o.a.createElement(ae.a.Item,{label:"Email"},t.getFieldDecorator("email",{rules:this.state.register?[{required:!0}]:[]})(o.a.createElement(xe.a,{className:"input_border"})))),o.a.createElement(Ne.a,{className:"",lg:24},o.a.createElement(ae.a.Item,{label:"Password"},t.getFieldDecorator("password",{rules:this.state.register?[{required:!0}]:[]})(o.a.createElement(xe.a.Password,{className:"input_border"}))))),o.a.createElement(Ne.a,{span:24},o.a.createElement(be.a,{type:"primary",size:"large",block:!0,className:this.state.register?"":"d-none",htmlType:"submit",onClick:this.add_user},"Register")),o.a.createElement(Ne.a,{span:24,className:"d-flex justify-content-center py-3"},o.a.createElement(wr,null,"or")),o.a.createElement(Ne.a,{span:24,className:"d-flex justify-content-center"},o.a.createElement(be.a,{type:"link",onClick:function(){e.setState({register:0,otp_login:1,login:1})}},o.a.createElement(wr,null,"Are you new here ? ",o.a.createElement("span",{className:"primary_color"},"Register")))))),o.a.createElement("div",{className:this.state.choose_registration?"w-75 mw-450":" d-none"},o.a.createElement(r.Suspense,{fallback:o.a.createElement(s.a,null)},o.a.createElement(Or,{change_from_type:this.change_from_type}))),o.a.createElement("div",{className:this.state.company_registration_detail?"w-75 mw-450":" d-none"},o.a.createElement(r.Suspense,{fallback:o.a.createElement(s.a,null)},o.a.createElement(Sr,{change_from_type:this.change_from_type,submitFromData:this.submitFromData}))),o.a.createElement("div",{className:this.state.company_worker_detail?"w-75 mw-450":" d-none"},o.a.createElement(r.Suspense,{fallback:o.a.createElement(s.a,null)},o.a.createElement(Nr,{change_from_type:this.change_from_type,submitFromData:this.submitFromData})))))}}]),a}(o.a.Component),Cr=ae.a.create()(xr),Ir=a(153),$r=a.n(Ir),Dr=o.a.lazy((function(){return a.e(33).then(a.bind(null,2100))})),Pr=o.a.lazy((function(){return Promise.all([a.e(38),a.e(20)]).then(a.bind(null,2101))})),Tr=o.a.lazy((function(){return a.e(19).then(a.bind(null,2102))})),Ar=o.a.lazy((function(){return a.e(24).then(a.bind(null,2103))})),Fr=o.a.lazy((function(){return a.e(57).then(a.bind(null,2104))})),zr=o.a.lazy((function(){return a.e(60).then(a.bind(null,2105))})),Rr=o.a.lazy((function(){return a.e(59).then(a.bind(null,2106))})),qr=o.a.lazy((function(){return a.e(58).then(a.bind(null,2107))})),Ur=o.a.lazy((function(){return a.e(32).then(a.bind(null,2108))})),Lr=function(){var e=Object(r.useState)(!1),t=Object(Bn.a)(e,2),a=t[0],n=t[1],i=Object(r.useState)(""),c=Object(Bn.a)(i,2),l=(c[0],c[1]),d=Object(r.useState)("Kenya"),u=Object(Bn.a)(d,2),m=u[0],p=u[1],g=Object(r.useState)([9.9252,78.1198]),_=Object(Bn.a)(g,2),f=_[0],b=_[1],h=Object(r.useState)(""),y=Object(Bn.a)(h,2),v=y[0],E=y[1],k=Object(r.useState)({}),w=Object(Bn.a)(k,2),j=w[0],O=w[1],S=$r()().history,N=function(){var e=Object(H.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("set_home_page_location -> data",t),p(null===t||void 0===t?void 0:t.home_page_city),b(null===t||void 0===t?void 0:t.center);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(H.a)(J.a.mark((function e(t){var r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(m),"success"===localStorage.getItem("userLogin")?(r={pathname:"/description/".concat(t._id),state:{type:t.category_type,location:f,location_detail:m}},O(r),E(t._id),l("trending"),n(!a)):S.push("/login");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(Pn.b.Provider,{value:{set_home_page_location:N,on_book:x}},o.a.createElement(r.Suspense,{fallback:o.a.createElement("p",{className:"container mt-2",style:{backgroundColor:"#eae5e5",width:"100%",height:"30px"}})},o.a.createElement(Fr,null)),o.a.createElement(r.Suspense,{fallback:o.a.createElement("p",{className:"container mt-2",style:{backgroundColor:"#eae5e5",width:"100%",height:"30px"}})},o.a.createElement(zr,null)),o.a.createElement(r.Suspense,{fallback:o.a.createElement("p",{className:"container mt-2",style:{backgroundColor:"#eae5e5",width:"100%",height:"30px"}})},o.a.createElement(qr,null)),o.a.createElement(r.Suspense,{fallback:o.a.createElement("p",{className:"container mt-2",style:{backgroundColor:"#eae5e5",width:"100%",height:"30px"}})},o.a.createElement(Dr,null)),o.a.createElement(r.Suspense,{fallback:o.a.createElement("p",{className:"container mt-2",style:{backgroundColor:"#eae5e5",width:"100%",height:"30px"}})},o.a.createElement(Rr,null)),o.a.createElement(r.Suspense,{fallback:o.a.createElement("p",{className:"container mt-2",style:{backgroundColor:"#eae5e5",width:"100%",height:"30px"}})},o.a.createElement(Ar,null)),o.a.createElement(r.Suspense,{fallback:o.a.createElement("p",{className:"container mt-2",style:{backgroundColor:"#eae5e5",width:"100%",height:"30px"}})},o.a.createElement(Pr,null)),o.a.createElement(r.Suspense,{fallback:o.a.createElement("p",{className:"container mt-2",style:{backgroundColor:"#eae5e5",width:"100%",height:"30px"}})},o.a.createElement(Tr,null)),o.a.createElement(Z.a,{footer:null,centered:!0,visible:a,onCancel:function(){n(!1)}},o.a.createElement(r.Suspense,{fallback:o.a.createElement(s.a,{active:!0})},o.a.createElement(Ur,{current_id:v,comman_data:j})))))},Mr=a(138),Br=a.n(Mr),Vr=a(170),Gr=a.n(Vr),Jr=a(354),Yr=a.n(Jr),Hr=a(33),Kr=a.n(Hr),Wr=a(150),Qr=a.n(Wr),Zr=a(364),Xr=a.n(Zr),eo=a(368),to=a.n(eo),ao=a(92),no=a.n(ao),ro=a(66),oo=a.n(ro),io=a(261),co=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.fetch_user();case 1:case"end":return e.stop()}}),e)}))),n.fetch_user=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.query({query:hr,variables:{_id:JSON.parse(localStorage.getItem("user"))._id},fetchPolicy:"no-cache"}).then((function(e){console.log(e),n.setState({user_data:e.data.user[0]?e.data.user[0]:[],country_code:e.data.user[0]?e.data.user[0].country_code:""})}));case 2:case"end":return e.stop()}}),e)}))),n.logout=function(){"success"===localStorage.getItem("userLogin")&&(localStorage.removeItem("userLogin"),localStorage.removeItem("user"),n.props.history.push("/login"))},n.getBase64=function(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)},n.normFile=function(e){return Array.isArray(e)?e:e&&e.fileList},n.beforeUpload=function(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||to.a.error("You can only upload JPG/PNG file!");var a=e.size/1024/1024<2;return a||to.a.error("Image must smaller than 2MB!"),t&&a},n.handleChange=function(){var e=Object(H.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),"uploading"!==t.file.status){e.next=4;break}return n.setState({loading:!0}),e.abrupt("return");case 4:if(!t.file.status){e.next=10;break}return console.log(t.file.originFileObj),n.getBase64(t.file.originFileObj,(function(e){return n.setState({imageUrl:e,loading:!1})})),a=localStorage.getItem("user"),e.next=10,A.a.mutate({mutation:kr,variables:{_id:JSON.parse(a)._id,file:t.file.originFileObj}}).then((function(e){if(Object(ue.a)(e.data.update_profile),"success"===e.data.update_profile.status){var t=Object(Y.a)(Object(Y.a)({},JSON.parse(a)),{img_url:e.data.update_profile.img_url});localStorage.setItem("user",JSON.stringify(t)),n.setState({imageUrl:e.data.update_profile.img_url,user_data:e.data.update_profile})}}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.update_user_detail=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.props.form.validateFields(function(){var e=Object(H.a)(J.a.mark((function e(t,a){var r,o,i,c,l,s,d;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=localStorage.getItem("user"),o={},t){e.next=7;break}return i="",a.phone.length>10?(11===(c=a.phone.split("+91"))[1].length?i=c[1].trim():(l=c[1].split("-"),i=l[0].trim()+l[1].trim()),o={option:"add",_id:JSON.parse(r)._id,name:a.name,email:a.email,phone_no:i,country_code:n.state.country_code}):o={option:"add",_id:JSON.parse(r)._id,name:a.name,email:a.email,phone_no:null===(s=n.state.user_data)||void 0===s?void 0:s.phone_no,country_code:null===(d=n.state.user_data)||void 0===d?void 0:d.country_code},e.next=7,A.a.mutate({mutation:vr,variables:o}).then((function(e){if(console.log(e.data),Object(ue.a)(e.data.addUser),"success"===e.data.addUser.status){var t=Object(Y.a)(Object(Y.a)({},JSON.parse(r)),{name:e.data.addUser.name,email:e.data.addUser.name,country_code:e.data.addUser.country_code,phone_no:e.data.addUser.phone_no});localStorage.setItem("user",JSON.stringify(t)),n.setState({edit_profile_modal:0,detail:0})}}));case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),n.update_user_password=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.props.form.validateFields(function(){var e=Object(H.a)(J.a.mark((function e(t,a){var r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=localStorage.getItem("user"),console.log(a),a.new_password!==a.old_password){e.next=8;break}if(t){e.next=6;break}return e.next=6,A.a.mutate({mutation:vr,variables:{option:"add",_id:JSON.parse(r)._id,password:a.new_password}}).then((function(e){if(console.log(e.data),Object(ue.a)(e.data.addUser),"success"===e.data.addUser.status){var t=Object(Y.a)(Object(Y.a)({},JSON.parse(r)),{password:e.data.addUser.password});localStorage.setItem("user",JSON.stringify(t)),n.setState({change_password_modal:0,pwd:0})}}));case 6:e.next=9;break;case 8:Object(ue.a)({msg:"Please check the password",status:"failed"});case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),n.state={edit_profile_modal:!1,change_password_modal:!1,location_modal:!1,user_data:{},detail:0,pwd:0,country_code:"",file:{},imageUrl:""},n}return Object(U.a)(a,[{key:"render",value:function(){var e=this,t=this.state.user_data,a=this.props.form,n=o.a.createElement("div",null,o.a.createElement(Kr.a,{type:this.state.loading?"loading":"plus"}),o.a.createElement("div",{className:"ant-upload-text"},"Upload"));return o.a.createElement(o.a.Fragment,null,o.a.createElement(no.a,null,o.a.createElement(oo.a,{lg:{span:20,offset:2}},o.a.createElement("div",{id:"section-1",className:"why_jiffy position-relative pt-1"},o.a.createElement("h2",{className:"bold mb-5 text-center"},"Profile"),o.a.createElement(no.a,{className:"profile_section jiffy_border p-4 d-flex align-items-center mb-4"},o.a.createElement(oo.a,{span:23},o.a.createElement("img",{className:"profile_pic circle float-left mr-4 avatar_shadow",alt:"",src:t?t.img_url:""}),o.a.createElement("p",{className:"larger_font_size m-0 pt-3 mb-2 ml-3"},t?t.name:""),o.a.createElement("p",{className:"normal_font_size m-0 ml-3"},t?t.email:""),o.a.createElement(Br.a,{okButtonProps:{className:"ok_btn"},okText:"Update",cancelButtonProps:{className:"d-none"},title:"Edit Profile",className:"new_modal",centered:!0,visible:this.state.edit_profile_modal,onOk:this.update_user_detail,onCancel:function(){return e.setState({edit_profile_modal:!1,detail:0})}},o.a.createElement("div",{className:"edit_profile p-5"},o.a.createElement("div",{className:"profile_img text-center col-12"},o.a.createElement(Qr.a.Item,{label:""},a.getFieldDecorator("file",{rules:[],valuePropName:"fileList",getValueFromEvent:this.normFile})(o.a.createElement(Yr.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader d-flex justify-content-center",action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",showUploadList:!1,beforeUpload:this.beforeUpload,onChange:this.handleChange},t?o.a.createElement("img",{src:t.img_url,alt:"avatar",style:{width:"100%"}}):n)))),o.a.createElement("div",{className:"edit_inputs"},o.a.createElement(no.a,null,o.a.createElement(oo.a,{className:"",lg:24},o.a.createElement(Qr.a.Item,{label:"Full Name"},a.getFieldDecorator("name",{rules:this.state.detail?[{required:!0,message:"Enter Full Name"}]:[],initialValue:t?t.name:""})(o.a.createElement(Xr.a,{className:"input_border text-indent-zero"})))),o.a.createElement(oo.a,{className:"",lg:24},o.a.createElement(Qr.a.Item,{label:"Email"},a.getFieldDecorator("email",{rules:this.state.detail?[{required:!0,message:"Enter Email"}]:[],initialValue:t?t.email:""})(o.a.createElement(Xr.a,{value:t?t.email:"",className:"input_border text-indent-zero"})))),o.a.createElement(oo.a,{span:24},o.a.createElement(Qr.a.Item,{label:"Mobile Number"},a.getFieldDecorator("phone",{rules:this.state.detail?[{required:!0,message:"Enter Phone Number"}]:[],initialValue:t?"+".concat(t.country_code," ").concat(t.phone_no):""})(o.a.createElement(Rt.a,{disabled:!0,searchStyle:{backgroundColor:"white"},inputClass:"input_border",buttonClass:"input_border",inputStyle:{height:"46px"},defaultCountry:"in",mask:{in:"+ .........."},onChange:function(t,a,n){e.setState({country_code:a.dialCode})}}))))))))),o.a.createElement(oo.a,{orientation:"left",justify:"end",span:1},o.a.createElement("div",{className:"text-center cursor_point"},o.a.createElement(Gr.a,{title:"Edit Your Profile"},o.a.createElement(Kr.a,{theme:"filled",type:"edit",onClick:function(){e.setState({location_modal:!1,edit_profile_modal:!0,detail:1})},className:"normal_font_size"}))))),o.a.createElement(no.a,{className:"jiffy_border mb-4 d-flex flex-wrap"},o.a.createElement(oo.a,{xs:{span:24},sm:{span:12},className:"settings_section p-4"},o.a.createElement("h4",null,"Settings"),o.a.createElement("p",{className:"normal_font_size"},"Change your login password under this section."),o.a.createElement("ul",{className:"list-style-none p-0"},o.a.createElement("li",{onClick:function(){e.setState({change_password_modal:!0,location_modal:!1,pwd:1})},className:"d-flex align-items-center justify-content-between mb-2 normal_font_size cursor_point"},"Change Password",o.a.createElement(io.b,null)),o.a.createElement("li",{onClick:function(){e.setState({location_modal:!0})},className:"d-flex align-items-center justify-content-between mb-2 normal_font_size cursor_point"},"Manage Address",o.a.createElement(io.b,null))),o.a.createElement(Br.a,{okButtonProps:{className:"ok_btn"},okText:"Change Password",cancelButtonProps:{className:"d-none"},title:"Change Password",className:"new_modal",centered:!0,visible:this.state.change_password_modal,onCancel:function(){return e.setState({change_password_modal:0,pwd:0})},onOk:this.update_user_password},o.a.createElement("div",{className:"edit_profile p-5"},o.a.createElement("div",{className:"edit_inputs"},o.a.createElement(no.a,null,o.a.createElement(oo.a,{className:"",lg:24},o.a.createElement(Qr.a.Item,{label:"New Password"},a.getFieldDecorator("new_password",{rules:this.state.pwd?[{required:!0,message:"Enter New Password"}]:[]})(o.a.createElement(Xr.a,{className:"input_border text-indent-zero"})))),o.a.createElement(oo.a,{className:"",lg:24},o.a.createElement(Qr.a.Item,{label:"Confirm Password"},a.getFieldDecorator("old_password",{rules:this.state.pwd?[{required:!0,message:"Enter Confirm Password"}]:[]})(o.a.createElement(Xr.a,{className:"input_border text-indent-zero"}))))))))),o.a.createElement(oo.a,{xs:{span:24},sm:{span:12},className:"privacy_section p-4"},o.a.createElement("h4",null,"Privacy Policy"),o.a.createElement("p",{className:"normal_font_size mb-4"},"it is a short explanation of what you are doing to observe visitors to your website."),o.a.createElement("ul",{className:"list-style-none p-0"},o.a.createElement("li",{className:"d-flex align-items-center justify-content-between mb-2 normal_font_size cursor_point",onClick:function(){e.props.history.push("/static_page/about_us")}},"Help & Support ",o.a.createElement(io.b,null)," "),o.a.createElement("li",{className:"d-flex align-items-center justify-content-between mb-2 normal_font_size cursor_point",onClick:function(){e.props.history.push("/static_page/terms")}},"Terms & Conditions ",o.a.createElement(io.b,null)," ")))),o.a.createElement(no.a,{className:"jiffy_border p-4 d-flex align-items-center mb-4"},o.a.createElement(oo.a,{span:23,className:"logout_section"},o.a.createElement("h4",null,"Logout"),o.a.createElement("p",{className:"normal_font_size m-0"},"You will be returned to the login screen.")),o.a.createElement(oo.a,{span:1},o.a.createElement("div",{className:"text-center cursor_point",onClick:this.logout},o.a.createElement(Gr.a,{title:"Logout"},o.a.createElement(Kr.a,{type:"logout",className:"normal_font_size"})))))))),o.a.createElement($n.default,{visible:this.state.location_modal}))}}]),a}(o.a.Component),lo=Qr.a.create()(co),so=a(253),uo=a(636),mo=a.n(uo),po=a(442),go=a.n(po),_o=a(255),fo=a.n(_o),bo=a(251),ho=a.n(bo),yo=a(88),vo=a.n(yo),Eo=a(292),ko=a.n(Eo),wo=a(227),jo=a.n(wo),Oo=a(256),So=a.n(Oo),No=a(445),xo=a.n(No),Co=a(300),Io=a.n(Co),$o=a(254),Do=a.n($o),Po=a(203),To=a.n(Po),Ao=(a(587),a(588),a(1002)),Fo=a.n(Ao),zo=a(72),Ro=a(470),qo=a.n(Ro),Uo=dn.a.Panel,Lo=o.a.lazy((function(){return a.e(3).then(a.bind(null,2004))})),Mo=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(){var e;Object(q.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={errorMessage:"",loading:!1,hide:0,phone_number:"",country_code:"",m_no:""},e.handleChange=function(t){var a=t.error;console.log(a),a?e.setState({errorMessage:a.message}):e.setState({errorMessage:"",loading:!1,hide:!1})},e.handleSubmit=function(){var t=Object(H.a)(J.a.mark((function t(a){var n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n="".concat(e.state.country_code).concat(e.state.m_no)){t.next=6;break}e.setState({errorMessage:"Please enter correct phone number",loading:!1}),t.next=9;break;case 6:return e.setState({loading:1}),t.next=9,A.a.mutate({mutation:zo.a,variables:{booking_status:14,booking_id:e.props.data._id,role:1,phone_number:n},fetchPolicy:"no-cache",refetchQueries:zo.j}).then((function(t){"success"===t.data.manage_booking[0].status?(Object(ue.a)({msg:"Job Completed Success",status:"success"}),e.setState({hide:1}),e.props.handleResult({msg:"Job Completed Success",status:"success"})):Object(ue.a)({msg:"Job Completed Failed",status:"failed"}),e.setState({loading:0})}));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleSubmit_C2B=Object(H.a)(J.a.mark((function t(){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:1}),t.next=3,A.a.mutate({mutation:zo.a,variables:{booking_status:14,booking_id:e.props.data._id,role:1,payment_type:"c2b"},fetchPolicy:"no-cache",refetchQueries:zo.j}).then((function(t){"success"===t.data.manage_booking[0].status?(Object(ue.a)({msg:"Job Completed Success",status:"success"}),e.setState({hide:1}),e.props.handleResult({msg:"Job Completed Success",status:"success"})):Object(ue.a)({msg:"Job Completed Failed",status:"failed"}),e.setState({loading:0})}));case 3:case"end":return t.stop()}}),t)}))),e}return Object(U.a)(a,[{key:"render",value:function(){var e=this,t=this.props.data,a=t.ctob_billRef,n=t.ctob_shotcode,i=(t.mpeas_payment_callback,t.base_price,t.extra_price);return o.a.createElement("div",{className:this.state.hide?"d-none":"CardDemo w-100"},o.a.createElement("label",{className:"w-100"},"Payment Instructions"),o.a.createElement(dn.a,{bordered:!1,defaultActiveKey:["1"],expandIcon:function(e){var t=e.isActive;return o.a.createElement(X.a,{type:"caret-right",rotate:t?90:0})},className:"site-collapse-custom-collapse"},o.a.createElement(Uo,{header:" Mpesa phone number",key:"1",className:"site-collapse-custom-panel"},o.a.createElement(We.a,{spinning:this.state.loading,className:"d-flex justify-content-center mt-4",size:"large"},o.a.createElement("div",null,o.a.createElement("img",{src:qo.a,className:"w-25",alt:"gigzzy mpesa"}),o.a.createElement("span",{className:"pl-3"},"Pay Via Mpesa")),o.a.createElement("div",{className:"pt-3"},"Enter the amount to pay"),o.a.createElement(xe.a,{value:i,disabled:!0}),o.a.createElement("div",{className:"pt-3"},"Enter M-PESA phone number to pay from"),o.a.createElement(Rt.a,{searchStyle:{backgroundColor:"white"},placeholder:"phone no",inputClass:"input_border",buttonClass:"input_border",inputStyle:{height:"46px"},country:"ke",mask:{in:".........."},onKeyDown:function(t){13==t.keyCode&&e.handleSubmit()},value:this.state.m_no,onChange:function(t,a,n){e.setState({m_no:t.replace(/[^0-9]+/g,"").slice(a.dialCode.length),country_code:a.dialCode})}}),o.a.createElement("div",{className:"error",role:"alert"},this.state.errorMessage),o.a.createElement("div",{className:"pt-3"},"After pressing pay button and respond to M-Pesa promt on your phone. After transacting press the button below to proceed."),o.a.createElement("div",{className:"d-flex mx-auto"},o.a.createElement(be.a,{onClick:this.handleSubmit,className:"mt-3 mx-auto",type:"primary",htmlType:"submit"},"Accept and Pay")))),o.a.createElement(Uo,{header:"Mpesa Customer To Business (C2B)",key:"2",className:"site-collapse-custom-panel"},o.a.createElement(r.Suspense,{fallback:o.a.createElement("div",{class:"spinner-border text-success",role:"status"},o.a.createElement("span",{class:"sr-only"},"Loading..."))},o.a.createElement(Lo,{BusinessNumber:n,AmountNumber:a,Amount:i}),o.a.createElement("div",{className:"d-flex justify-content-center"},o.a.createElement(be.a,{onClick:this.handleSubmit_C2B,className:"mt-3 mx-auto",type:"primary",htmlType:"submit"},"Accept and GO"))))))}}]),a}(r.Component),Bo=Object(d.withRouter)(Mo),Vo=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(){return Object(q.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){return console.log(this.props),o.a.createElement(Bo,{handleResult:this.props.handleResult,data:this.props.data})}}]),a}(r.Component),Go=a(363),Jo=a(1004),Yo=(ho.a.TextArea,fo.a.Content,{fullscreenControl:!1}),Ho=o.a.lazy((function(){return a.e(27).then(a.bind(null,2109))})),Ko=o.a.lazy((function(){return a.e(51).then(a.bind(null,2110))})),Wo=o.a.lazy((function(){return Promise.resolve().then(a.bind(null,893))})),Qo=Object(re.a)(er||(er=Object(ne.a)(["\nsubscription SENDACCEPTMSG($_id:ID,$booking_id:ID,$location_code:String){\n    send_accept_msg (_id:$_id,booking_id:$booking_id,location_code:$location_code){\n        _id\n        description\n        user_image_url\n        booking_status\n        booking_type\n        booking_date\n        created_at\n        job_start_time\n        job_end_time\n        final_payment\n        start_job_image_url\n        end_job_image_url\n        booking_ref\n        base_price\n        extra_price\n        payment_type\n        payment_option(code:$location_code)\n        mpeas_payment_callback\n        ctob_shotcode\n        ctob_billRef\n        extra_hour_price\n        total\n        user_msg_count\n        user_msg_is_read\n        user_rating\n        user_rating_status\n        payment_status\n        lat\n        lng\n      user_comments\n        booking_category {\n          category_name\n          category_type\n          subCategory_name\n          description\n          _id\n          base_price\n          hour_price\n          hour_limit\n          img_url\n          booking_parent_category {\n            category_name\n            category_name\n          }\n        }\n        booking_provider{\n          name\n          _id\n          img_url\n          lat\n          lng\n        }\n        booking_user {\n            _id\n          name\n          location\n        }\n      }\n    }"]))),Zo=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).handleModeChange=function(e){var t=e;"10"===t?n.setState({mode_state:"Pending",pagination:Object(Y.a)(Object(Y.a)({},n.state.pagination),{},{current:1})}):"4"===t?n.setState({mode_state:"OnGoing",pagination:Object(Y.a)(Object(Y.a)({},n.state.pagination),{},{current:1})}):"14"===t&&n.setState({mode_state:"Completed",pagination:Object(Y.a)(Object(Y.a)({},n.state.pagination),{},{current:1})}),n.setState({mode:t})},n.view_booking=function(){var e=Object(H.a)(J.a.mark((function e(t,a){var r,o,i,c,l;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t){e.next=6;break}return n.setState({call_msg_sub:1}),i={_id:a},localStorage.getItem("currency")&&(i.location_code=JSON.parse(localStorage.getItem("currency")).location),e.next=6,A.a.query({query:zo.f,variables:i,fetchPolicy:"no-cache"}).then((function(e){console.log(e),n.setState({particular_booking:e.data.booking,comment:e.data.booking[0].user_comments,rate:e.data.booking[0].user_rating,user_rating_status:e.data.booking[0].user_rating_status,mange_state:e.data.booking[0].booking_status,msg_count:e.data.booking[0].user_msg_count}),n.booking_subcription(e.data.booking[0]._id)}));case 6:4!==(null===(r=n.state.particular_booking[0])||void 0===r?void 0:r.payment_status)||(null===(o=n.state.particular_booking[0])||void 0===o?void 0:o.mpeas_payment_callback)?13===(null===(l=n.state.particular_booking[0])||void 0===l?void 0:l.booking_status)?n.setState({complete_button:1,booking_detail:t}):n.setState({complete_button:0,booking_detail:t}):"stripe"===(null===(c=n.state.particular_booking[0])||void 0===c?void 0:c.payment_option)?n.setState({stripe_pay_modal:!0,booking_detail:t}):n.setState({accept_pay_modal:1,booking_detail:t});case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.booking_subcription=function(){var e=Object(H.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(so.a)(n),console.log(t),e.next=4,A.a.subscribe({query:Qo,variables:{_id:JSON.parse(localStorage.getItem("user"))._id,booking_id:t}}).subscribe({next:function(e,t,n){var r;(t&&console.log("loading"),e)&&(console.log(e.data.send_accept_msg),4===e.data.send_accept_msg.payment_status?"stripe"===(null===(r=e.data.send_accept_msg)||void 0===r?void 0:r.payment_option)?this.setState({stripe_pay_modal:!0,particular_booking:[e.data.send_accept_msg]}):a.setState({particular_booking:[e.data.send_accept_msg],accept_pay_modal:1}):(13===e.data.send_accept_msg.booking_status&&a.setState({complete_button:1}),a.setState({particular_booking:[e.data.send_accept_msg],msg_count:e.data.send_accept_msg.user_msg_count})))}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleInfiniteOnLoad=function(){var e=Object(H.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),a=Object(Y.a)(Object(Y.a)({},n.state.pagination),{},{current:t}),n.setState({pagination:a});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.update_count=function(){var e=Object(H.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.mutate({mutation:zo.l,variables:{booking_id:t,role:1},fetchPolicy:"no-cache"}).then((function(e){console.log(n.state.pagination.current),n.handleInfiniteOnLoad(n.state.pagination.current),n.setState({msg_count:0})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.msg=function(){var e=Object(H.a)(J.a.mark((function e(t,a,r,o){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.update_count(a),!0!==t){e.next=6;break}return e.next=4,A.a.query({query:zo.e,variables:{booking_id:a,user_id:r,provider_id:o},fetchPolicy:"no-cache"}).then((function(e){console.log(e),1===n.state.call_msg_sub&&n.message_subcription(a,o),n.setState({message:e.data.get_message,call_msg_sub:0})}));case 4:n.setState({chat:t}),n.scrollToBottom();case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),n.add_msg=function(){var e=Object(H.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(n.state.msg),a=n.state.msg,""===n.state.msg){e.next=7;break}return e.next=5,A.a.mutate({mutation:zo.d,variables:{booking_id:t,user_id:JSON.parse(localStorage.getItem("user"))._id,data:a},fetchPolicy:"no-cache"}).then((function(e){console.log(e),n.setState({msg:""}),n.scrollToBottom()}));case 5:e.next=8;break;case 7:Object(ue.a)({msg:"Please Type Content",status:"failed"});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.message_subcription=function(){var e=Object(H.a)(J.a.mark((function e(t,a){var r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(so.a)(n),console.log(t),e.next=4,A.a.subscribe({query:zo.h,variables:{user_id:JSON.parse(localStorage.getItem("user"))._id,provider_id:a,booking_id:t},shouldResubscribe:!1}).subscribe({next:function(e,t,a){if(t&&console.log("loading"),e){console.log(e.data.messageSent);var n=[].concat(Object(Tt.a)(r.state.message),[e.data.messageSent]);console.log(n),r.setState({message:n}),r.scrollToBottom()}}});case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.add_comments=function(){var e=Object(H.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.state.rate,e.next=3,A.a.mutate({mutation:zo.c,variables:{booking_id:t,user_id:JSON.parse(localStorage.getItem("user"))._id,comments:n.state.comment,rating:a},fetchPolicy:"no-cache"}).then((function(e){console.log(e),Object(ue.a)(e.data.addRating),"success"===e.data.addRating.status&&n.setState({rating:0,user_rating_status:e.data.addRating.user_rating_status})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.complete_job=function(){var e=Object(H.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.query({query:zo.a,variables:{booking_id:t,role:1,booking_status:14},fetchPolicy:"no-cache"}).then((function(e){console.log(e),Object(ue.a)(e.data.manage_booking[0]),"success"===e.data.manage_booking[0].status&&n.setState({complete_button:0,mange_state:14})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.close_msg=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({chat:0,message:[]});case 1:case"end":return e.stop()}}),e)}))),n.close_direction_model=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({direction:!1});case 1:case"end":return e.stop()}}),e)}))),n.handleResult=function(){var e=Object(H.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"success"===t.status&&n.setState({mange_state:14});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={mode:"10",booking_loading:!1,booking_detail:!1,center:[9.9619289,78.1288218],zoom:18,draggable:!0,lat:9.9619289,lng:78.1288218,responsive:{0:{items:2},450:{items:3},600:{items:3},1e3:{items:3}},booking:[],particular_booking:[],message:[],msg:"",direction:!1,loading:!1,hasMore:!0,chat:!1,rating:0,rate:0,accept_pay_modal:0,stripe_pay_modal:!1,complete_button:0,call_msg_sub:0,msg_count:0,comment:"",mange_state:0,mode_state:"Pending",infinite_loading:!1,pagination:{pageSize:10,current:1,total:0,simple:!0}},n}return Object(U.a)(a,[{key:"scrollToBottom",value:function(){var e=document.getElementById("scroll");e.scrollTop=e.scrollHeight,e.animate({scrollTop:e.scrollHeight})}},{key:"render",value:function(){var e,t,a,n,i,c,l,s,d,u,m,p,g,_,f,b,h,y,v=this;return console.log(this.state.stripe_pay_modal),o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",{className:"bold mb-5 text-center"},"My Bookings"),o.a.createElement(no.a,{gutter:[10,10],className:"ant-row d-flex d-lg-block d-md-flex flex-column-reverse flex-column-sm mb-5"},o.a.createElement(oo.a,{lg:{span:16,offset:2}},o.a.createElement(r.Suspense,{fallback:o.a.createElement(So.a,null)},o.a.createElement(Ko,{handleInfiniteOnLoad:this.handleInfiniteOnLoad,status:this.state.mode,heading:this.state.mode_state,view_booking:this.view_booking}))),o.a.createElement(oo.a,{lg:{span:4}},o.a.createElement(xo.a,{offsetTop:10},o.a.createElement(ko.a,{className:"normal_font_size"},o.a.createElement(ko.a.Grid,{className:"Pending"===this.state.mode_state?"bg-gradient-primary w-100 cursor_point":"w-100 cursor_point",onClick:function(){v.handleModeChange("10")}},o.a.createElement(no.a,null,o.a.createElement(oo.a,{span:20},o.a.createElement("span",{className:"Pending"===this.state.mode_state?"text-white bold":"bold"},"Incoming")),o.a.createElement(oo.a,{span:4},o.a.createElement("span",{className:"Pending"===this.state.mode_state?"text-white float-right":"float-right"}," ",o.a.createElement(Kr.a,{type:"hourglass"})," ")))),o.a.createElement(ko.a.Grid,{className:"OnGoing"===this.state.mode_state?"bg-gradient-primary w-100 cursor_point":"w-100 cursor_point",onClick:function(){v.handleModeChange("4")}},o.a.createElement(no.a,null,o.a.createElement(oo.a,{span:20},o.a.createElement("span",{className:"OnGoing"===this.state.mode_state?"text-white bold":"bold"},"On Going")),o.a.createElement(oo.a,{span:4},o.a.createElement("span",{className:"OnGoing"===this.state.mode_state?"text-white float-right":"float-right"}," ",o.a.createElement(Kr.a,{type:"fire"})," ")))),o.a.createElement(ko.a.Grid,{className:"Completed"===this.state.mode_state?"bg-gradient-primary w-100 cursor_point":"w-100 cursor_point",onClick:function(){v.handleModeChange("14")}},o.a.createElement(no.a,null,o.a.createElement(oo.a,{span:20},o.a.createElement("span",{className:"Completed"===this.state.mode_state?"text-white bold":"bold"},"Completed")),o.a.createElement(oo.a,{span:4},o.a.createElement("span",{className:"Completed"===this.state.mode_state?"text-white float-right":"float-right"}," ",o.a.createElement(Kr.a,{type:"carry-out"})," ")))))))),o.a.createElement(r.Suspense,{fallback:o.a.createElement(So.a,{active:!0})},o.a.createElement(Ho,{user_lat:null===(e=this.state.particular_booking[0])||void 0===e?void 0:e.lat,user_lng:null===(t=this.state.particular_booking[0])||void 0===t?void 0:t.lng,provider_lat:null===(a=this.state.particular_booking[0])||void 0===a||null===(n=a.booking_provider[0])||void 0===n?void 0:n.lat,provider_lng:null===(i=this.state.particular_booking[0])||void 0===i||null===(c=i.booking_provider[0])||void 0===c?void 0:c.lng,direction:this.state.direction,close_direction_model:this.close_direction_model})),this.state.particular_booking.length>0?o.a.createElement(o.a.Fragment,null,o.a.createElement(Br.a,{okButtonProps:{className:"d-none"},okText:"Update",cancelButtonProps:{className:"d-none"},title:1===this.state.particular_booking[0].booking_category[0].category_type?this.state.particular_booking[0].booking_category[0].category_name:this.state.particular_booking[0].booking_category[0].subCategory_name,className:"new_modal",footer:null,bodyStyle:{padding:"0px 0px 35px 0px"},visible:this.state.booking_detail,onCancel:function(){return v.setState({booking_detail:!1})}},o.a.createElement("div",{style:{height:"100px",width:"100%"}},o.a.createElement(Do.a,{draggable:!1,center:this.state.center,zoom:this.state.zoom,options:Yo}),o.a.createElement(Jo.a,{className:"direction_icon",onClick:function(){v.setState({direction:1})}}),""===this.state.particular_booking[0].job_end_time?o.a.createElement(vo.a,{className:"normal_font_size jiffy_btn mr-3 primary-bg float-right position-relative t-40",onClick:function(){v.setState({direction:1})}},"Direction"):o.a.createElement(vo.a,{className:"normal_font_size jiffy_btn mr-3 primary-bg float-right position-relative t-40",onClick:function(){v.setState({rating:1})}},"Review"),o.a.createElement(vo.a,{className:"normal_font_size jiffy_btn mr-3 float-right position-relative t-40",onClick:function(){v.msg(!0,v.state.particular_booking[0]._id,v.state.particular_booking[0].booking_user[0]._id,v.state.particular_booking[0].booking_provider[0]._id)}},"Chat",o.a.createElement(mo.a,{className:"inner_count",count:this.state.msg_count}))),o.a.createElement("div",{className:"bookings_detail position-relative bb-detail"},o.a.createElement(no.a,null,o.a.createElement("div",{className:"profile floatup ml-3 mr-3"},o.a.createElement("img",{alt:"",src:null===(l=this.state.particular_booking[0].booking_provider[0])||void 0===l?void 0:l.img_url})),o.a.createElement(oo.a,{lg:{span:18,offset:6},className:"booking_profile"},o.a.createElement("p",{className:"m-0 bold"},null===(s=this.state.particular_booking[0])||void 0===s||null===(d=s.booking_provider[0])||void 0===d?void 0:d.name),o.a.createElement("p",{className:"m-0 pb-3"},null===(u=this.state.particular_booking[0])||void 0===u?void 0:u.booking_date),o.a.createElement("span",{className:"status position-absolute"},10===this.state.mange_state?"Pending":4===this.state.mange_state||13===this.state.mange_state?"On Going":14===this.state.mange_state?"Completed":"")))),o.a.createElement("div",{className:"working_detail py-3 px-4 position-relative bb-detail"},o.a.createElement("p",{className:"normal_font_size bold"},"Job Description"),o.a.createElement("p",{className:"mb-4"},o.a.createElement(Go.default,{data:this.state.particular_booking[0].description,img:this.state.particular_booking[0].user_image_url})),o.a.createElement(Io.a,null,o.a.createElement(Io.a.Item,{color:"green"},o.a.createElement("p",{className:"m-0"},"Professional assigned"),o.a.createElement("small",{className:"m-0"},this.state.particular_booking[0].created_at)),o.a.createElement(Io.a.Item,{color:"green"},o.a.createElement("p",{className:"m-0"},""==this.state.particular_booking[0].job_start_time?"Task not start":"Tasks Started"),o.a.createElement("small",{className:"m-0 mb-2"},this.state.particular_booking[0].job_start_time?this.state.particular_booking[0].job_start_time:""),this.state.particular_booking[0].start_job_image_url.length>0?o.a.createElement(o.a.Fragment,null,o.a.createElement(To.a,{className:"owl-theme",style:{opacity:"10"},items:2,dots:!1,nav:!1,responsive:this.state.responsive,margin:10},this.state.particular_booking[0].start_job_image_url.map((function(e,t){return o.a.createElement("div",{className:"item"},o.a.createElement("img",{alt:"",height:"175",className:"h-100x rounded object_fit",src:e}))})))):o.a.createElement(o.a.Fragment,null)),o.a.createElement(Io.a.Item,{color:"green"},o.a.createElement("p",{className:"m-0"},""==this.state.particular_booking[0].job_end_time?"Task not completed":"Completed"),o.a.createElement("small",{className:"m-0 mb-2"},this.state.particular_booking[0].job_end_time?this.state.particular_booking[0].job_end_time:""),this.state.particular_booking[0].start_job_image_url.length>0?o.a.createElement(o.a.Fragment,null,o.a.createElement(To.a,{className:"owl-theme",style:{opacity:"10"},items:2,dots:!1,nav:!1,responsive:this.state.responsive,margin:10},this.state.particular_booking[0].end_job_image_url.map((function(e,t){return o.a.createElement("div",{className:"item"},o.a.createElement("img",{alt:"",height:"175",className:"h-100x rounded object_fit",src:e}))})))):o.a.createElement(o.a.Fragment,null)))),o.a.createElement("div",{className:" pb-1"},o.a.createElement("div",{className:"price_section px-3 d-flex align-items-center"},o.a.createElement("p",{className:"m-0 normal_font_size "},"Billing Details"),o.a.createElement("label",{class:"ml-auto"},o.a.createElement(vo.a,{className:"primary_color p-0",type:"link",target:"=_blank",onClick:function(){v.props.history.push({pathname:"/admin-booking-invoice/ondemand/".concat(v.state.particular_booking[0]._id)})}},"View Invoice"))),o.a.createElement("div",{className:"price_section px-3 d-flex"},o.a.createElement("p",{className:"m-0 normal_font_size "},"Booking Ref"),o.a.createElement("label",{class:"ml-auto"},this.state.particular_booking[0].booking_ref)),o.a.createElement("div",{className:"price_section px-3 d-flex ",style:{borderBottom:"4px solid #f2f1ed"}},o.a.createElement("p",{className:"m-0 normal_font_size "},"Task"),o.a.createElement("label",{class:"ml-auto"},1===this.state.particular_booking[0].booking_category[0].category_type?this.state.particular_booking[0].booking_category[0].category_name:this.state.particular_booking[0].booking_category[0].subCategory_name)),o.a.createElement("div",{className:"price_section px-3 d-flex mt-2"},o.a.createElement("p",{className:"m-0 normal_font_size "},"Amount paid"),o.a.createElement("label",{class:"ml-auto"},this.state.particular_booking[0].base_price)),o.a.createElement("div",{className:(null===(m=this.state.particular_booking[0])||void 0===m?void 0:m.extra_price.split(" ")[1])>0?"price_section px-3 d-flex":"d-none"},o.a.createElement("p",{className:"m-0 normal_font_size "},"Extra Price"),o.a.createElement("label",{class:"ml-auto"},this.state.particular_booking[0].extra_price)),o.a.createElement("div",{className:(null===(p=this.state.particular_booking[0])||void 0===p?void 0:p.extra_hour_price.split(" ")[1])>0?"price_section px-3 d-flex":"d-none"},o.a.createElement("p",{className:"m-0 normal_font_size "},"Extra Hour Price"),o.a.createElement("label",{class:"ml-auto"},this.state.particular_booking[0].extra_hour_price)),o.a.createElement("div",{className:"price_section px-3 d-flex"},o.a.createElement("p",{className:"m-0 normal_font_size "},"Bill Total"),o.a.createElement("label",{class:"ml-auto bold"},this.state.particular_booking[0].total)),o.a.createElement("div",{className:(null===(g=this.state.particular_booking[0])||void 0===g?void 0:g.final_payment.split(" ")[1])>0?"price_section px-3 d-flex":"d-none"},o.a.createElement("p",{className:"m-0 normal_font_size "},"To be paid"),o.a.createElement("label",{class:"ml-auto bold"},this.state.particular_booking[0].final_payment))),o.a.createElement("div",{className:this.state.stripe_pay_modal?"":"d-none"},o.a.createElement(r.Suspense,{fallback:o.a.createElement(So.a,null)},o.a.createElement(Wo,{current_booking_status:14,data:this.state.particular_booking[0]?this.state.particular_booking[0]:""}))),o.a.createElement("div",{className:this.state.accept_pay_modal?"price_section px-3 d-flex":"d-none"},o.a.createElement(Vo,{handleResult:this.handleResult,data:this.state.particular_booking[0]?this.state.particular_booking[0]:""})),o.a.createElement("div",{className:(null===(_=this.state.particular_booking[0])||void 0===_?void 0:_.mpeas_payment_callback)?"d-flex":"d-none"},o.a.createElement("p",null," Waiting for your payment is processing.")),o.a.createElement("div",{className:this.state.complete_button?"price_section px-3 d-flex":"d-none"},o.a.createElement(vo.a,{type:"primary",className:"w-100 mt-3",onClick:function(){v.complete_job(v.state.particular_booking[0]._id)}},"Complete")))):o.a.createElement(o.a.Fragment,null),o.a.createElement(Br.a,{className:"new_modal chat",ref:function(e){v.messageList=e},title:o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"d-flex align-items-center"},o.a.createElement(jo.a,{src:null===(f=this.state.particular_booking[0])||void 0===f||null===(b=f.booking_provider[0])||void 0===b?void 0:b.img_url}),o.a.createElement("span",{className:"mx-2"},null===(h=this.state.particular_booking[0])||void 0===h||null===(y=h.booking_provider[0])||void 0===y?void 0:y.name))),visible:this.state.chat,onOk:this.handleOk,onCancel:this.close_msg,footer:o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"d-flex"},o.a.createElement(ho.a,{placeholder:"Write Something...",value:this.state.msg,onChange:function(e){v.setState({msg:e.target.value})},onPressEnter:function(){v.add_msg(v.state.particular_booking[0]._id)}}),o.a.createElement("img",{alt:"",src:Fo.a,className:"send_icons",onClick:function(){v.add_msg(v.state.particular_booking[0]._id)}})))},o.a.createElement("div",{className:"border d-block",id:"scroll",style:{minHeight:"50vh",maxHeight:"50vh",overflowY:"scroll"}},this.state.message.length>0?o.a.createElement(o.a.Fragment,null,this.state.message.map((function(e){var t,a;return o.a.createElement("div",{className:2===e.role?"d-flex m-3":"d-flex m-3 flex-row-reverse"},o.a.createElement(jo.a,{size:"large",src:1===e.role?JSON.parse(localStorage.getItem("user")).img_url:null===(t=v.state.particular_booking[0])||void 0===t||null===(a=t.booking_provider[0])||void 0===a?void 0:a.img_url}),o.a.createElement("div",{className:"d-block mx-3"},o.a.createElement("div",{className:1===e.role?"d-flex flex-md-row-reverse":""},e.message?null!==e.message?o.a.createElement("card",{style:{boxShadow:"#cccccc 0px 1px 5px 0px",padding:"6px",borderRadius:"7px"}},e.message):" ":""),o.a.createElement("div",{style:{fontSize:"10px",margin:"8px 0px"}},e.msg_date," ",e.msg_time)))}))):o.a.createElement("div",{style:{marginTop:"25%"}},o.a.createElement("div",{className:"d-flex justify-content-center"},o.a.createElement(go.a,{description:!1}))))))}}]),a}(o.a.Component),Xo=Qr.a.create()(Zo),ei=a(277),ti=a.n(ei),ai=a(355),ni=a.n(ai),ri=a(638),oi=a.n(ri),ii=a(637),ci=a.n(ii),li=a(483),si=a(649),di=a.n(si),ui=a(49),mi=a.n(ui),pi=dn.a.Panel,gi=o.a.lazy((function(){return a.e(3).then(a.bind(null,2004))})),_i=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(){var e;Object(q.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={errorMessage:"",loading:!1,phone_number:"",country_code:"",m_no:""},e.handleChange=function(t){var a=t.error;a?e.setState({errorMessage:a.message}):e.setState({errorMessage:"",loading:!1,hide:!1})},e.handleSubmit=function(){var t=Object(H.a)(J.a.mark((function t(a){var n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n="".concat(e.state.country_code).concat(e.state.m_no)){t.next=5;break}return e.setState({errorMessage:"Please enter correct phone number"}),t.abrupt("return",!1);case 5:return e.setState({loading:!0}),t.next=8,A.a.mutate({mutation:zo.a,variables:{booking_status:10,payment_type:"mpesa",payment_option:"mpesa",booking_id:e.props.data._id,role:1,phone_number:n},fetchPolicy:"no-cache"}).then((function(t){e.setState({loading:!1}),"success"===t.data.manage_booking[0].status?(Object(ue.a)({msg:"Waiting for your payment confirmation",status:"success"}),e.props.history.push("/admin-booking-invoice/ondemand/".concat(e.props.data._id))):Object(ue.a)({msg:"Job Booking Cancel Failed",status:"failed"})}));case 8:e.setState({loading:!1});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleSubmit_C2B=Object(H.a)(J.a.mark((function t(){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.next=3,A.a.mutate({mutation:zo.a,variables:Object(Ba.a)({booking_status:10,payment_type:"c2b",payment_option:"mpesa",booking_id:e.props.data._id,role:1},"payment_type","c2b"),fetchPolicy:"no-cache"}).then((function(t){e.setState({loading:!1}),t.data.manage_booking&&"success"===t.data.manage_booking[0].status?(Object(ue.a)({msg:"Waiting for your payment confirmation",status:"success"}),e.props.history.push("/admin-booking-invoice/omdemand/".concat(e.props.data._id))):Object(ue.a)({msg:"Job Booking Cancel Failed",status:"failed"})}));case 3:e.setState({loading:!1});case 4:case"end":return t.stop()}}),t)}))),e}return Object(U.a)(a,[{key:"render",value:function(){var e=this,t=this.props.data,a=(t.ctob,t.ctob_billRef),n=t.ctob_shotcode,i=(t.mpeas_payment_callback,t.base_price);t.extra_price;return o.a.createElement("div",{className:"CardDemo w-100"},o.a.createElement(dn.a,{bordered:!1,defaultActiveKey:["1"],expandIcon:function(e){var t=e.isActive;return o.a.createElement(X.a,{type:"caret-right",rotate:t?90:0})}},o.a.createElement(pi,{header:" Mpesa phone number",key:"1",className:"site-collapse-custom-panel"},o.a.createElement(We.a,{spinning:this.state.loading,className:"d-flex justify-content-center mt-4",size:"large"},o.a.createElement("div",null,o.a.createElement("img",{src:qo.a,className:"w-25",alt:"gigzzy mpesa"}),o.a.createElement("span",{className:"pl-3"},"Pay Via Mpesa")),o.a.createElement("div",{className:"pt-3"},"Enter the amount to pay"),o.a.createElement(xe.a,{value:i,disabled:!0}),o.a.createElement("div",{className:"pt-3"},"Enter M-PESA phone number to pay from"),o.a.createElement(Rt.a,{searchStyle:{backgroundColor:"white"},placeholder:"phone no",inputClass:"input_border",buttonClass:"input_border",inputStyle:{height:"46px"},country:"ke",mask:{in:".........."},onKeyDown:function(t){13===t.keyCode&&e.handleSubmit()},value:this.state.m_no,onChange:function(t,a,n){console.log("render -> value",t),console.log("render -> m_no: value.replace(/[^0-9]+/g, '').slice(data.dialCode.length)",t.replace(/[^0-9]+/g,"").slice(a.dialCode.length)),console.log("render -> data.dialCode",a.dialCode),e.setState({m_no:t.replace(/[^0-9]+/g,"").slice(a.dialCode.length),country_code:a.dialCode})}}),o.a.createElement("div",{className:"error",role:"alert"},this.state.errorMessage),o.a.createElement("div",{className:"pt-3"},"After pressing pay button and respond to M-Pesa promt on your phone. After transacting press the button below to proceed."),o.a.createElement("div",{className:"d-flex justify-content-center"},o.a.createElement(be.a,{onClick:this.handleSubmit,className:"mt-3 mx-auto",type:"primary",htmlType:"submit"},"Accept and Pay")))),o.a.createElement(pi,{header:"Mpesa Customer To Business (C2B)",key:"2",className:"site-collapse-custom-panel"},o.a.createElement(r.Suspense,{fallback:o.a.createElement("div",{class:"spinner-border text-success",role:"status"},o.a.createElement("span",{class:"sr-only"},"Loading..."))},o.a.createElement(gi,{BusinessNumber:n,AmountNumber:a,Amount:i}),o.a.createElement("div",{className:"d-flex justify-content-center"},o.a.createElement(be.a,{onClick:this.handleSubmit_C2B,className:"mt-3 mx-auto",type:"primary",htmlType:"submit"},"Accept and GO"))))))}}]),a}(r.Component),fi=ae.a.create()(Object(d.withRouter)(_i)),bi=a(1986);var hi,yi=function(e){return o.a.createElement("div",{style:{height:"65px"}},e.img.length>0?o.a.createElement(bi.a,{autoplay:!0,className:"w-75x"},e.img.map((function(e,t){return o.a.createElement("div",{className:"img_div"},o.a.createElement("img",{src:null===e||void 0===e?void 0:e.thumbUrl,height:"68",alt:""}))}))):o.a.createElement(o.a.Fragment,null))},vi=a(893),Ei=fo.a.Content,ki=oi.a.Countdown,wi=Object(re.a)(hi||(hi=Object(ne.a)(['\nsubscription SENDACCEPTMSG($_id:ID,$booking_id:ID){\n    send_accept_msg (_id:$_id,booking_id:$booking_id){\n      _id\n      status\n      description\n      booking_ref\n      booking_date\n      base_price(code:"symbol")\n      extra_price(code:"symbol")\n      payment_type\n      mpeas_payment_callback\n      ctob_shotcode\n      ctob_billRef\n      ctob\n      booking_category {\n        category_name\n        category_type\n        subCategory_name\n        booking_parent_category {\n          category_name\n        }\n      }\n      booking_provider {\n          _id\n          name\n          lat\n          lng\n          img_url\n          rating\n          provider_rate{\n                rating\n            }\n      }\n    }\n}'])));function ji(e){return{zoomControlOptions:{position:e.ControlPosition.RIGHT_CENTER,style:e.ZoomControlStyle.SMALL},mapTypeControlOptions:{position:e.ControlPosition.TOP_RIGHT},mapTypeControl:!1,zoomControl:!1,MaxZoomStatus:!1}}var Oi=function(e){Object(L.a)(n,e);var t=Object(M.a)(n);function n(e){var a;return Object(q.a)(this,n),(a=t.call(this,e)).setRequestingModal=function(){var e=Object(H.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t){e.next=3;break}return e.next=3,A.a.mutate({mutation:zo.a,variables:{booking_status:11,booking_id:a.state.add_booking[0].id,role:1},fetchPolicy:"no-cache"}).then((function(e){var t,a;console.log(e),"success"===(null===(t=e.data)||void 0===t||null===(a=t.manage_booking[0])||void 0===a?void 0:a.status)?Object(ue.a)({msg:"Job Booking Cancel Success",status:"success"}):Object(ue.a)({msg:"Job Booking Cancel Failed",status:"failed"})}));case 3:a.setState({book_requesting_modal:t});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.setConfirmJobModal=function(){var e=Object(H.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t){e.next=3;break}return e.next=3,A.a.mutate({mutation:zo.a,variables:{booking_status:11,booking_id:a.state.accept_data._id,role:1},fetchPolicy:"no-cache"}).then((function(e){console.log(e),e.data.manage_booking&&"success"===e.data.manage_booking[0].status?Object(ue.a)({msg:"Job Booking Cancel Success",status:"success"}):Object(ue.a)({msg:"Job Booking Cancel Failed",status:"failed"})}));case 3:a.setState({confirm_job_modal:t});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.componentDidMount=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a.props.location),a.setState({user:JSON.parse(localStorage.getItem("user")).name}),Ut.a.setApiKey("AIzaSyDYRYnxipjEBUNazDUwUa_8BDvm8ON7TIk"),e.next=5,Ut.a.fromLatLng(a.props.location.state.location[0],a.props.location.state.location[1]).then((function(e){var t=e.results[0].formatted_address;a.setState({address:t})}),(function(e){console.error(e)}));case 5:a.setState({lat:a.props.location.state.location[0],lng:a.props.location.state.location[1],location:a.props.location.state.location_detail,center:[a.props.location.state.location[0],a.props.location.state.location[1]]}),1===a.props.location.state.type?a.find_category(a.props.match.params.id,a.props.location.state.type):a.find_sub_category(a.props.match.params.id,a.props.location.state.type);case 7:case"end":return e.stop()}}),e)}))),a.onChange=function(e,t){if(console.log(t),void 0!==t&&null!==t&&""!==t){var n=t.split(" "),r=n[1].split(":");a.setState({date:n[0],time:n[1],hour:r[0]})}else a.setState({data:"",time:"",hour:""})},a.DontReadTheComments=function(){var e=Object(H.a)(J.a.mark((function e(t){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),n=Object(so.a)(a),e.next=4,A.a.subscribe({query:wi,variables:{_id:JSON.parse(localStorage.getItem("user"))._id,booking_id:t}}).subscribe({next:function(e,t,a){t&&console.log("load"),e&&(console.log(e.data.send_accept_msg.booking_provider),n.setState({book_requesting_modal:0,booking_status:9,confirm_job_modal:1,booking_category:e.data.send_accept_msg.booking_category,accept_data:e.data.send_accept_msg,accept_provider:e.data.send_accept_msg.booking_provider}))}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChange_error=function(e){var t=e.error;t&&a.setState({errorMessage:t.message})},a.handleSubmit=function(e){e.preventDefault(),a.props.stripe?a.props.stripe.createToken({name:"vishnu"}).then((function(e){var t=e.token;console.log("Received Stripe token:",t)})):console.log("Stripe.js hasn't loaded yet.")},a.find_category=function(){var e=Object(H.a)(J.a.mark((function e(t,n){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({description_loading:!0}),e.next=3,A.a.query({query:li.a,variables:{_id:t},fetchPolicy:"no-cache"}).then((function(e){console.log(e.data.category[0].description),a.setState({description:e.data.category[0].description,short_description:e.data.category[0].description.split("#"),description_loading:!1})}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.find_sub_category=function(){var e=Object(H.a)(J.a.mark((function e(t,n){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({description_loading:!0}),e.next=3,A.a.query({query:li.b,variables:{_id:t},fetchPolicy:"no-cache"}).then((function(e){console.log(e),a.setState({description:e.data.sub_category[0].description,short_description:e.data.sub_category[0].description.split("#"),description_loading:!1})}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.onCircleInteraction=function(){var e=Object(H.a)(J.a.mark((function e(t,n,r){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({draggable:!1,lat:r.lat,lng:r.lng}),Ut.a.setApiKey("AIzaSyDYRYnxipjEBUNazDUwUa_8BDvm8ON7TIk"),e.next=4,Ut.a.fromLatLng(r.lat,r.lng).then((function(e){var t=e.results[0].formatted_address;a.setState({address:t,location:t})}),(function(e){console.error(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),a.onCircleInteraction3=function(e,t,n){a.setState({draggable:!0}),console.log("onCircleInteraction called with",e,t,n)},a.map_onChange=function(e){var t=e.center,n=e.zoom;a.setState({center:t,zoom:n})},a.handleChange1=function(e){a.setState({address:e})},a.handleSelect=function(e){console.log(e,"asde"),a.setState({address:e,location:e}),Object(At.geocodeByAddress)(e).then((function(e){return Object(At.getLatLng)(e[0])})).then((function(e){return a.setState({lat:e.lat,lng:e.lng,center:[e.lat,e.lng]})})).catch((function(e){return console.error("Error",e)}))},a.value_change=function(){var e=Object(H.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.change_label=function(){var e=Object(H.a)(J.a.mark((function e(t,n){var r,o,i;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({location_modal:!1}),r=t.indexOf(a.state.label[n]),o=r+1,(i=a.state.label)[n]=t[o],a.setState({label:i});case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.getBase64=function(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}}))},a.handleCancel=function(){return a.setState({previewVisible:!1})},a.handlePreview=function(){var e=Object(H.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.url||t.preview){e.next=4;break}return e.next=3,a.getBase64(t.originFileObj);case 3:t.preview=e.sent;case 4:a.setState({previewImage:t.url||t.preview,previewVisible:!0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){var t=e.fileList;a.setState({fileList:t})},a.book_now=Object(H.a)(J.a.mark((function e(){var t,n,r,o,i;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a.setState({location_modal:!1}),t=[],n=0;n<a.state.fileList.length;n++)t.push(a.state.fileList[n].originFileObj);return r=document.getElementById("tag_change").outerHTML,o=(o=document.getElementById("ee").outerHTML).replace(r,a.state.str),i=di.a.fromString(o.toString(),{wordwrap:130}),a.setState({loading:!0}),e.next=10,A.a.mutate({mutation:zo.b,variables:{booking_status:12,booking_type:1,location_code:a.state.location_code,local_location_code:localStorage.getItem("currency")?JSON.parse(localStorage.getItem("currency")).location:"KE",lat:parseFloat(a.state.center[0]),lng:parseFloat(a.state.center[1]),description:i,category_id:a.props.match.params.id,category_type:a.props.location.state.type,user_id:JSON.parse(localStorage.getItem("user"))._id,file:t}}).then((function(e,t,n){var r,o;(a.setState({loading:!1}),console.log("book_now -> result.data.add_booking",e.data.add_booking),e.data.add_booking&&(null===(r=e.data.add_booking[0])||void 0===r?void 0:r.id))?(a.setState({description:i,book_requesting_modal:1,add_booking:e.data.add_booking,deadline:mi()().add(2,"minutes")}),"stripe"===(null===(o=e.data.add_booking[0])||void 0===o?void 0:o.payment_option)&&a.setState({isStripePayment:!0}),a.DontReadTheComments(e.data.add_booking[0].id)):(Object(ue.a)({msg:"Category currently not available",status:"failed"}),a.setState({book_requesting_modal:0}))}));case 10:case"end":return e.stop()}}),e)}))),a.book_later=Object(H.a)(J.a.mark((function e(){var t,n,r,o,i;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],n=0;n<a.state.fileList.length;n++)t.push(a.state.fileList[n].originFileObj);if(r=document.getElementById("tag_change").outerHTML,o=(o=document.getElementById("ee").outerHTML).replace(r,a.state.str),i=di.a.fromString(o.toString(),{wordwrap:130}),""!==a.state.date&&""!==a.state.time&&""!==a.state.hour){e.next=9;break}return Object(ue.a)({msg:"Choose select date & time",status:"failed"}),e.abrupt("return",0);case 9:if("success"!==localStorage.getItem("userLogin")){e.next=15;break}return a.setState({loading:!0}),e.next=13,A.a.mutate({mutation:zo.b,variables:{booking_status:12,booking_type:2,location_code:a.state.location_code,local_location_code:JSON.parse(localStorage.getItem("currency")).location||"KE",lat:parseFloat(a.state.center[0]),lng:parseFloat(a.state.center[1]),description:i,category_id:a.props.match.params.id,category_type:a.props.location.state.type,user_id:JSON.parse(localStorage.getItem("user"))._id,booking_date:a.state.date,booking_time:a.state.time,booking_hour:a.state.hour}}).then((function(e){a.setState({loading:!1}),e.data.add_booking&&e.data.add_booking[0].id?(a.setState({book_later_modal:0,book_requesting_modal:1,add_booking:e.data.add_booking,deadline:mi()().add(2,"minutes")}),a.DontReadTheComments(e.data.add_booking[0].id)):(Object(ue.a)({msg:"Category currently not available",status:"failed"}),a.setState({book_later_modal:0}))}));case 13:e.next=17;break;case 15:Object(ue.a)({msg:"Sorry Login User Only Book The Job !",status:"success"}),a.props.history.push({pathname:"/login"});case 17:case"end":return e.stop()}}),e)}))),a.onFinish_job=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:12===a.state.booking_status&&(a.setState({book_requesting_modal:0}),Object(ue.a)({msg:"Provider is Not available now",status:"failed"}));case 1:case"end":return e.stop()}}),e)}))),a.disabledDate=function(e){var t=mi()().subtract(1,"day");return e&&e<mi()(t,"YYYY-MM-DD")},a.on_popup_closed=function(){},a.on_location_change=function(e){console.log("on_location_change -> item",e),a.setState({location_code:e.location_code,location:e.address,center:[e.lat,e.lng],location_modal:!1})},a.state={location_modal:!1,file_upload_modal:!1,book_later_modal:!1,book_requesting_modal:!1,confirm_job_modal:!1,accept_pay_modal:!1,accept_pay_stripe:!1,address:"",center:[9.9619289,78.1288218],zoom:15,draggable:!0,lat:9.9619289,lng:78.1288218,i:0,label:[],fileList:[],user_file:[],add_booking:[],location:"Location",deadline:0,booking_status:12,accept_data:{},booking_category:[],accept_provider:[],user:{},errorMessage:"",date:"",time:"0",hour:"0",loading:!1,showIcon:{showRemoveIcon:!0,showPreviewIcon:!0,showDownloadIcon:!1},description_loading:!1,short_description:[],str:"#@image@#",location_code:"",description:"I need a handyman for #@half a day ( up to 4 hours ),a full day ( up to 8 hours )@# to #@assemble furniture,fix things,do odd jobs@# #@description@# here are some photos #@image@# at #@location@#"},a}return Object(U.a)(n,[{key:"setLocationModal",value:function(e){this.setState({location_modal:e})}},{key:"setLaterModal",value:function(e){this.setState({location_modal:!1,book_later_modal:e})}},{key:"setPayModal",value:function(e){this.setState({accept_pay_modal:e})}},{key:"onOk",value:function(e){console.log(mi()(e))}},{key:"render",value:function(){var e,t,n,r,i,c,l,s,d,u,m,p,g=this,_=this.state,f=_.isStripePayment,b=_.previewVisible,h=_.previewImage,y=_.fileList,v=o.a.createElement("div",null,"Upload");return o.a.createElement(Pn.c.Provider,{value:{state:this.state,location_change:this.on_location_change,popup_closed:this.on_popup_closed}},o.a.createElement("h2",{className:"bold mb-5 text-center"},"What do you need?"),o.a.createElement(Ei,{className:"px-1 description_page container user_select"},o.a.createElement(no.a,null,o.a.createElement(oo.a,{lg:{span:20,offset:2}},o.a.createElement("div",{id:"section-1",className:"need position-relative pt-1"},o.a.createElement(no.a,null,o.a.createElement(So.a,{loading:this.state.description_loading,active:!0},o.a.createElement(oo.a,{span:24,className:"dynamic_description",id:"ee"},this.state.short_description.map((function(e,t){if("@"===e.substr(0,1)){if("@description@"===e)return o.a.createElement("div",{key:t,placeholder:" + description ",className:"description description_font_size mr-1",contentEditable:"true"});if("@image@"===e)return o.a.createElement("div",{key:t,id:"tag_change",className:"tag_change d-inline-flex mb-3 mr-3"},o.a.createElement(vo.a,{key:t,type:"primary",onClick:function(){g.setState({location_modal:!1,file_upload_modal:!0})},className:"mr-0 img_btn a_hover",icon:g.state.fileList.length>0?"check-circle":"camera"}),o.a.createElement(yi,{img:g.state.fileList}));if("@location@"===e)return o.a.createElement(vo.a,{key:t,type:"primary",onClick:function(){g.setState({location_modal:!0})},className:"location_btn a_hover w-auto",icon:"environment"},g.state.location);var a=e.slice(1,-1).split(",");return"undefined"===typeof g.state.label[t]&&(g.state.label[t]=a[0]),o.a.createElement("label",{key:t,className:"filler a_hover",onClick:function(){g.change_label(a,t)},"data-current":a[0],data:a},g.state.label[t])}return o.a.createElement("label",{key:t,className:"description_font_size"},e,o.a.createElement("span",null,"\xa0"))})))),o.a.createElement($n.default,{visible:this.state.location_modal}),o.a.createElement(Br.a,{title:"Upload Your Image",footer:o.a.createElement(o.a.Fragment,null),className:"new_modal upload_img",centered:!0,visible:this.state.file_upload_modal,onOk:function(){return g.setState({file_upload_modal:!1})},onCancel:function(){return g.setState({file_upload_modal:!1})}},o.a.createElement("div",{className:0===y.length?"clearfix upload_content":"clearfix"},o.a.createElement(Yr.a,{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",listType:"picture-card",fileList:y,multiple:!0,onPreview:this.handlePreview,onChange:this.handleChange,showUploadList:this.state.showIcon},v),o.a.createElement(vo.a,{onClick:function(){return g.setState({file_upload_modal:!1})},className:y.length>0?"btnn":"d-none"},"Done"),o.a.createElement(Br.a,{visible:b,footer:null,onCancel:this.handleCancel},o.a.createElement("img",{alt:"example",className:"object_fit",style:{width:"100%",height:"500px"},src:h})))),o.a.createElement(Br.a,{okButtonProps:{disabled:!0,className:"d-none"},cancelButtonProps:{className:"cancel_btn"},title:"Requesting Job",className:"new_modal",centered:!0,visible:this.state.book_requesting_modal,onOk:function(){return g.setRequestingModal(!1)},onCancel:function(){g.setRequestingModal(!1)}},o.a.createElement("div",{className:"job_description"},o.a.createElement(Go.default,{data:null===(e=this.state.add_booking[0])||void 0===e?void 0:e.description,img:null===(t=this.state.add_booking[0])||void 0===t?void 0:t.user_image_url})),o.a.createElement("div",{className:1===this.state.book_requesting_modal?"loader":""},o.a.createElement("div",{className:"loaderBar"})),o.a.createElement("div",{className:"price_section text-center"},o.a.createElement("p",{className:"price"},this.state.add_booking[0]?this.state.add_booking[0].category[0]?null===(n=this.state.add_booking[0].category[0])||void 0===n||null===(r=n.ParentCategoryCurrency)||void 0===r?void 0:r.base_price:"price is not fixed":"error"),o.a.createElement("label",{className:"normal_font_size"},"Base Price")),o.a.createElement("div",{style:{height:"200px",width:"100%"}},o.a.createElement(Do.a,{bootstrapURLKeys:{key:"AIzaSyDYRYnxipjEBUNazDUwUa_8BDvm8ON7TIk"},center:{lat:null===(i=this.state.add_booking[0])||void 0===i?void 0:i.location.coordinates[1],lng:null===(c=this.state.add_booking[0])||void 0===c?void 0:c.location.coordinates[0]},defaultZoom:18,options:ji},o.a.createElement("div",{className:"place",lat:null===(l=this.state.add_booking[0])||void 0===l?void 0:l.location.coordinates[1],lng:null===(s=this.state.add_booking[0])||void 0===s?void 0:s.location.coordinates[0]},o.a.createElement("img",{src:a(485),alt:"your Place"})))),12===this.state.booking_status?o.a.createElement(ki,{className:"coutdown mt-n4",value:this.state.deadline,format:"mm:ss",onFinish:this.onFinish_job}):""),o.a.createElement(Br.a,{okButtonProps:{className:"jiffy_btn white-text"},okText:"Confirm Job",cancelButtonProps:{className:"jiffy_btn"},title:"Requesting Job",visible:this.state.confirm_job_modal,className:"new_modal",centered:!0,onOk:function(){return g.setPayModal(!0)},onCancel:function(){return g.setConfirmJobModal(!1)}},o.a.createElement("div",{className:"job_description"},o.a.createElement(Go.default,{data:null===(d=this.state.add_booking[0])||void 0===d?void 0:d.description,img:null===(u=this.state.add_booking[0])||void 0===u?void 0:u.user_image_url})),o.a.createElement("div",{className:"price_section text-center"},o.a.createElement("p",{className:"price"},this.state.add_booking[0]?this.state.add_booking[0].category[0]?null===(m=this.state.add_booking[0].category[0])||void 0===m||null===(p=m.ParentCategoryCurrency)||void 0===p?void 0:p.base_price:"price is not fixed":"error"),o.a.createElement("label",{className:"normal_font_size"},"Base Price")),o.a.createElement("div",{style:{height:"200px",width:"100%"}},o.a.createElement(Do.a,{bootstrapURLKeys:{key:"AIzaSyDYRYnxipjEBUNazDUwUa_8BDvm8ON7TIk"},defaultCenter:this.props.center,defaultZoom:this.props.zoom,options:ji},o.a.createElement("div",{className:"place",lat:this.state.accept_provider[0]?this.state.accept_provider[0].lat:"",lng:this.state.accept_provider[0]?this.state.accept_provider[0].lng:""},o.a.createElement("img",{src:a(485),alt:"your Place"})))),o.a.createElement("div",{className:"profile text-center liftup"},o.a.createElement("img",{alt:"",src:this.state.accept_provider[0]?this.state.accept_provider[0].img_url:"asd"}),o.a.createElement("p",{className:"normal_font_size mt-3 bold"},this.state.accept_provider[0]?this.state.accept_provider[0].name:"as"),o.a.createElement(ni.a,{allowHalf:!0,disabled:!0,value:this.state.accept_provider[0]?Number(this.state.accept_provider[0].provider_rate[0].rating):0}))),o.a.createElement(Br.a,{okButtonProps:{className:""},okText:"Accept and Pay",cancelButtonProps:{className:"d-none"},title:"Accept and Pay",className:"new_modal",centered:!0,visible:this.state.accept_pay_modal,footer:o.a.createElement(o.a.Fragment,null),onOk:function(){return g.setPayModal(!1)},onCancel:function(){g.setState({accept_pay_modal:0})}},o.a.createElement("div",{className:"price_section px-3 pt-4 pb-3 d-flex"},o.a.createElement("div",{className:""},o.a.createElement("p",{className:"m-0 normal_font_size bold"},JSON.parse(localStorage.getItem("user")).name),o.a.createElement("label",{className:"normal_font_size"},this.state.booking_category[0]?1===this.state.booking_category[0].category_type?this.state.booking_category[0].category_name:this.state.booking_category[0].subCategory_name:"")),o.a.createElement("p",{class:"ml-auto price"},this.state.accept_data?this.state.accept_data.code:"")),o.a.createElement("div",{className:"price_section px-3 d-flex pt-4 btc"},o.a.createElement("p",{className:"m-0 normal_font_size "},"Booking Ref"),o.a.createElement("label",{class:"ml-auto"},this.state.accept_data?this.state.accept_data.booking_ref:"")),o.a.createElement("div",{className:"price_section px-3 d-flex  pb-4 bbc"},o.a.createElement("p",{className:"m-0 normal_font_size "},"Date"),o.a.createElement("label",{class:"ml-auto"},this.state.accept_data?this.state.accept_data.booking_date:"")),o.a.createElement("div",{className:"px-3 pt-3 normal_font_size bold d-flex justify-content-between my-2"},o.a.createElement("div",null,"Task"),o.a.createElement("div",null,this.state.booking_category[0]?1===this.state.booking_category[0].category_type?this.state.booking_category[0].category_name:this.state.booking_category[0].subCategory_name:"")),o.a.createElement("div",{className:"price_section px-3 d-flex"},o.a.createElement("p",{className:"m-0 normal_font_size "},"Base Price"),o.a.createElement("label",{class:"ml-auto"},this.state.accept_data?this.state.accept_data.base_price:"")),o.a.createElement("div",{className:"profile text-center"},o.a.createElement("img",{alt:"",src:this.state.accept_provider[0]?this.state.accept_provider[0].img_url:""}),o.a.createElement("p",{className:"normal_font_size mt-3 bold"},this.state.accept_provider[0]?this.state.accept_provider[0].name:""),o.a.createElement(ni.a,{allowHalf:!0,disabled:!0,value:this.state.accept_provider[0]?Number(this.state.accept_provider[0].provider_rate[0].rating):0})),f&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:""},o.a.createElement(vi.default,{data:this.state.accept_data,current_booking_status:10}))),!f&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"price_section px-3 d-flex justify-content-center"},o.a.createElement(fi,{data:this.state.accept_data})))),o.a.createElement(Br.a,{okButtonProps:{className:"ok_btn"},okText:"Book",cancelButtonProps:{className:"d-none"},title:"Date and Time",className:"new_modal",centered:!0,visible:this.state.book_later_modal,onOk:function(){g.book_later()},onCancel:function(){return g.setLaterModal(!1)}},o.a.createElement("div",{className:"price_section text-center"},o.a.createElement(ci.a,{className:"w-50",size:"large",showTime:!0,use12Hours:!0,format:"YYYY-MM-DD HH:mm:ss",placeholder:"Select Date",disabledDate:this.disabledDate,onChange:this.onChange,onOk:this.onOk}))))))),o.a.createElement("div",{className:"d-flex justify-content-center"},o.a.createElement(ti.a,{tip:"Loading...",spinning:this.state.loading,size:"large"})),o.a.createElement(no.a,{className:"fixed_book_btn"},o.a.createElement(oo.a,{sm:{span:4,offset:7},xs:{span:9,offset:2},className:""},o.a.createElement(vo.a,{className:"w-100 h-50x normal_font_size jiffy_btn",onClick:function(){return g.setLaterModal(!0)}},"Book Later")),o.a.createElement(oo.a,{sm:{span:4,offset:1},xs:{span:9,offset:2},className:""},o.a.createElement(vo.a,{className:"w-100 h-50x normal_font_size jiffy_btn primary-bg",onClick:function(){return g.book_now()}},"Book Now")))))}}]),n}(o.a.Component);Oi.defaultProps={center:{lat:9.9619289,lng:78.1288218},zoom:11};var Si,Ni,xi,Ci=Qr.a.create()(Oi),Ii=dn.a.Panel,$i=o.a.lazy((function(){return a.e(1).then(a.bind(null,2086))})),Di=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).handleTableChange=function(){var e=Object(H.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=Object(Y.a)({},t)).current=t.current,n.setState({loading:!0}),e.next=5,A.a.query({query:ot,variables:{limit:a.pageSize,page:a.current},fetchPolicy:"no-cache"}).then((function(e){var t=Object(Y.a)({},n.state.pagination);t.total=e.data.get_all_payout.totaldata,t.current=e.data.get_all_payout.page,n.setState({pagination:t,loading:!1,dataSource:e.data.get_all_payout.data})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.fetch_payouts=function(){var e=Object(H.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),a={},a=(null===t||void 0===t?void 0:t.provider_id)?Object(Y.a)(Object(Y.a)({},t),{},{limit:n.state.pagination.pageSize,page:n.state.pagination.current}):{limit:n.state.pagination.pageSize,page:n.state.pagination.current},e.next=5,A.a.query({query:ot,variables:a,fetchPolicy:"no-cache"}).then((function(e){var t=Object(Y.a)({},n.state.pagination);t.total=e.data.get_all_payout.totaldata,n.setState({loading:!1,pagination:t,dataSource:e.data.get_all_payout.data,modalVisible:!1})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.delete_booking=function(e){},n.date_filter=function(e,t){},n.payout_detail=function(){var e=Object(H.a)(J.a.mark((function e(t,a){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A.a.query({query:it,variables:{data:{provider_id:t,status:1,booking_status:14}},fetchPolicy:"no-cache"}).then((function(e){n.setState({_id_provider:t,provider_total:a,provider_data:e.data.get_payout_detail,modalVisible:!0})}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.payout_to_provider=function(){var e=Object(H.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.mutate({mutation:ct,variables:{booking_status:14,status:1,provider_id:n.state._id_provider}}).then((function(e,t,a){Object(ue.a)(e.data.pay_admin_to_provider),"success"===e.data.pay_admin_to_provider.status&&(n.payout_detail(n.state._id_provider,0),n.fetch_payouts())}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onFilter=function(){var e=Object(H.a)(J.a.mark((function e(t){var a,r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(Object.keys(t)[0]),""===t[Object.keys(t)[0]]?(delete n.state.input_data[Object.keys(t)[0]],a=n.state.input_data,n.setState({input_data:a}),n.fetch_payouts(a)):(n.setState({input_data:Object(Y.a)(Object(Y.a)({},n.state.input_data),t)}),r=Object(Y.a)(Object(Y.a)({},n.state.input_data),t),n.fetch_payouts(r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={modalVisible:!1,openPanel:2,dataSource:[],provider_total:"",provider_data:[],update_data:{},update:0,loading:!1,loading_img:!1,imageUrl:"",file:{},input_data:{},previewVisible:!1,previewImage:"",pagination:{pageSize:10,current:1,total:0,simple:!0},_id_provider:""},n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.fetch_payouts()}},{key:"render",value:function(){var e,t,a,n,i=this,c=[{title:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"d-block"},o.a.createElement(o.a.Fragment,null,o.a.createElement(r.Suspense,{fallback:o.a.createElement("div",null,".......")},o.a.createElement($i,{role:2,value:"name",placeholder:"Enter Provider",passedFunction:i.onFilter})))))},width:"40%",editable:!0,key:"provider_name",render:function(e,t){var a;return o.a.createElement("span",{title:"Provider"}," ",(null===t||void 0===t||null===(a=t.find_payout_provider[0])||void 0===a?void 0:a.name)||" Admin Delete this Provider")}},{title:"Amount",width:"40%",editable:!0,key:"provider_amount",render:function(e,t){return o.a.createElement("span",{title:"Amount"},null===t||void 0===t?void 0:t.total_amount)}},{title:"Action",dataIndex:"operation",key:"provider_opertaion",className:Object(R.a)("view_payout")?"":"d-none",render:function(e,t){return i.state.dataSource.length>=1?o.a.createElement(R.b,{permission:"view_payout"},o.a.createElement("span",{title:"....",className:"d-inline d-md-flex justify-content-around"},o.a.createElement("span",{className:"cursor_point",onClick:function(){i.payout_detail(t._id,null===t||void 0===t?void 0:t.total_amount)}},o.a.createElement(X.a,{type:"eye",theme:"twoTone",twoToneColor:"#52c41a",className:"f_25"})))):null}}],l=this.state.dataSource;return o.a.createElement(o.a.Fragment,null,o.a.createElement(o.a.Fragment,null,o.a.createElement(Z.a,{title:"basic Payout details (all)",visible:this.state.modalVisible,onOk:this.handleOk,onCancel:function(){i.setState({modalVisible:!1})},footer:[]},o.a.createElement(dn.a,{accordion:!0},o.a.createElement(Ii,{header:o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},o.a.createElement("div",{className:"align-items-center d-flex"},o.a.createElement(X.a,{className:"px-3",type:"bank"}),"Bank Details"),o.a.createElement(W.a,{visible:"mpesa"===(null===(e=this.state.provider_data[0])||void 0===e||null===(t=e.booking_provider[0])||void 0===t?void 0:t.payout_option),color:"green"},"Provider Preferred"))),key:"1"},o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:24},o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:12},"Name"),o.a.createElement(Ne.a,{span:12},":",this.state.provider_data[0]&&this.state.provider_data[0].booking_provider[0]?this.state.provider_data[0].booking_provider[0].name:"")),o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:12},"Bank Name"),o.a.createElement(Ne.a,{span:12},":",this.state.provider_data[0]&&this.state.provider_data[0].booking_provider[0]?this.state.provider_data[0].booking_provider[0].bank_name:"")),o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:12},"Branch Name"),o.a.createElement(Ne.a,{span:12},":",this.state.provider_data[0]&&this.state.provider_data[0].booking_provider[0]?this.state.provider_data[0].booking_provider[0].branch_name:"")),o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:12},"Routing Name"),o.a.createElement(Ne.a,{span:12},":",this.state.provider_data[0]&&this.state.provider_data[0].booking_provider[0]?this.state.provider_data[0].booking_provider[0].routing_name:"")),o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:12},"Account Name"),o.a.createElement(Ne.a,{span:12},":",this.state.provider_data[0]&&this.state.provider_data[0].booking_provider[0]?this.state.provider_data[0].booking_provider[0].account_name:"")),o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:12},"Account Number"),o.a.createElement(Ne.a,{span:12},":",this.state.provider_data[0]&&this.state.provider_data[0].booking_provider[0]?this.state.provider_data[0].booking_provider[0].account_no:"")),o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:12},"Ifsc Code"),o.a.createElement(Ne.a,{span:12},":",this.state.provider_data[0]&&this.state.provider_data[0].booking_provider[0]?this.state.provider_data[0].booking_provider[0].ifsc_code:""))))),o.a.createElement(Ii,{header:o.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},o.a.createElement("div",{className:"align-items-center d-flex"},o.a.createElement(X.a,{className:"px-3",type:"bank"}),"Mpesa Details"),o.a.createElement(W.a,{visible:"bank"===(null===(a=this.state.provider_data[0])||void 0===a||null===(n=a.booking_provider[0])||void 0===n?void 0:n.payout_option),color:"green"},"Provider Preferred")),key:"2"},o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:24},o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:12},"Frist Name"),o.a.createElement(Ne.a,{span:12},":",this.state.provider_data[0]&&this.state.provider_data[0].booking_provider[0]?this.state.provider_data[0].booking_provider[0].payout_frist_name:"")),o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:12},"Second Name"),o.a.createElement(Ne.a,{span:12},":",this.state.provider_data[0]&&this.state.provider_data[0].booking_provider[0]?this.state.provider_data[0].booking_provider[0].payout_second_name:"")),o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:12},"Kra Pin"),o.a.createElement(Ne.a,{span:12},":",this.state.provider_data[0]&&this.state.provider_data[0].booking_provider[0]?this.state.provider_data[0].booking_provider[0].kra_pin:"")),o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:12},"M-PESA Phone Number"),o.a.createElement(Ne.a,{span:12},":",this.state.provider_data[0]&&this.state.provider_data[0].booking_provider[0]?this.state.provider_data[0].booking_provider[0].payout_phone:"")),o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:12},"Payout ID"),o.a.createElement(Ne.a,{span:12},":",this.state.provider_data[0]&&this.state.provider_data[0].booking_provider[0]?this.state.provider_data[0].booking_provider[0].payout_id:""))))),o.a.createElement(Ii,{header:o.a.createElement("div",{className:"d-flex align-items-center"},o.a.createElement(X.a,{className:"px-3",type:"wallet"}),"Payout Details"),key:"3"},o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:16,style:{overflowY:"scroll",height:"10em"}},this.state.provider_data.map((function(e){return o.a.createElement("div",{className:"d-flex justify-content-between px-1"},o.a.createElement("div",{className:"bold"},e.find_payout_booking[0]&&e.find_payout_booking[0].booking_category[0]?1===e.find_payout_booking[0].booking_category[0].category_type?e.find_payout_booking[0].booking_category[0].category_name:e.find_payout_booking[0].booking_category[0].subCategory_name:""),o.a.createElement("div",null,e.amount))}))),o.a.createElement(Ne.a,{span:8},o.a.createElement("div",null,o.a.createElement("div",{className:"d-flex justify-content-center"},"Total"),o.a.createElement("div",{className:"d-flex justify-content-center m-4 bold"},this.state.provider_total),o.a.createElement(R.b,{permission:"approve_payout"},o.a.createElement(be.a,{className:"d-flex mx-auto",type:"primary",onClick:this.payout_to_provider},"Done Payment"))))))))),o.a.createElement("div",{id:"no-more-tables"},o.a.createElement(te.a,{rowClassName:function(){return"editable-row"},rowKey:function(e){return e._id},className:"table_shadow",dataSource:l,columns:c,size:"middle",pagination:this.state.pagination,onChange:this.handleTableChange,loading:this.state.loading})))}}]),a}(o.a.Component),Pi=ae.a.create()(Di),Ti=l.a.Content,Ai=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(){var e;Object(q.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={collapsed:!1},e.onToggle=function(t){console.log(t),e.setState({collapsed:t})},e}return Object(U.a)(a,[{key:"render",value:function(){return o.a.createElement(l.a,{style:{height:"100vh"}},o.a.createElement(B.default,{update_collapsed:this.state.collapsed}),o.a.createElement(l.a,null,o.a.createElement(V.default,null),o.a.createElement(Ti,{className:"main_frame"},o.a.createElement(Pi,null))))}}]),a}(o.a.Component),Fi=a(1987),zi=Object(re.a)(Si||(Si=Object(ne.a)(["\n query GETREVIEW($limit: Int,$page:Int,$data:JSON) {\n    get_review(limit:$limit,page:$page,data:$data) {\n        pageInfo {\n        totalDocs\n        page\n      }\n      data {\n        booking_ref\n        user_rating\n        _id\n        user_comments\n        user_comments_status\n        booking_user{\n            name\n        }\n      }\n    }\n }\n"]))),Ri=Object(re.a)(Ni||(Ni=Object(ne.a)(["\n    mutation UPDATEBOOKINGDETAIL($booking_id:ID,$user_comments_status:Int){\n        update_booking_details(booking_id:$booking_id,user_comments_status:$user_comments_status){\n            msg\n            status\n        }\n    }\n"]))),qi=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(){var e;Object(q.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={modalVisible:!1,dataSource:[],update_data:{},update:0,loading:!1,loading_img:!1,imageUrl:"",file:{},previewVisible:!1,previewImage:"",pagination:{pageSize:10,total:0,current:1,simple:!0}},e.handleTableChange=function(){var t=Object(H.a)(J.a.mark((function t(a){var n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=Object(Y.a)({},a)).current=a.current,e.setState({loading:!0}),t.next=5,A.a.query({query:zi,variables:{limit:n.pageSize,page:n.current,data:{user_comments_status:1,booking_status:[13,14]}},fetchPolicy:"no-cache"}).then((function(t){var a=Object(Y.a)({},e.state.pagination);a.total=t.data.get_review.pageInfo.totalDocs,a.current=t.data.get_review.pageInfo.page,console.log(a),e.setState({pagination:a,loading:!1,dataSource:t.data.get_review.data})}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.showModal=function(){e.setState({modalVisible:!0})},e.closeModal=function(){e.setState({modalVisible:!1,update_data:{},imageUrl:""})},e.update_comments_status=function(){var t=Object(H.a)(J.a.mark((function t(a,n){var r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="",r=n?1:0,t.next=4,A.a.mutate({mutation:Ri,variables:{booking_id:a,user_comments_status:Number(r)}}).then((function(t,a,n){Object(ue.a)(t.data.update_booking_details),"success"===t.data.update_booking_details.status&&e.handleTableChange(e.state.pagination)}));case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.fetch_category=function(){var t=Object(H.a)(J.a.mark((function t(a){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("1"),e.setState({loading:!0}),t.next=4,A.a.query({query:zi,variables:a,fetchPolicy:"no-cache"}).then((function(t){var a=Object(Y.a)({},e.state.pagination);a.total=t.data.get_review.pageInfo.totalDocs,e.setState({loading:!1,pagination:a,dataSource:t.data.get_review.data})}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onFilter_Ref=function(){var t=Object(H.a)(J.a.mark((function t(a){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.target.value?e.fetch_category({first:e.state.pagination.pageSize,after:e.state.pagination.cursor,data:{user_comments_status:1,booking_status:[13,14],booking_ref:{$regex:".*"+a.target.value+".*",$options:"i"}}}):e.fetch_category({first:e.state.pagination.pageSize,after:e.state.pagination.cursor,data:{user_comments_status:1,booking_status:[13,14]}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.fetch_category({first:this.state.pagination.pageSize,after:this.state.pagination.cursor,data:{user_comments_status:1,booking_status:[13,14]}})}},{key:"render",value:function(){var e=this,t=[{title:r.createElement("span",null,"Booking Ref"),dataIndex:"category_name",width:"15%",render:function(e,t){return r.createElement("span",{title:"Booking Ref"},t.booking_ref)}},{title:r.createElement("span",null,"User"),dataIndex:"description",render:function(e,t){return r.createElement("span",{title:"User"},t.booking_user[0]?t.booking_user[0].name:"")}},{title:r.createElement("span",null,"Rating"),dataIndex:"is_parent",render:function(e,t){return console.log(Number(t.user_rating)),r.createElement("span",{title:"Rating"},r.createElement(Fi.a,{disabled:!0,allowHalf:"true",value:parseInt(t?t.user_rating:2)}))}},{title:r.createElement("span",null,"Review"),render:function(e,t){return r.createElement("span",{title:"Review"},t.user_comments)}},{title:"Status",width:"10%",dataIndex:"operation",render:function(t,a){return r.createElement("span",{title:"....",className:"d-inline d-md-flex justify-content-around"}," ",r.createElement(K.a,{checkedChildren:"View",unCheckedChildren:"Hide",checked:a.user_comments_status,onChange:function(t){e.update_comments_status(a._id,t)}})," ")}}];return r.createElement(r.Fragment,null,r.createElement(pe.a,{prefix:"#",className:"mb-3",size:"large",placeholder:"Search Booking Ref",onKeyUp:function(t){e.onFilter_Ref(t)},loading:!1}),r.createElement("div",{id:"no-more-tables"},r.createElement(te.a,{className:"table_shadow",pagination:this.state.pagination,rowKey:function(e){return e.id},loading:this.state.loading,dataSource:this.state.dataSource,columns:t,onChange:this.handleTableChange})))}}]),a}(r.Component),Ui=ae.a.create()(Object(d.withRouter)(qi)),Li=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(){var e;Object(q.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={modalVisible:!1,dataSource:[],update_data:{},update:0,loading:!1,loading_img:!1,imageUrl:"",file:{},previewVisible:!1,previewImage:"",pagination:{pageSize:10,total:0,current:1,simple:!0}},e.handleTableChange=function(){var t=Object(H.a)(J.a.mark((function t(a){var n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=Object(Y.a)({},a)).current=a.current,e.setState({loading:!0}),t.next=5,A.a.query({query:zi,variables:{limit:n.pageSize,page:n.current,data:{user_comments_status:0,booking_status:[13,14]}},fetchPolicy:"no-cache"}).then((function(t){var a=Object(Y.a)({},e.state.pagination);a.total=t.data.get_review.pageInfo.totalDocs,a.current=t.data.get_review.pageInfo.page,console.log(a),e.setState({pagination:a,loading:!1,dataSource:t.data.get_review.data})}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.showModal=function(){e.setState({modalVisible:!0})},e.closeModal=function(){e.setState({modalVisible:!1,update_data:{},imageUrl:""})},e.update_comments_status=function(){var t=Object(H.a)(J.a.mark((function t(a,n){var r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="",r=n?1:0,t.next=4,A.a.mutate({mutation:Ri,variables:{booking_id:a,user_comments_status:Number(r)}}).then((function(t,a,n){Object(ue.a)(t.data.update_booking_details),"success"===t.data.update_booking_details.status&&e.handleTableChange(e.state.pagination)}));case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.fetch_category=function(){var t=Object(H.a)(J.a.mark((function t(a){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("1"),e.setState({loading:!0}),t.next=4,A.a.query({query:zi,variables:a,fetchPolicy:"no-cache"}).then((function(t){var a=Object(Y.a)({},e.state.pagination);a.total=t.data.get_review.pageInfo.totalDocs,e.setState({loading:!1,pagination:a,dataSource:t.data.get_review.data})}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onFilter_Ref=function(){var t=Object(H.a)(J.a.mark((function t(a){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.target.value?e.fetch_category({first:e.state.pagination.pageSize,after:e.state.pagination.cursor,data:{user_comments_status:0,booking_status:[13,14],booking_ref:{$regex:".*"+a.target.value+".*",$options:"i"}}}):e.fetch_category({first:e.state.pagination.pageSize,after:e.state.pagination.cursor,data:{user_comments_status:0,booking_status:[13,14]}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.fetch_category({first:this.state.pagination.pageSize,after:this.state.pagination.cursor,data:{user_comments_status:0,booking_status:[13,14]}})}},{key:"render",value:function(){var e=this,t=[{title:r.createElement("span",null,"Booking Ref"),dataIndex:"category_name",width:"15%",render:function(e,t){return r.createElement("span",{title:"Booking Ref"},t.booking_ref)}},{title:r.createElement("span",null,"User"),dataIndex:"description",render:function(e,t){return r.createElement("span",{title:"User"},t.booking_user[0]?t.booking_user[0].name:"")}},{title:r.createElement("span",null,"Rating"),dataIndex:"is_parent",render:function(e,t){return console.log(Number(t.user_rating)),r.createElement("span",{title:"Rating"},r.createElement(Fi.a,{disabled:!0,allowHalf:"true",value:parseInt(t?t.user_rating:2)}))}},{title:r.createElement("span",null,"Review"),render:function(e,t){return r.createElement("span",{title:"Review"},t.user_comments)}},{title:"Status",width:"10%",dataIndex:"operation",render:function(t,a){return r.createElement("span",{title:"....",className:"d-inline d-md-flex justify-content-around"},r.createElement(K.a,{checkedChildren:"View",unCheckedChildren:"Hide",checked:a.user_comments_status,onChange:function(t){e.update_comments_status(a._id,t)}}))}}];return r.createElement(r.Fragment,null,r.createElement(pe.a,{prefix:"#",className:"mb-3",size:"large",placeholder:"Search Booking Ref",onKeyUp:function(t){e.onFilter_Ref(t)},loading:!1}),r.createElement("div",{id:"no-more-tables"},r.createElement(te.a,{className:"table_shadow",pagination:this.state.pagination,rowKey:function(e){return e.id},loading:this.state.loading,dataSource:this.state.dataSource,columns:t,onChange:this.handleTableChange})))}}]),a}(r.Component),Mi=ae.a.create()(Object(d.withRouter)(Li)),Bi=l.a.Content,Vi=fe.a.TabPane,Gi=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(){var e;Object(q.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={collapsed:!1},e.onToggle=function(t){console.log(t),e.setState({collapsed:t})},e}return Object(U.a)(a,[{key:"render",value:function(){return o.a.createElement(l.a,{style:{height:"100vh"}},o.a.createElement(B.default,{update_collapsed:this.state.collapsed}),o.a.createElement(l.a,null,o.a.createElement(V.default,null),o.a.createElement(Bi,{className:"main_frame"},o.a.createElement(fe.a,null,o.a.createElement(Vi,{tab:"Show Review",key:"1"},o.a.createElement(Ui,null)),o.a.createElement(Vi,{tab:"Hide Review",key:"2"},o.a.createElement(Mi,null))))))}}]),a}(o.a.Component),Ji=a(1988),Yi=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(){var e;Object(q.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={collapsed:!1,imageUrl:"",site_name:"",site_email:"",copyrights_content:"",playstore_link:"",appstore_link:"",contact_number:"",contact_email:"",site_currency:"",file:{},icon_loading:0,logo_loading:0},e.onToggle=function(t){console.log(t),e.setState({collapsed:t})},e.componentDidMount=function(){e.get_static_data()},e.get_static_data=Object(H.a)(J.a.mark((function t(){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.a.query({query:va.g,fetchPolicy:"no-cache"}).then((function(t){e.setState({site_name:t.data.site_setting_detail?t.data.site_setting_detail.site_name:"",site_email:t.data.site_setting_detail?t.data.site_setting_detail.site_email:"",copyrights_content:t.data.site_setting_detail?t.data.site_setting_detail.copyrights_content:"",playstore_link:t.data.site_setting_detail?t.data.site_setting_detail.playstore_link:"",appstore_link:t.data.site_setting_detail?t.data.site_setting_detail.appstore_link:"",contact_number:t.data.site_setting_detail?t.data.site_setting_detail.contact_number:"",contact_email:t.data.site_setting_detail?t.data.site_setting_detail.contact_email:"",site_currency:t.data.site_setting_detail?t.data.site_setting_detail.site_currency:"",img_logo:t.data.site_setting_detail?t.data.site_setting_detail.site_logo:"",img_icon:t.data.site_setting_detail?t.data.site_setting_detail.site_icon:""})}));case 2:case"end":return t.stop()}}),t)}))),e.add_data=Object(H.a)(J.a.mark((function t(){var a,n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.props.form,n={},a.validateFields(function(){var e=Object(H.a)(J.a.mark((function e(t,a){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),void 0!==a.site_name&&(n.site_name=a.site_name),void 0!==a.site_email&&(n.site_email=a.site_email),void 0!==a.copyrights_content&&(n.copyrights_content=a.copyrights_content),void 0!==a.playstore_link&&(n.playstore_link=a.playstore_link),void 0!==a.appstore_link&&(n.appstore_link=a.appstore_link),void 0!==a.contact_number&&(n.contact_number=a.contact_number),void 0!==a.contact_email&&(n.contact_email=a.contact_email),void 0!==a.site_currency&&(n.site_currency=a.site_currency),e.next=11,A.a.mutate({mutation:va.b,variables:Object(Y.a)({},n)}).then((function(e,t,a){t&&Object(Ji.a)("loading"),console.log(e),Object(ue.a)(e.data.add_site_detail)}));case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)}))),e.getBase64=function(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)},e.normFile=function(e){return Array.isArray(e)?e:e&&e.fileList},e.beforeUpload=function(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||Oe.a.error("You can only upload JPG/PNG file!");var a=e.size/1024/1024<2;return a||Oe.a.error("Image must smaller than 2MB!"),t&&a},e.handleChange_logo=function(){var t=Object(H.a)(J.a.mark((function t(a){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(a),"uploading"!==a.file.status){t.next=4;break}return e.setState({logo_loading:!0}),t.abrupt("return");case 4:if(!a.file.status){t.next=9;break}return console.log(a.file.originFileObj),e.getBase64(a.file.originFileObj,(function(t){return e.setState({imageUrl:t,logo_loading:!1})})),t.next=9,A.a.mutate({mutation:va.i,variables:{file:a.file.originFileObj,option:2}}).then((function(t){console.log("dsd"),Object(ue.a)(t.data.update_site_img),"success"===t.data.update_site_img.status&&e.setState({img_logo:t.data.update_site_img.site_logo})}));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChange_icon=function(){var t=Object(H.a)(J.a.mark((function t(a){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("uploading"!==a.file.status){t.next=3;break}return e.setState({icon_loading:!0}),t.abrupt("return");case 3:if(!a.file.status){t.next=7;break}return e.getBase64(a.file.originFileObj,(function(t){return e.setState({imageUrl:t,icon_loading:!1})})),t.next=7,A.a.mutate({mutation:va.i,variables:{file:a.file.originFileObj,option:1}}).then((function(t){Object(ue.a)(t.data.update_site_img),"success"===t.data.update_site_img.status&&e.setState({img_icon:t.data.update_site_img.site_icon})}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(U.a)(a,[{key:"render",value:function(){var e=this.props.form,t=o.a.createElement("div",null,o.a.createElement(X.a,{type:this.state.logo_loading?"loading":"plus"}),o.a.createElement("div",{className:"ant-upload-text"},"Upload")),a=o.a.createElement("div",null,o.a.createElement(X.a,{type:this.state.icon_loading?"loading":"plus"}),o.a.createElement("div",{className:"ant-upload-text"},"Upload"));return o.a.createElement(o.a.Fragment,null,o.a.createElement(Se.a,{gutter:[24]},o.a.createElement(Ne.a,{lg:18,md:24},o.a.createElement(Jt.a,{title:"General",bordered:!1,extra:o.a.createElement(K.a,{checkedChildren:"Site is on Live..",unCheckedChildren:"Site is on Maintanence..",defaultChecked:!0}),style:{boxShadow:"0px 2px 6px 0px #7fd3af"}},o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{label:"Site Name"},e.getFieldDecorator("site_name",{rules:[],initialValue:this.state.site_name})(o.a.createElement(xe.a,{placeholder:"Site Name",className:"input_border"})))),o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{label:"Site Email"},e.getFieldDecorator("site_email",{rules:[],initialValue:this.state.site_email})(o.a.createElement(xe.a,{placeholder:"Site Email",className:"input_border"})))),o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{label:"Copyright content"},e.getFieldDecorator("Copyright_content",{rules:[],initialValue:this.state.copyrights_content})(o.a.createElement(xe.a,{placeholder:"Copyright content",className:"input_border"})))),o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{label:"Playstore Link"},e.getFieldDecorator("Playstore_Link",{rules:[],initialValue:this.state.playstore_link})(o.a.createElement(xe.a,{placeholder:"Playstore Link",className:"input_border"})))),o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{label:"Appstore Link"},e.getFieldDecorator("Appstore_Link",{rules:[],initialValue:this.state.appstore_link})(o.a.createElement(xe.a,{placeholder:"Appstore Link",className:"input_border"})))),o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{label:"Contact Number"},e.getFieldDecorator("Contact_Number",{rules:[],initialValue:this.state.contact_number})(o.a.createElement(xe.a,{placeholder:"Contact Number",className:"input_border"})))),o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{label:"Contact Email"},e.getFieldDecorator("Contact_Email",{rules:[],initialValue:this.state.contact_email})(o.a.createElement(xe.a,{placeholder:"Contact Email",className:"input_border"})))),o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{label:"Site currency"},e.getFieldDecorator("Site_currency",{rules:[],initialValue:this.state.site_currency})(o.a.createElement(xe.a,{placeholder:"Site currency",className:"input_border"})))),o.a.createElement(be.a,{type:"primary",block:!0,onClick:this.add_data},"Update Setting")))),o.a.createElement(Ne.a,{lg:6,md:24},o.a.createElement(Se.a,{gutter:[0,12]},o.a.createElement(Ne.a,{span:24},o.a.createElement(Jt.a,{title:"Site Logo",bordered:!1,style:{boxShadow:"0px 2px 6px 0px #7fd3af"}},o.a.createElement(ae.a.Item,{label:""},e.getFieldDecorator("file1",{rules:[{required:!1}],valuePropName:"fileList",getValueFromEvent:this.normFile})(o.a.createElement(Ie.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader img_upload_lg",showUploadList:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",beforeUpload:this.beforeUpload,onChange:this.handleChange_logo},this.state.img_logo?o.a.createElement("img",{src:this.state.img_logo,alt:"avatar",style:{width:"100%"}}):t))))),o.a.createElement(Ne.a,{span:24},o.a.createElement(Jt.a,{title:"Site Icon",bordered:!1,style:{boxShadow:"0px 2px 6px 0px #7fd3af"}},o.a.createElement(ae.a.Item,{label:""},e.getFieldDecorator("file2",{rules:[{required:!1}],valuePropName:"fileList",getValueFromEvent:this.normFile})(o.a.createElement(Ie.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader img_upload_lg",showUploadList:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",beforeUpload:this.beforeUpload,onChange:this.handleChange_icon},this.state.img_icon?o.a.createElement("img",{src:this.state.img_icon,alt:"avatar",style:{width:"100%"}}):a)))))))))}}]),a}(o.a.Component),Hi=ae.a.create()(Yi),Ki=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(){var e;Object(q.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={collapsed:!1,user_name:"",password:"",secret_key:"",client_key:"",signature:"",payout_status:0,msg:"",status:"",file:{},imageUrl:""},e.onToggle=function(t){console.log(t),e.setState({collapsed:t})},e.componentDidMount=Object(H.a)(J.a.mark((function t(){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.get_payout_data();case 1:case"end":return t.stop()}}),t)}))),e.get_payout_data=Object(H.a)(J.a.mark((function t(){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.a.query({query:va.f,fetchPolicy:"no-cache"}).then((function(t){e.setState({user_name:t.data.payout_setting_detail?t.data.payout_setting_detail.user_name:"",password:t.data.payout_setting_detail?t.data.payout_setting_detail.password:"",secret_key:t.data.payout_setting_detail?t.data.payout_setting_detail.secret_key:"",client_key:t.data.payout_setting_detail?t.data.payout_setting_detail.client_key:"",signature:t.data.payout_setting_detail?t.data.payout_setting_detail.signature:"",payout_status:t.data.payout_setting_detail?t.data.payout_setting_detail.payout_status:""})}));case 2:case"end":return t.stop()}}),t)}))),e.add_data=Object(H.a)(J.a.mark((function t(){var a,n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.props.form,n={},a.validateFields(function(){var e=Object(H.a)(J.a.mark((function e(t,a){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),void 0!==a.user_name&&(n.user_name=a.user_name),void 0!==a.password&&(n.password=a.password),void 0!==a.secret_key&&(n.secret_key=a.secret_key),void 0!==a.client_key&&(n.client_key=a.client_key),void 0!==a.signature&&(n.signature=a.signature),void 0!==a.payout_status&&(n.payout_status=a.payout_status),e.next=9,A.a.mutate({mutation:va.a,variables:Object(Y.a)({},n)}).then((function(e,t,a){console.log(e),Object(ue.a)(e.data.add_payout_detail)}));case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)}))),e}return Object(U.a)(a,[{key:"render",value:function(){var e=this,t=this.props.form;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{md:12,sm:24},o.a.createElement(Jt.a,{bordered:!1,style:{boxShadow:"0px 2px 6px 0px #7fd3af"},title:"Stripe",extra:o.a.createElement(K.a,{checkedChildren:"active",unCheckedChildren:"in-active",onChange:function(t){e.setState({payout_status:t})},checked:this.state.payout_status})},o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{label:"User Name"},t.getFieldDecorator("user_name",{rules:[],initialValue:this.state.user_name})(o.a.createElement(xe.a,{placeholder:"user name",className:"input_border"})))),o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{label:"Password"},t.getFieldDecorator("password",{rules:[],initialValue:this.state.password})(o.a.createElement(xe.a,{placeholder:"Password",className:"input_border"})))),o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{label:"Secret Key"},t.getFieldDecorator("secret_key",{rules:[],initialValue:this.state.secret_key})(o.a.createElement(xe.a,{placeholder:"Secret Key",className:"input_border"})))),o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{label:"Client ID"},t.getFieldDecorator("client_key",{rules:[],initialValue:this.state.client_key})(o.a.createElement(xe.a,{placeholder:"Client ID",className:"input_border"})))),o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{label:"Signature"},t.getFieldDecorator("signature",{rules:[],initialValue:this.state.signature})(o.a.createElement(xe.a,{placeholder:"Signature",className:"input_border"})))),o.a.createElement(be.a,{type:"primary",block:!0,onClick:this.add_data},"Update"))))))}}]),a}(o.a.Component),Wi=ae.a.create()(Ki),Qi=l.a.Content,Zi=fe.a.TabPane,Xi=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(){var e;Object(q.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={collapsed:!1},e.onToggle=function(t){console.log(t),e.setState({collapsed:t})},e}return Object(U.a)(a,[{key:"render",value:function(){return o.a.createElement(l.a,{style:{height:"100vh"}},o.a.createElement(B.default,{update_collapsed:this.state.collapsed}),o.a.createElement(l.a,null,o.a.createElement(V.default,null),o.a.createElement(Qi,{className:"main_frame"},o.a.createElement(fe.a,null,o.a.createElement(Zi,{tab:"Payouts Setting",key:"1"},o.a.createElement(Wi,null)),o.a.createElement(Zi,{tab:"Site Setting",key:"2"},o.a.createElement(Hi,null))))))}}]),a}(o.a.Component),ec=a(223),tc=a.n(ec),ac=we.a.Text,nc=we.a.Title,rc=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).emailLogin=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.props.form.validateFields(function(){var e=Object(H.a)(J.a.mark((function e(t,a){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return e.next=3,A.a.query({query:br,variables:{role:1,email:a.email,password:a.password,location_code:n.state.location_code},fetchPolicy:"no-cache"}).then((function(e){console.log(e.data.sign_up.status),"success"===e.data.sign_up.status&&(localStorage.setItem("userLogin","success"),localStorage.setItem("user",JSON.stringify(e.data.sign_up)),n.props.history.push("/")),Object(ue.a)(e.data.sign_up)}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),n.submitemail=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(n.state.forget_email),!n.state.forget_email){e.next=6;break}return e.next=4,A.a.query({query:fr,variables:{role:1,email:n.state.forget_email},fetchPolicy:"no-cache"}).then((function(e){"success"===e.data.confirm_email.status&&n.setState({forget_pwd:!1}),Object(ue.a)(e.data.confirm_email)}));case 4:e.next=7;break;case 6:Object(ue.a)({msg:"please Enter Email",status:"failed"});case 7:case"end":return e.stop()}}),e)}))),n.state={otp:"",register:0,forget_pwd:!1,otp_login:0,email_login:1,country_code:"",login:0,forget_email:""},n}return Object(U.a)(a,[{key:"render",value:function(){var e=this,t=this.props.form;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Se.a,{style:{overflow:"auto",height:"100vh"}},o.a.createElement(Ne.a,{lg:12,className:"d-none d-lg-flex d-xl-flex justify-content-center align-items-center overflow-hidden h-100"},o.a.createElement("div",{className:"d-flex justify-content-around"},o.a.createElement("img",{src:ur.a,alt:"jiffy",style:{width:300}}))),o.a.createElement(Ne.a,{lg:12,md:24,sm:24,className:"froms",style:{overflow:"auto",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement("div",{className:this.state.email_login?"w-75 mw-450":" d-none"},o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:24,className:"d-flex d-sm-flex d-lg-none h4 justify-content-around py-3 my-2"},o.a.createElement("img",{src:tc.a,alt:"jiffy",width:"12",style:{width:"12em",height:"4em"},height:"10",class:"img_cover"})),o.a.createElement(Ne.a,{span:24,className:"d-flex justify-content-around py-3"},o.a.createElement(nc,{level:2}," ",o.a.createElement(ac,{className:"primary_color",strong:!0},"LOGIN"))),o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{className:"",lg:24},o.a.createElement(ae.a.Item,{label:"Email"},t.getFieldDecorator("email",{rules:this.state.email_login?[{required:!0,message:"Enter Email"}]:[]})(o.a.createElement(xe.a,{className:"input_border"})))),o.a.createElement(Ne.a,{className:"",lg:24},o.a.createElement(ae.a.Item,{label:"Password"},t.getFieldDecorator("password",{rules:this.state.email_login?[{required:!0,message:"Enter Password"}]:[]})(o.a.createElement(xe.a.Password,{className:"input_border border_less",onPressEnter:this.emailLogin}))))),o.a.createElement(Ne.a,{span:24,className:"mb-2"},o.a.createElement(be.a,{className:"float-right primary_color",type:"link",onClick:function(){e.setState({forget_pwd:!0})}},"Forgot Password ?")),o.a.createElement(Ne.a,{span:24},o.a.createElement(be.a,{type:"primary",size:"large",block:!0,className:this.state.email_login?"":"d-none",htmlType:"submit",onClick:this.emailLogin},"Submit")),o.a.createElement(Ne.a,{span:24,className:"d-flex justify-content-center py-3"},o.a.createElement(ac,null,"or")),o.a.createElement(Ne.a,{span:24,className:"d-flex justify-content-center"},o.a.createElement(be.a,{type:"link",onClick:function(){e.props.history.push("/login")}},o.a.createElement(ac,null,"Are you new here ? ",o.a.createElement("span",{className:"primary_color"},"Register")))))))),o.a.createElement(Z.a,{title:"Reset password",className:"new_modal",centered:!0,visible:this.state.forget_pwd,onOk:this.submitemail,onCancel:function(){return e.setState({forget_pwd:!1})}},o.a.createElement("div",{className:"w-100 p-4"},o.a.createElement(xe.a,{size:"large",placeholder:"Enter your email",allowClear:!0,onChange:function(t){e.setState({forget_email:t.target.value})}}))))}}]),a}(o.a.Component),oc=ae.a.create()(rc),ic=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).handleTableChange=function(){var e=Object(H.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=Object(Y.a)({},t)).current=t.current,n.setState({loading:!0}),e.next=5,A.a.query({query:nt,variables:{limit:a.pageSize,page:a.current,booking_status:[9]},fetchPolicy:"no-cache"}).then((function(e){console.log(e.data);var t=Object(Y.a)({},n.state.pagination);t.total=e.data.get_booking.pageInfo.totalDocs,t.current=e.data.get_booking.pageInfo.page,console.log(t),n.setState({pagination:t,loading:!1,dataSource:e.data.get_booking.data})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.fetch_booking=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),e.next=3,A.a.query({query:nt,variables:{limit:n.state.pagination.pageSize,page:n.state.pagination.current,booking_status:[9]},fetchPolicy:"no-cache"}).then((function(e){var t=Object(Y.a)({},n.state.pagination);t.total=e.data.get_booking.pageInfo.totalDocs,n.setState({loading:!1,pagination:t,dataSource:e.data.get_booking.data})}));case 3:case"end":return e.stop()}}),e)}))),n.delete_booking=function(e){console.log(e)},n.state={modalVisible:!1,dataSource:[],update_data:{},update:0,loading:!1,loading_img:!1,imageUrl:"",file:{},previewVisible:!1,previewImage:"",pagination:{pageSize:10,current:1,total:0,simple:!0}},n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.fetch_booking()}},{key:"render",value:function(){var e=[{title:"User",width:"15%",editable:!0,render:function(e,t){return console.log(t),o.a.createElement("span",{title:"User"},t.booking_user[0]?t.booking_user[0].name:"")}},{title:"Provider",width:"15%",editable:!0,render:function(e,t){return o.a.createElement("span",{title:"Provider"},t.booking_provider[0]?t.booking_provider[0].name:"Not Assign")}},{title:"Sub Category",width:"15%",editable:!0,render:function(e,t){return o.a.createElement("span",{title:"Sub Category"},t.booking_category[0]&&t.booking_category[0].subCategory_name?t.booking_category[0].subCategory_name:"Main Category")}},{title:"Category",width:"15%",editable:!0,render:function(e,t){return"2"===t.category_type?(console.log("dosd"),o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{title:"Category"},t.booking_category[0]&&t.booking_category[0].booking_parent_category[0]?t.booking_category[0].booking_parent_category[0].category_name:""))):o.a.createElement("span",{title:"Category"},t.booking_category[0]?t.booking_category[0].category_name:"")}},{title:"Booked",width:"15%",editable:!0,render:function(e,t){return o.a.createElement("span",{title:"Booked"},t.booking_date)}},{title:"Status",width:"15%",editable:!0,render:function(e,t){if(9===t.booking_status)return o.a.createElement("span",{title:"Status"}," ",o.a.createElement(W.a,{color:"cyan"},"Provider Accept")," ")}}],t=this.state.dataSource;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{id:"no-more-tables"},o.a.createElement(te.a,{rowClassName:function(){return"editable-row"},className:"table_shadow",dataSource:t,columns:e,size:"middle",pagination:this.state.pagination,onChange:this.handleTableChange,loading:this.state.loading})))}}]),a}(o.a.Component),cc=ae.a.create()(ic),lc=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).handleTableChange=function(){var e=Object(H.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=Object(Y.a)({},t)).current=t.current,n.setState({loading:!0}),e.next=5,A.a.query({query:nt,variables:{limit:a.pageSize,page:a.current,booking_status:[8,11],payment_status:[0]},fetchPolicy:"no-cache"}).then((function(e){console.log(e.data);var t=Object(Y.a)({},n.state.pagination);t.total=e.data.get_booking.pageInfo.totalDocs,t.current=e.data.get_booking.pageInfo.page,console.log(t),n.setState({pagination:t,loading:!1,dataSource:e.data.get_booking.data})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.fetch_booking=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),e.next=3,A.a.query({query:nt,variables:{limit:n.state.pagination.pageSize,page:n.state.pagination.current,booking_status:[8,11],payment_status:[0]},fetchPolicy:"no-cache"}).then((function(e){var t=Object(Y.a)({},n.state.pagination);t.total=e.data.get_booking.pageInfo.totalDocs,n.setState({loading:!1,pagination:t,dataSource:e.data.get_booking.data})}));case 3:case"end":return e.stop()}}),e)}))),n.delete_booking=function(e){console.log(e)},n.state={modalVisible:!1,dataSource:[],update_data:{},update:0,loading:!1,loading_img:!1,imageUrl:"",file:{},previewVisible:!1,previewImage:"",pagination:{pageSize:10,current:1,total:0,simple:!0}},n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.fetch_booking()}},{key:"render",value:function(){var e=[{title:"User",width:"15%",editable:!0,render:function(e,t){return console.log(t),o.a.createElement("span",{title:"User"},t.booking_user[0]?t.booking_user[0].name:"")}},{title:"Provider",width:"15%",editable:!0,render:function(e,t){return o.a.createElement("span",{title:"Provider"},t.booking_provider[0]?t.booking_provider[0].name:"Not Assign")}},{title:"Sub Category",width:"15%",editable:!0,render:function(e,t){return o.a.createElement("span",{title:"Sub Category"},t.booking_category[0]&&t.booking_category[0].subCategory_name?t.booking_category[0].subCategory_name:"Main Category")}},{title:"Category",width:"15%",editable:!0,render:function(e,t){return"2"===t.category_type?(console.log("dosd"),o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{title:"Category"},t.booking_category[0]&&t.booking_category[0].booking_parent_category[0]?t.booking_category[0].booking_parent_category[0].category_name:""))):o.a.createElement("span",{title:"Category"},t.booking_category[0]?t.booking_category[0].category_name:"")}},{title:"Booked",width:"15%",editable:!0,render:function(e,t){return o.a.createElement("span",{title:"Booked"},t.booking_date)}},{title:"Status",width:"15%",editable:!0,render:function(e,t){return 8===t.booking_status?o.a.createElement("span",{title:"Status"}," ",o.a.createElement(W.a,{color:"cyan"},"Provider Cancel")," "):11===t.booking_status?o.a.createElement("span",{title:"Status"}," ",o.a.createElement(W.a,{color:"cyan"},"User Cancel")," "):void 0}}],t=this.state.dataSource;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{id:"no-more-tables"},o.a.createElement(te.a,{rowClassName:function(){return"editable-row"},className:"table_shadow",dataSource:t,columns:e,size:"middle",pagination:this.state.pagination,onChange:this.handleTableChange,loading:this.state.loading})))}}]),a}(o.a.Component),sc=ae.a.create()(lc),dc=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).handleTableChange=function(){var e=Object(H.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=Object(Y.a)({},t)).current=t.current,n.setState({loading:!0}),e.next=5,A.a.query({query:nt,variables:{limit:a.pageSize,page:a.current,booking_status:[12]},fetchPolicy:"no-cache"}).then((function(e){console.log(e.data);var t=Object(Y.a)({},n.state.pagination);t.total=e.data.get_booking.pageInfo.totalDocs,t.current=e.data.get_booking.pageInfo.page,console.log(t),n.setState({loading:!1,pagination:t,dataSource:e.data.get_booking.data})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.fetch_booking=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),e.next=3,A.a.query({query:nt,variables:{limit:n.state.pagination.pageSize,page:n.state.pagination.current,booking_status:[12]},fetchPolicy:"no-cache"}).then((function(e){var t=Object(Y.a)({},n.state.pagination);t.total=e.data.get_booking.pageInfo.totalDocs,n.setState({loading:!1,pagination:t,dataSource:e.data.get_booking.data})}));case 3:case"end":return e.stop()}}),e)}))),n.delete_booking=function(e){console.log(e)},n.state={modalVisible:!1,dataSource:[],update_data:{},update:0,loading:!1,loading_img:!1,imageUrl:"",file:{},previewVisible:!1,previewImage:"",pagination:{pageSize:10,current:1,total:0,simple:!0}},n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.fetch_booking()}},{key:"render",value:function(){var e=[{title:"User",width:"15%",editable:!0,render:function(e,t){return console.log(t),o.a.createElement("span",{title:"User"},t.booking_user[0]?t.booking_user[0].name:"")}},{title:"Provider",width:"15%",editable:!0,render:function(e,t){return o.a.createElement("span",{title:"Provider"},t.booking_provider[0]?t.booking_provider[0].name:"Not Assign")}},{title:"Sub Category",width:"15%",editable:!0,render:function(e,t){return o.a.createElement("span",{title:"Sub Category"},t.booking_category[0]&&t.booking_category[0].subCategory_name?t.booking_category[0].subCategory_name:"Main Category")}},{title:"Category",width:"15%",editable:!0,render:function(e,t){return"2"===t.category_type?(console.log("dosd"),o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{title:"Category"},t.booking_category[0]&&t.booking_category[0].booking_parent_category[0]?t.booking_category[0].booking_parent_category[0].category_name:""))):o.a.createElement("span",{title:"Category"},t.booking_category[0]?t.booking_category[0].category_name:"")}},{title:"Booked",width:"15%",editable:!0,render:function(e,t){return o.a.createElement("span",{title:"Booked"},t.booking_date)}},{title:"Status",width:"15%",editable:!0,render:function(e,t){if(12===t.booking_status)return o.a.createElement("span",{title:"Status"}," ",o.a.createElement(W.a,{color:"cyan"},"User Request")," ")}}],t=this.state.dataSource;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{id:"no-more-tables"},o.a.createElement(te.a,{rowClassName:function(){return"editable-row"},className:"table_shadow",dataSource:t,columns:e,size:"middle",pagination:this.state.pagination,onChange:this.handleTableChange,loading:this.state.loading})))}}]),a}(o.a.Component),uc=ae.a.create()(dc),mc=l.a.Content,pc=fe.a.TabPane,gc=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(){var e;Object(q.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={collapsed:!1},e.onToggle=function(t){console.log(t),e.setState({collapsed:t})},e}return Object(U.a)(a,[{key:"render",value:function(){return o.a.createElement(l.a,{style:{height:"100vh"}},o.a.createElement(B.default,{update_collapsed:this.state.collapsed}),o.a.createElement(l.a,null,o.a.createElement(V.default,null),o.a.createElement(mc,{className:"main_frame"},o.a.createElement(fe.a,null,o.a.createElement(pc,{tab:"User Request",key:"1"},o.a.createElement(uc,null)),o.a.createElement(pc,{tab:"Provider Request",key:"2"},o.a.createElement(cc,null)),o.a.createElement(pc,{tab:"Request Cancel",key:"3"},o.a.createElement(sc,null))))))}}]),a}(o.a.Component),_c=a(263),fc=a(80),bc=a(98),hc=l.a.Content,yc=o.a.lazy((function(){return Promise.resolve().then(a.bind(null,363))})),vc=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).fetch_booking=function(e){A.a.query({query:zo.f,variables:{_id:e},fetchPolicy:"no-cache"}).then((function(e){var t,a,r,o;Ut.a.setApiKey("AIzaSyDYRYnxipjEBUNazDUwUa_8BDvm8ON7TIk"),Ut.a.enableDebug(),Ut.a.fromLatLng(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.booking[0])||void 0===a?void 0:a.lat,null===e||void 0===e||null===(r=e.data)||void 0===r||null===(o=r.booking[0])||void 0===o?void 0:o.lng).then((function(e){n.setState({address:e.results[0].formatted_address})}),(function(e){console.error(e)})),n.setState({booking:e.data.booking,booking_category:e.data.booking[0].booking_category,booking_user:e.data.booking[0].booking_user,booking_provider:e.data.booking[0].booking_provider,message:e.data.booking[0].get_booking_message,u_rate:e.data.booking[0].user_rating,p_rate:e.data.booking[0].provider_rating})}))},n.manual_refund=function(e){console.log("BookingDetails -> manual_refund -> id",e),A.a.query({query:zo.k,variables:{booking_id:e},fetchPolicy:"no-cache"}).then((function(t){Object(ue.a)(t.data.update_manual_payment.info),"success"===t.data.update_manual_payment.info.status&&n.fetch_booking(e)}))},n.state={modalVisible:!1,dataSource:[],update_data:{},update:0,loading:!1,loading_img:!1,imageUrl:"",file:{},address:"",diffDuration:0,previewVisible:!1,previewImage:"",pagination:{pageSize:10,current:1,total:0,simple:!0},message:[],booking:[],booking_user:[],booking_provider:[],booking_category:[],nav_text:["",""],u_rate:0,p_rate:0,responsive_first_category:{0:{items:1},450:{items:2},600:{items:3},1e3:{items:4}}},n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props.location.state),this.fetch_booking(this.props.location.state._id)}},{key:"render",value:function(){var e,t,a,n=this;console.log(this.state.u_rate);var i=this.state,c=i.booking,d=i.booking_category,u=i.booking_provider,m=i.booking_user,p=i.u_rate;return console.log(this.props),o.a.createElement(l.a,{style:{height:"100vh"}},o.a.createElement(B.default,{update_collapsed:this.state.collapsed}),o.a.createElement(l.a,null,o.a.createElement(V.default,null),o.a.createElement(hc,{className:"main_frame",style:{background:"none"}},o.a.createElement(Se.a,{gutter:12},o.a.createElement(Ne.a,{lg:18,md:24},o.a.createElement(Jt.a,{bordered:0,title:"Job Detail",className:"mb-3"},o.a.createElement(Se.a,{gutter:[12,12]},o.a.createElement(Ne.a,{span:12},o.a.createElement("div",{className:"in_card"},o.a.createElement(fc.a,{className:"mx-2"}),"Invoice no:",c[0]?c[0].booking_ref:"")),o.a.createElement(Ne.a,{span:12},o.a.createElement("div",{className:"in_card justify-content-end d-flex"},o.a.createElement(be.a,{type:"link",target:"=_blank",onClick:function(){n.props.history.push({pathname:"/admin-booking-invoice/ondemand/".concat(c[0]?c[0]._id:""),state:{invoice_type:"ondemand"}})}},"Print Invoice")))),o.a.createElement(Se.a,{gutter:[12,12]},o.a.createElement(Ne.a,{span:24},o.a.createElement("div",{className:"d-block in_card"},o.a.createElement("div",{className:""},o.a.createElement(bc.c,{className:"mx-3"})," Category:  ",d[0]?1===d[0].category_type?d[0].category_name:d[0].subCategory_name:""),o.a.createElement("div",{className:"in_card_spilt"},o.a.createElement(r.Suspense,{fallback:o.a.createElement(s.a,{active:!0})},o.a.createElement(yc,{data:c[0]?c[0].description:"",img:null===(e=c[0])||void 0===e?void 0:e.user_image_url})))))),o.a.createElement(Se.a,{gutter:[12,12]},o.a.createElement(Ne.a,{span:24},o.a.createElement("div",{className:"d-block in_card"},o.a.createElement("div",null,o.a.createElement(gr.a,{className:"mx-3"})," Location:"),o.a.createElement("div",{className:"in_card_spilt"},this.state.address)))),o.a.createElement(Se.a,{gutter:[12,12]},o.a.createElement(Ne.a,{md:12,sm:24},o.a.createElement("div",{className:"d-block in_card"},o.a.createElement("div",null,o.a.createElement(bc.e,{className:"mx-3"})," Status:"),o.a.createElement("div",{className:"in_card_spilt"},c.length>0?10===c[0].booking_status?"User Accept":8===c[0].booking_status?"Provider Cancel":9===c[0].booking_status?"Provider Accept":11===c[0].booking_status?"User Cancel":13===c[0].booking_status?"Job End":14===c[0].booking_status?"Job Complete":"":""))),o.a.createElement(Ne.a,{md:12,sm:24},o.a.createElement("div",{className:"d-block in_card"},o.a.createElement("div",null,o.a.createElement(bc.a,{className:"mx-3"})," Scheduled at:"),o.a.createElement("div",{className:"in_card_spilt"},c[0]?c[0].booking_date:""))))),o.a.createElement(Jt.a,{bordered:0,title:"Initial Payment",className:"mb-3"},o.a.createElement(Se.a,{gutter:[12,12]},o.a.createElement(Ne.a,{md:12,sm:24},o.a.createElement("div",{className:"d-block in_card"},o.a.createElement("div",null,o.a.createElement(fc.b,{className:"mx-3"})," Amount"),o.a.createElement("div",{className:"in_card_spilt"},c[0]?c[0].base_price:""))),o.a.createElement(Ne.a,{md:12,sm:24},o.a.createElement("div",{className:"d-block in_card"},o.a.createElement("div",null,o.a.createElement(bc.b,{className:"mx-3"}),"  Transaction Id"),o.a.createElement("div",{className:"in_card_spilt"},c[0]?c[0].MpesaReceiptNumber:""))))),o.a.createElement(Jt.a,{bordered:0,title:"Job Proof",className:"mb-3"},o.a.createElement(Se.a,{gutter:[12,12]},o.a.createElement(Ne.a,{md:12,sm:24},o.a.createElement("div",{className:"d-block in_card"},o.a.createElement("div",null,o.a.createElement(fc.e,{className:"mx-3"}),"  Started Job"),o.a.createElement("div",{className:"in_card_spilt"},c[0]?c[0].job_start_time:""))),o.a.createElement(Ne.a,{md:12,sm:24},o.a.createElement("div",{className:"d-block in_card"},o.a.createElement("div",null,o.a.createElement(fc.f,{className:"mx-3"}),"    Ended Job"),o.a.createElement("div",{className:"in_card_spilt"},c[0]?c[0].job_end_time:"")))),o.a.createElement(Se.a,{gutter:[12,12]},o.a.createElement(Ne.a,{md:12,sm:24},o.a.createElement("div",{className:"d-block in_card"},o.a.createElement("div",null,o.a.createElement(fc.d,{className:"mx-3"}),"  Image before job"),o.a.createElement("div",{className:"in_card_spilt max_height_25"},this.state.booking.length>0?o.a.createElement(To.a,{className:"owl-theme cursor_point",items:1,dots:!1,nav:!0,navText:this.state.nav_text,margin:30},c[0]?c[0].start_job_image_url.map((function(e,t){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"item",key:t},o.a.createElement("img",{src:e,alt:"",className:"mx-auto max_height_25 img_fit"})))})):"no image"):"no data"))),o.a.createElement(Ne.a,{md:12,sm:24},o.a.createElement("div",{className:"d-block in_card"},o.a.createElement("div",null,o.a.createElement(fc.d,{className:"mx-3"}),"  Image after job"),o.a.createElement("div",{className:"in_card_spilt max_height_25"},this.state.booking.length>0?o.a.createElement(To.a,{className:"owl-theme cursor_point",items:1,dots:!1,nav:!0,navText:this.state.nav_text,margin:30},c[0]?c[0].end_job_image_url.map((function(e,t){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"item",key:t},o.a.createElement("img",{src:e,alt:"",className:"mx-auto max_height_25 img_fit"})))})):"no image"):"no data"))))),o.a.createElement(Jt.a,{bordered:0,title:"Pricing Details",className:"mb-3"},o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:24},o.a.createElement("div",{className:"d-flex in_card justify-content-between"},o.a.createElement("div",null,"Base Price"),o.a.createElement("div",null,c[0]?c[0].base_price:"")))),o.a.createElement(Se.a,{gutter:[12,12],className:void 0===(null===(t=c[0])||void 0===t?void 0:t.extra_price)?"d-none":""},o.a.createElement(Ne.a,{span:24},o.a.createElement("div",{className:"d-flex in_card justify-content-between"},o.a.createElement("div",null,"Extra Price"),o.a.createElement("div",null,c[0]?c[0].extra_price:"")))),o.a.createElement(Se.a,{gutter:[12,12]},o.a.createElement(Ne.a,{span:24},o.a.createElement("div",{className:"d-flex in_card justify-content-between"},o.a.createElement("div",null,"Total"),o.a.createElement("div",null,c[0]?c[0].total:"")))))),o.a.createElement(Ne.a,{lg:6,md:24},o.a.createElement(Jt.a,{bordered:0,className:"mb-3",title:"User",extra:o.a.createElement(Q.a,{className:"avatar_shadow",src:m[0]?m[0].img_url:""})},o.a.createElement("div",{className:"d-block"},o.a.createElement("div",null,o.a.createElement(fc.g,{className:"mx-3"})," ",m[0]?m[0].name:""),o.a.createElement("div",null,o.a.createElement(bc.g,{className:"mx-3"})," ",m[0]?m[0].phone_number:""),o.a.createElement("div",null,o.a.createElement(bc.f,{className:"mx-3"})," ",m[0]?m[0].email:""))),o.a.createElement(Jt.a,{bordered:0,className:"mb-3",title:"Provider",extra:o.a.createElement(Q.a,{className:"avatar_shadow",src:u[0]?u[0].img_url:""})},o.a.createElement("div",{className:"d-block"},o.a.createElement("div",null,o.a.createElement(fc.h,{className:"mx-3"})," ",u[0]?u[0].name:""),o.a.createElement("div",null,o.a.createElement(bc.g,{className:"mx-3"}),"  ",u[0]?u[0].phone_number:""),o.a.createElement("div",null,o.a.createElement(bc.f,{className:"mx-3"})," ",u[0]?u[0].email:""))),o.a.createElement(Jt.a,{bordered:0,className:"mb-3",title:"Payout Information",extra:o.a.createElement(fc.c,{style:{fontSize:"2em",cursor:"pointer"}})},o.a.createElement("div",{className:"d-block"},o.a.createElement("div",{className:"d-flex justify-content-between"},o.a.createElement("div",null,"Total"),o.a.createElement("div",null,c[0]?c[0].total:"")),o.a.createElement("div",{className:"d-flex justify-content-between"},o.a.createElement("div",null,"Service Fee"),o.a.createElement("div",null,c[0]?c[0].admin_fee:"")),o.a.createElement("div",{className:"d-flex justify-content-between"},o.a.createElement("div",null,"Provider Fee"),o.a.createElement("div",null,c[0]?c[0].provider_fee:""))),o.a.createElement("div",{className:"mt-3"},6===(null===(a=c[0])||void 0===a?void 0:a.payment_status)?o.a.createElement(o.a.Fragment,null,o.a.createElement(be.a,{className:"primary-bg",block:!0,onClick:function(){n.manual_refund(c[0]._id)}},"Manual Refund")):""),o.a.createElement("div",{className:"d-flex mt-3 justify-content-between align-items-center"},o.a.createElement("div",null,"Payment Status :"),o.a.createElement("div",{className:"blod primary_color card p-2"},c[0]&&c.length>0?0===c[0].payment_status?"Base Price Payout Pending":1===c[0].payment_status?"Base Price Paid":6===c[0].payment_status?"Waiting for manual refund":2===c[0].payment_status?"Refund Success":3===c[0].payment_status?"Refund Failed":4===c[0].payment_status?"Final Payout Pending":5===c[0].payment_status?"Payout Completed":"":""))),o.a.createElement(Jt.a,{bordered:0,title:"Messages",className:"mb-3"},o.a.createElement("div",{className:"border d-block",id:"scroll",style:{minHeight:"50vh",maxHeight:"50vh",overflowY:"scroll"}},this.state.message.length>0?o.a.createElement(o.a.Fragment,null,this.state.message.map((function(e){var t,a;return o.a.createElement("div",{className:2===e.role?"d-flex m-3":"d-flex m-3 flex-row-reverse"},o.a.createElement(Q.a,{size:"large",src:1===e.role?null===(t=m[0])||void 0===t?void 0:t.img_url:null===(a=u[0])||void 0===a?void 0:a.img_url}),o.a.createElement("div",{className:"d-block mx-3"},o.a.createElement("div",{className:1===e.role?"d-flex flex-md-row-reverse":""},e.message?null!==e.message?o.a.createElement("card",{style:{boxShadow:"#cccccc 0px 1px 5px 0px",padding:"6px",borderRadius:"7px"}},e.message):" ":""),o.a.createElement("div",{style:{fontSize:"10px",margin:"8px 0px"}},e.msg_date," ",e.msg_time)))}))):o.a.createElement("div",{style:{marginTop:"25%"}},o.a.createElement("div",{className:"d-flex justify-content-center"},o.a.createElement(_c.a,{description:!1}))))),o.a.createElement(Jt.a,{bordered:0,title:"User Rating",className:"mb-3",extra:o.a.createElement(Fi.a,{disabled:!0,value:p})},o.a.createElement("div",{className:"d-block"},o.a.createElement("p",{className:"bold"},"Review"),o.a.createElement("p",null,c[0]?c[0].user_comments:""))),o.a.createElement(Jt.a,{bordered:0,title:"Provider Rating",className:"mb-3",extra:o.a.createElement(Fi.a,{disabled:!0,value:this.state.p_rate})},o.a.createElement("div",{className:"d-block"},o.a.createElement("p",{className:"bold"},"Review"),o.a.createElement("p",null,c[0]?c[0].provider_comments:""))))))))}}]),a}(o.a.Component),Ec=ae.a.create()(Object(d.withRouter)(vc)),kc=(a(366),o.a.lazy((function(){return a.e(39).then(a.bind(null,2111))}))),wc=o.a.lazy((function(){return a.e(21).then(a.bind(null,2112))})),jc=function(e){var t=$r()(),a=(t.history,t.match),n=Object(r.useState)(!1),i=Object(Bn.a)(n,2),c=i[0],l=i[1];return Object(r.useEffect)((function(){console.log("Invoice -> match.params['type']",a.params.type),a.params.type?l(a.params.type):l("contract")}),[]),console.log(c),o.a.createElement(o.a.Fragment,null,"ondemand"===c&&o.a.createElement(r.Suspense,{fallback:o.a.createElement(s.a,{active:!0})},o.a.createElement(kc,null)),"contract"===c&&o.a.createElement(r.Suspense,{fallback:o.a.createElement(s.a,{active:!0})},o.a.createElement(wc,null)))},Oc=a(1989),Sc=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(){var e;Object(q.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).isMobile=function(){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i.test(navigator.userAgent||navigator.vendor||window.opera)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test((navigator.userAgent||navigator.vendor||window.opera).substr(0,4))},e}return Object(U.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement(Oc.a,{status:"404",title:"404",subTitle:"Sorry, Page Not Found.",extra:o.a.createElement(be.a,{className:this.isMobile()?"d-none":"",type:"primary",onClick:function(){e.props.history.push("/")}},"Back Home")})}}]),a}(o.a.Component),Nc=Object(d.withRouter)(Sc),xc=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(){return Object(q.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement(Oc.a,{status:"403",title:"403",subTitle:"Sorry, you are not authorized to access this page.",extra:o.a.createElement(be.a,{type:"primary",onClick:function(){e.props.history.push("/admin")}},"Back Home")})}}]),a}(o.a.Component),Cc=Object(d.withRouter)(xc),Ic=a(202),$c=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).handleTableChange=function(){var e=Object(H.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=Object(Y.a)({},t)).current=t.current,n.setState({loading:!0}),e.next=5,A.a.query({query:rt,variables:{limit:a.pageSize,page:a.current,provider_id:JSON.parse(localStorage.getItem("provider"))._id,booking_status:[13,14]},fetchPolicy:"no-cache"}).then((function(e){console.log(e.data);var t=Object(Y.a)({},n.state.pagination);t.total=e.data.get_booking.pageInfo.totalDocs,t.current=e.data.get_booking.pageInfo.page,console.log(t),n.setState({loading:!1,pagination:t,dataSource:e.data.get_booking.data})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.fetch_booking=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),e.next=3,A.a.query({query:rt,variables:{limit:n.state.pagination.pageSize,page:n.state.pagination.current,provider_id:JSON.parse(localStorage.getItem("provider"))._id,booking_status:[13,14]},fetchPolicy:"no-cache"}).then((function(e){var t=Object(Y.a)({},n.state.pagination);t.total=e.data.get_booking.pageInfo.totalDocs,n.setState({loading:!1,pagination:t,dataSource:e.data.get_booking.data})}));case 3:case"end":return e.stop()}}),e)}))),n.delete_booking=function(e){console.log(e)},n.state={id:"",modalVisible:!1,dataSource:[],update_data:{},update:0,loading:!1,loading_img:!1,imageUrl:"",file:{},previewVisible:!1,previewImage:"",pagination:{pageSize:10,current:1,total:0,simple:!0}},n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.fetch_booking()}},{key:"render",value:function(){var e=this,t=[{title:"User",width:"15%",fixed:"left",editable:!0,render:function(e,t){return console.log(t),o.a.createElement("span",{title:"booking name"},t.booking_user[0]?t.booking_user[0].name:"")}},{title:"Provider",width:"15%",editable:!0,render:function(e,t){return o.a.createElement("span",{title:"booking name"},t.booking_provider[0]?t.booking_provider[0].name:"Not Assign")}},{title:"Sub Category",width:"15%",editable:!0,render:function(e,t){return o.a.createElement("span",{title:"booking name"},t.booking_category[0]&&t.booking_category[0].subCategory_name?t.booking_category[0].subCategory_name:"Main Category")}},{title:"Category",width:"15%",editable:!0,render:function(e,t){return"2"===t.category_type?(console.log("dosd"),o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{title:"booking name"},t.booking_category[0]&&t.booking_category[0].booking_parent_category[0]?t.booking_category[0].booking_parent_category[0].category_name:""))):o.a.createElement("span",{title:"booking name"},t.booking_category[0]?t.booking_category[0].category_name:"")}},{title:"Booked",width:"15%",editable:!0,render:function(e,t){return o.a.createElement("span",{title:"booking name"},t.booking_date)}},{title:"Status",width:"15%",editable:!0,render:function(e,t){return 13===t.booking_status?o.a.createElement("span",{title:"booking name"}," ",o.a.createElement(W.a,{color:"cyan"},"End")," "):14===t.booking_status?o.a.createElement("span",{title:"booking name"}," ",o.a.createElement(W.a,{color:"cyan"},"Complete")," "):void 0}},{title:"Action",dataIndex:"operation",fixed:"right",render:function(t,a){return e.state.dataSource.length>=1?o.a.createElement("span",null,o.a.createElement("span",{onClick:function(){e.props.history.push({pathname:"/provider-booking-detail",state:{_id:a._id}})}},o.a.createElement(X.a,{type:"eye",theme:"twoTone",twoToneColor:"#52c41a",className:"f_25"}))):null}}],a=this.state.dataSource;return o.a.createElement(o.a.Fragment,null,o.a.createElement(te.a,{title:function(){return o.a.createElement("div",{className:"d-flex justify-content-center bold primary_color"},"My Booking")},rowClassName:function(){return"editable-row"},className:"table_shadow",dataSource:a,columns:t,scroll:{x:"calc(700px + 50%)",y:240},size:"middle",style:{borderRadius:"1em"},pagination:this.state.pagination,onChange:this.handleTableChange,loading:this.state.loading}))}}]),a}(o.a.Component),Dc=ae.a.create()(Object(d.withRouter)($c)),Pc=a(99),Tc=a(474),Ac=l.a.Header,Fc=function(){var e=$r()().history,t=o.a.createElement(Pc.a,null,o.a.createElement(Pc.a.Item,null,o.a.createElement("div",{className:"mr-1 d-flex align-items-center",onClick:function(){e.push("/provider_earnings")}},o.a.createElement(fc.h,{className:"mr-3 f_25"}),o.a.createElement("span",null,"My Earnings"))),o.a.createElement(Pc.a.Item,null,o.a.createElement("div",{className:"mr-1 d-flex align-items-center",onClick:function(){e.push("/provider_detail")}},o.a.createElement(fc.h,{className:"mr-3 f_25"}),o.a.createElement("span",null,"My Bookings"))),o.a.createElement(Pc.a.Divider,null),o.a.createElement(Pc.a.Item,null,o.a.createElement("div",{className:"mr-1 d-flex align-items-center",onClick:function(){"success"===localStorage.getItem("providerLogin")&&(localStorage.removeItem("providerLogin"),localStorage.removeItem("provider"),e.push("/provider_login"))}},o.a.createElement(bc.d,{className:"mr-3 f_25"}),o.a.createElement("span",null,"Logout"))));return o.a.createElement("div",null,o.a.createElement(Ac,{className:"white user_header px-0"},o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{lg:{span:20,offset:2},className:"px-1"},o.a.createElement("img",{src:ur.a,alt:"Jiffy",className:"w-75x object_fit cursor_point",onClick:function(){e.push("/provider_detail")}}),o.a.createElement("div",{className:"float-right"},o.a.createElement(Tc.a,{overlay:t,placement:"bottomRight"},o.a.createElement(Q.a,{className:"ant-dropdown-link avatar_shadow",icon:o.a.createElement(X.a,{type:"user",style:{verticalAlign:"baseline"}}),src:JSON.parse(localStorage.getItem("provider"))?JSON.parse(localStorage.getItem("provider")).img_url:""})))))))},zc=l.a.Content,Rc=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).state={},n}return Object(U.a)(a,[{key:"render",value:function(){return o.a.createElement(l.a,{className:"white",style:{height:"100vh"}},o.a.createElement(Fc,null),o.a.createElement(zc,{className:"p-4"},o.a.createElement(Dc,null)),o.a.createElement(Ic.default,null))}}]),a}(o.a.Component),qc=Object(re.a)(xi||(xi=Object(ne.a)(["\n query GETEARNINGS($provider_id:ID,$option:Int,$limit:Int,$page:Int,$booking_status:Int){\n    get_payout(provider_id:$provider_id,option:$option,limit:$limit,page:$page,booking_status:$booking_status)\n    {\n      pageInfo {\n         totalDocs\n         page\n         total_amount\n       }\n       data {\n         _id\n        booking_ref\n        category_type\n        booking_date\n        provider_fee\n        created_date\n        booking_category {\n           category_name\n           subCategory_name\n           img_url\n           category_type\n         }\n       }\n    }\n}"]))),Uc=je.a.Option,Lc=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).handleTableChange=function(){var e=Object(H.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=Object(Y.a)({},t)).current=t.current,n.setState({loading:!0}),e.next=5,A.a.query({query:qc,variables:{limit:a.pageSize,page:a.current,provider_id:JSON.parse(localStorage.getItem("provider"))._id,booking_status:14,option:Number(n.state.options)},fetchPolicy:"no-cache"}).then((function(e){console.log(e.data);var t=Object(Y.a)({},n.state.pagination);t.total=e.data.get_payout.pageInfo.totalDocs,t.current=e.data.get_payout.pageInfo.page,console.log(t),n.setState({pagination:t,loading:!1,dataSource:e.data.get_payout.data,total_amount:e.data.get_payout.pageInfo.total_amount})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.fetch_booking=function(){var e=Object(H.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),e.next=3,A.a.query({query:qc,variables:{provider_id:JSON.parse(localStorage.getItem("provider"))._id,option:Number(t),limit:n.state.pagination.pageSize,page:n.state.pagination.current,booking_status:14},fetchPolicy:"no-cache"}).then((function(e){var t=Object(Y.a)({},n.state.pagination);t.total=e.data.get_payout.pageInfo.totalDocs,n.setState({loading:!1,pagination:t,dataSource:e.data.get_payout.data,total_amount:e.data.get_payout.pageInfo.total_amount})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.earnings_option=function(e){console.log(e),n.setState({options:e}),n.fetch_booking(e)},n.state={id:"",options:"1",modalVisible:!1,total_amount:"",dataSource:[],update_data:{},update:0,loading:!1,loading_img:!1,imageUrl:"",file:{},previewVisible:!1,previewImage:"",pagination:{pageSize:10,current:1,total:0,simple:!0}},n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.setState({id:JSON.parse(localStorage.getItem("provider"))._id}),this.fetch_booking(this.state.options)}},{key:"render",value:function(){var e=this,t=[{title:"Booking Ref",width:"25%",editable:!0,render:function(e,t){return console.log(t),o.a.createElement("span",{title:"booking name"},t.booking_ref)}},{title:"Category",width:"25%",editable:!0,render:function(e,t){return"2"===t.category_type?(console.log("dosd"),o.a.createElement("span",{title:"booking name"},t.booking_category[0]?t.booking_category[0].subCategory_name:"")):o.a.createElement("span",{title:"booking name"},t.booking_category[0]?t.booking_category[0].category_name:"")}},{title:"Provider Fee",width:"25%",editable:!0,render:function(e,t){return console.log(t),o.a.createElement("span",{title:"booking name"},t.provider_fee)}},{title:"Action",dataIndex:"operation",render:function(t,a){return e.state.dataSource.length>=1?o.a.createElement("span",null,o.a.createElement("span",{onClick:function(){e.props.history.push({pathname:"/provider-booking-detail",state:{_id:a._id}})}},o.a.createElement(X.a,{type:"eye",theme:"twoTone",twoToneColor:"#52c41a",className:"f_25"}))):null}}],a=this.state,n=a.dataSource,r=a.total_amount,i=a.options;return console.log(r),o.a.createElement(o.a.Fragment,null,o.a.createElement(te.a,{title:function(){return o.a.createElement("div",{className:"d-flex justify-content-between bold primary_color"},o.a.createElement("div",null,"Total Earnings : ",r),o.a.createElement("div",null,o.a.createElement(je.a,{defaultValue:i,style:{width:120},onChange:e.earnings_option},o.a.createElement(Uc,{value:"1"},"Week"),o.a.createElement(Uc,{value:"2"},"Month"),o.a.createElement(Uc,{value:"3"},"Year"))))},rowClassName:function(){return"editable-row"},className:"table_shadow",dataSource:n,columns:t,size:"middle",style:{borderRadius:"1em"},pagination:this.state.pagination,onChange:this.handleTableChange,loading:this.state.loading}))}}]),a}(o.a.Component),Mc=ae.a.create()(Object(d.withRouter)(Lc)),Bc=l.a.Content,Vc=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).state={},n}return Object(U.a)(a,[{key:"render",value:function(){return o.a.createElement(l.a,{className:"white",style:{height:"100vh"}},o.a.createElement(Fc,null),o.a.createElement(Bc,{className:"p-4"},o.a.createElement(Mc,null)),o.a.createElement(Ic.default,null))}}]),a}(o.a.Component),Gc=l.a.Content,Jc=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).fetch_booking=function(e){A.a.query({query:zo.f,variables:{_id:e},fetchPolicy:"no-cache"}).then((function(e){console.log(e),console.log(e.data.booking),e.data.booking.length>0&&n.setState({booking:e.data.booking,booking_category:e.data.booking[0].booking_category,booking_user:e.data.booking[0].booking_user,booking_provider:e.data.booking[0].booking_provider,message:e.data.booking[0].get_booking_message})}))},n.state={modalVisible:!1,dataSource:[],update_data:{},update:0,loading:!1,loading_img:!1,imageUrl:"",file:{},previewVisible:!1,previewImage:"",pagination:{pageSize:10,current:1,total:0,simple:!0},message:[],booking:[],booking_user:[],booking_provider:[],booking_category:[],nav_text:["",""],responsive_first_category:{0:{items:1},450:{items:2},600:{items:3},1e3:{items:4}}},n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props.location.state),this.fetch_booking(this.props.location.state._id)}},{key:"render",value:function(){var e=this,t=this.state,a=t.booking,n=t.booking_category,r=t.booking_provider,i=t.booking_user;return console.log(this.props),o.a.createElement(l.a,{className:"white",style:{height:"100vh"}},o.a.createElement(Fc,null),o.a.createElement(Gc,{className:"px-1 "},o.a.createElement(Se.a,{gutter:12},o.a.createElement(Ne.a,{lg:18,md:24},o.a.createElement(Jt.a,{bordered:0,title:"Job Detail",className:"mb-3 table_shadow"},o.a.createElement(Se.a,{gutter:[12,12]},o.a.createElement(Ne.a,{span:12},o.a.createElement("div",{className:"in_card"},o.a.createElement(fc.a,{className:"mx-2"}),"Invoice no:",a[0]?a[0].booking_ref:"")),o.a.createElement(Ne.a,{span:12},o.a.createElement("div",{className:"in_card justify-content-end d-flex"},o.a.createElement(be.a,{type:"link",target:"=_blank",onClick:function(){e.props.history.push({pathname:"/admin-booking-invoice/ondemand/".concat(a[0]?a[0]._id:"")})}},"Print Invoice")))),o.a.createElement(Se.a,{gutter:[12,12]},o.a.createElement(Ne.a,{span:24},o.a.createElement("div",{className:"d-block in_card"},o.a.createElement("div",{className:""},o.a.createElement(bc.c,{className:"mx-3"})," Category:",n[0]?1===n[0].category_type?n[0].category_name:n[0].subCategory_name:""),o.a.createElement("div",{className:"in_card_spilt"},a[0]?a[0].description:"")))),o.a.createElement(Se.a,{gutter:[12,12]},o.a.createElement(Ne.a,{span:12},o.a.createElement("div",{className:"d-block in_card"},o.a.createElement("div",null,o.a.createElement(bc.e,{className:"mx-3"})," Status:"),o.a.createElement("div",{className:"in_card_spilt"},a.length>0?10===a[0].booking_status?"User Accept":8===a[0].booking_status?"Provider Cancel":9===a[0].booking_status?"Provider Accept":11===a[0].booking_status?"User Cancel":13===a[0].booking_status?"Job End":14===a[0].booking_status?"Job Complete":"":""))),o.a.createElement(Ne.a,{span:12},o.a.createElement("div",{className:"d-block in_card"},o.a.createElement("div",null,o.a.createElement(bc.a,{className:"mx-3"})," Scheduled at:"),o.a.createElement("div",{className:"in_card_spilt"},a[0]?a[0].booking_date:""))))),o.a.createElement(Jt.a,{bordered:0,title:"Initial Payment",className:"mb-3 table_shadow"},o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:12},o.a.createElement("div",{className:"d-block in_card"},o.a.createElement("div",null,o.a.createElement(fc.b,{className:"mx-3"})," Amount"),o.a.createElement("div",{className:"in_card_spilt"},a[0]?a[0].base_price:""))),o.a.createElement(Ne.a,{span:12},o.a.createElement("div",{className:"d-block in_card"},o.a.createElement("div",null,o.a.createElement(bc.b,{className:"mx-3"}),"  Transaction Id"),o.a.createElement("div",{className:"in_card_spilt"},a[0]?a[0].MpesaReceiptNumber:""))))),o.a.createElement(Jt.a,{bordered:0,title:"Job Proof",className:"mb-3 table_shadow"},o.a.createElement(Se.a,{gutter:[12,12]},o.a.createElement(Ne.a,{span:12},o.a.createElement("div",{className:"d-block in_card"},o.a.createElement("div",null,o.a.createElement(fc.e,{className:"mx-3"}),"  Started Job"),o.a.createElement("div",{className:"in_card_spilt"},a[0]?a[0].job_start_time:""))),o.a.createElement(Ne.a,{span:12},o.a.createElement("div",{className:"d-block in_card"},o.a.createElement("div",null,o.a.createElement(fc.f,{className:"mx-3"}),"    Ended Job"),o.a.createElement("div",{className:"in_card_spilt"},a[0]?a[0].job_end_time:"")))),o.a.createElement(Se.a,{gutter:[12,12]},o.a.createElement(Ne.a,{span:12},o.a.createElement("div",{className:"d-block in_card"},o.a.createElement("div",null,o.a.createElement(fc.d,{className:"mx-3"}),"  Image before job"),o.a.createElement("div",{className:"in_card_spilt max_height_25"},this.state.booking.length>0?o.a.createElement(To.a,{className:"owl-theme cursor_point",items:1,dots:!1,nav:!0,navText:this.state.nav_text,margin:30},a[0]?a[0].start_job_image_url.map((function(e,t){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"item",key:t},o.a.createElement("img",{src:e,alt:"",className:"mx-auto max_height_25 img_fit"})))})):"no image"):"no data"))),o.a.createElement(Ne.a,{span:12},o.a.createElement("div",{className:"d-block in_card"},o.a.createElement("div",null,o.a.createElement(fc.d,{className:"mx-3"}),"  Image after job"),o.a.createElement("div",{className:"in_card_spilt max_height_25"},this.state.booking.length>0?o.a.createElement(To.a,{className:"owl-theme cursor_point",items:1,dots:!1,nav:!0,navText:this.state.nav_text,margin:30},a[0]?a[0].end_job_image_url.map((function(e,t){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"item",key:t},o.a.createElement("img",{src:e,alt:"",className:"mx-auto max_height_25 img_fit"})))})):"no image"):"no data"))))),o.a.createElement(Jt.a,{bordered:0,title:"Pricing Details",className:"mb-3 table_shadow"},o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:24},o.a.createElement("div",{className:"d-flex in_card justify-content-between"},o.a.createElement("div",null,"Base Price"),o.a.createElement("div",null,a[0]?a[0].base_price:"")))),o.a.createElement(Se.a,{gutter:[12,12]},o.a.createElement(Ne.a,{span:24},o.a.createElement("div",{className:"d-flex in_card justify-content-between"},o.a.createElement("div",null,"Extra Price"),o.a.createElement("div",null,a[0]?a[0].extra_price:"")))),o.a.createElement(Se.a,{gutter:[12,12]},o.a.createElement(Ne.a,{span:24},o.a.createElement("div",{className:"d-flex in_card justify-content-between"},o.a.createElement("div",null,"Total"),o.a.createElement("div",null,a[0]?a[0].total:"")))))),o.a.createElement(Ne.a,{lg:6,md:24},o.a.createElement(Jt.a,{bordered:0,className:"mb-3 table_shadow",title:"User",extra:o.a.createElement(Q.a,{src:i[0]?i[0].img_url:""})},o.a.createElement("div",{className:"d-block"},o.a.createElement("div",null,o.a.createElement(fc.g,{className:"mx-3"})," ",i[0]?i[0].name:""),o.a.createElement("div",null,o.a.createElement(bc.g,{className:"mx-3"})," ",i[0]?i[0].phone_number:""),o.a.createElement("div",null,o.a.createElement(bc.f,{className:"mx-3"})," ",i[0]?i[0].email:""))),o.a.createElement(Jt.a,{bordered:0,className:"mb-3 table_shadow",title:"Provider",extra:o.a.createElement(Q.a,{src:r[0]?r[0].img_url:""})},o.a.createElement("div",{className:"d-block"},o.a.createElement("div",null,o.a.createElement(fc.h,{className:"mx-3"})," ",r[0]?r[0].name:""),o.a.createElement("div",null,o.a.createElement(bc.g,{className:"mx-3"}),"  ",r[0]?r[0].phone_number:""),o.a.createElement("div",null,o.a.createElement(bc.f,{className:"mx-3"})," ",r[0]?r[0].email:""))),o.a.createElement(Jt.a,{bordered:0,className:"mb-3 table_shadow",title:"Payout Information",extra:o.a.createElement(fc.c,{style:{fontSize:"2em",cursor:"pointer"}})},o.a.createElement("div",{className:"d-block"},o.a.createElement("div",{className:"d-flex justify-content-between"},o.a.createElement("div",null,"Total"),o.a.createElement("div",null,a[0]?a[0].total:"")),o.a.createElement("div",{className:"d-flex justify-content-between"},o.a.createElement("div",null,"Service Fee"),o.a.createElement("div",null,a[0]?a[0].service_fee:"")),o.a.createElement("div",{className:"d-flex justify-content-between"},o.a.createElement("div",null,"Provider Fee"),o.a.createElement("div",null,a[0]?a[0].provider_fee:""))),o.a.createElement("div",{className:"d-flex mt-3 justify-content-between align-items-center"},o.a.createElement("div",null,"Payment Status :"),o.a.createElement("div",{className:"blod primary_color card p-2"},a[0]&&a.length>0?0===a[0].payment_status?"Base Price Payout Pending":1===a[0].payment_status?"Base Price Paid":2===a[0].payment_status?"Refund Success":3===a[0].payment_status?"Refund Failed":4===a[0].payment_status?"Final Payout Pending":5===a[0].payment_status?"Payout Completed":"":""))),o.a.createElement(Jt.a,{bordered:0,title:"Messages",className:"mb-3 table_shadow"},o.a.createElement("div",{className:"border d-block",id:"scroll",style:{minHeight:"50vh",maxHeight:"50vh",overflowY:"scroll"}},this.state.message.length>0?o.a.createElement(o.a.Fragment,null,this.state.message.map((function(e){var t,a;return o.a.createElement("div",{className:2===e.role?"d-flex m-3":"d-flex m-3 flex-row-reverse"},o.a.createElement(Q.a,{size:"large",src:1===e.role?null===(t=i[0])||void 0===t?void 0:t.img_url:null===(a=r[0])||void 0===a?void 0:a.img_url}),o.a.createElement("div",{className:"d-block mx-3"},o.a.createElement("div",{className:1===e.role?"d-flex flex-md-row-reverse":""},e.message?null!==e.message?o.a.createElement("card",{style:{boxShadow:"#cccccc 0px 1px 5px 0px",padding:"6px",borderRadius:"7px"}},e.message):" ":""),o.a.createElement("div",{style:{fontSize:"10px",margin:"8px 0px"}},e.msg_date," ",e.msg_time)))}))):o.a.createElement("div",{style:{marginTop:"25%"}},o.a.createElement("div",{className:"d-flex justify-content-center"},o.a.createElement(_c.a,{description:!1}))))),o.a.createElement(Jt.a,{bordered:0,title:"User Rating",className:"mb-3 table_shadow",extra:o.a.createElement(Fi.a,{allowHalf:!0,disabled:!0,value:Number(a[0]?a[0].user_rating:0)})},o.a.createElement("div",{className:"d-block"},o.a.createElement("p",{className:"bold"},"Review"),o.a.createElement("p",null,a[0]?a[0].user_comments:""))),o.a.createElement(Jt.a,{bordered:0,title:"Provider Rating",className:"mb-3 table_shadow",extra:o.a.createElement(Fi.a,{allowHalf:!0,disabled:!0,value:Number(a[0]?a[0].provider_rating:0)})},o.a.createElement("div",{className:"d-block"},o.a.createElement("p",{className:"bold"},"Review"),o.a.createElement("p",null,a[0]?a[0].provider_comments:"")))))),o.a.createElement(Ic.default,null))}}]),a}(o.a.Component),Yc=ae.a.create()(Object(d.withRouter)(Jc)),Hc=we.a.Text,Kc=we.a.Title,Wc=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).emailLogin=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.props.form.validateFields(function(){var e=Object(H.a)(J.a.mark((function e(t,a){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return e.next=3,A.a.query({query:br,variables:{role:2,email:a.email,password:a.password},fetchPolicy:"no-cache"}).then((function(e){console.log(e.data.sign_up.status),"success"===e.data.sign_up.status&&(localStorage.setItem("providerLogin","success"),localStorage.setItem("provider",JSON.stringify(e.data.sign_up)),n.props.history.push("/provider_detail")),Object(ue.a)(e.data.sign_up)}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),n.state={otp:"",register:0,otp_login:0,email_login:1,country_code:"",login:0},n}return Object(U.a)(a,[{key:"render",value:function(){var e=this,t=this.props.form;return o.a.createElement(Se.a,{style:{overflow:"auto",height:"100vh"}},o.a.createElement(Ne.a,{lg:12,className:"d-none d-lg-flex d-xl-flex justify-content-center align-items-center overflow-hidden h-100"},o.a.createElement("div",{className:"d-flex justify-content-around"},o.a.createElement("img",{src:ur.a,alt:"jiffy",style:{width:500}}))),o.a.createElement(Ne.a,{lg:12,md:24,sm:24,className:"froms",style:{overflow:"auto",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement("div",{className:this.state.email_login?"w-75 mw-450":" d-none"},o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:24,className:"d-flex d-sm-flex d-lg-none justify-content-around py-3 my-2"},o.a.createElement("img",{src:ur.a,alt:"jiffy",width:"12",style:{width:"7em",height:"3em"},height:"10"})),o.a.createElement(Ne.a,{span:24,className:"d-flex justify-content-around py-3"},o.a.createElement(Kc,{level:2}," ",o.a.createElement(Hc,{className:"primary_color",strong:!0},"LOGIN"))),o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{className:"",lg:24},o.a.createElement(ae.a.Item,{label:"Email"},t.getFieldDecorator("email",{rules:this.state.email_login?[{required:!0,message:"Enter Email"}]:[]})(o.a.createElement(xe.a,{placeholder:"Email",className:"input_border"})))),o.a.createElement(Ne.a,{className:"",lg:24},o.a.createElement(ae.a.Item,{label:"Password"},t.getFieldDecorator("password",{rules:this.state.email_login?[{required:!0,message:"Enter Password"}]:[]})(o.a.createElement(xe.a.Password,{placeholder:"Password",className:"input_border border_less",onPressEnter:this.emailLogin}))))),o.a.createElement(Ne.a,{span:24},o.a.createElement(be.a,{type:"primary",size:"large",block:!0,className:this.state.email_login?"":"d-none",htmlType:"submit",onClick:this.emailLogin},"Submit")),o.a.createElement(Ne.a,{span:24,className:"d-flex justify-content-center py-3"},o.a.createElement(Hc,null,"or")),o.a.createElement(Ne.a,{span:24,className:"d-flex justify-content-center"},o.a.createElement(be.a,{type:"link",onClick:function(){e.props.history.push("/provider_login")}},o.a.createElement(Hc,null,"Are you new here ? ",o.a.createElement("span",{className:"primary_color"},"Register"))))))))}}]),a}(o.a.Component),Qc=ae.a.create()(Wc),Zc=a(1006),Xc=a.n(Zc),el=we.a.Text,tl=we.a.Title,al=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).get_otp=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.props.form.validateFields(function(){var e=Object(H.a)(J.a.mark((function e(t,a){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return e.next=3,A.a.query({query:vr,variables:{option:"otp",phone_no:n.state.m_no,role:2,country_code:n.state.country_code},fetchPolicy:"no-cache"}).then((function(e){console.log(e.data.addUser.status),localStorage.setItem("provider",JSON.stringify(e.data.addUser)),Object(ue.a)({msg:e.data.addUser.otp,status:"success"}),n.setState({login:0})}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),n.resend_otp=Object(H.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(localStorage.getItem("provider")),console.log(t),e.next=4,A.a.query({query:vr,variables:{option:"otp",phone_no:t.phone_no,role:2,country_code:t.phone_no},fetchPolicy:"no-cache"}).then((function(e){console.log(e.data.addUser.status),localStorage.setItem("provider",JSON.stringify(e.data.addUser)),Object(ue.a)({msg:e.data.addUser.otp,status:"success"}),n.setState({login:0})}));case 4:case"end":return e.stop()}}),e)}))),n.check_otp=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.props.form.validateFields(function(){var e=Object(H.a)(J.a.mark((function e(t,a){var r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(a),r=localStorage.getItem("provider"),console.log(r),t){e.next=6;break}return e.next=6,A.a.query({query:_r,variables:{_id:JSON.parse(r)._id,otp:a.otp},fetchPolicy:"no-cache"}).then((function(e){console.log(e.data),"new user"===e.data.checkOtp.msg?n.setState({register:1,otp_login:0}):"Wrong OTP"===e.data.checkOtp.msg?Object(ue.a)(e.data.checkOtp):(console.log(n.props),localStorage.setItem("providerLogin","success"),n.props.history.push("/provider_detail"))}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),n.emailLogin=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.props.form.validateFields(function(){var e=Object(H.a)(J.a.mark((function e(t,a){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return e.next=3,A.a.query({query:br,variables:{role:2,email:a.email,password:a.password},fetchPolicy:"no-cache"}).then((function(e){console.log(e.data.sing_up.status),localStorage.setItem("provider",JSON.stringify(e.data.addUser)),Object(ue.a)({msg:e.data.addUser.otp,status:"success"}),n.setState({login:0})}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),n.add_user=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.props.form.validateFields(function(){var e=Object(H.a)(J.a.mark((function e(t,a){var r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(a),r=localStorage.getItem("provider"),console.log(r),t){e.next=6;break}return e.next=6,A.a.mutate({mutation:vr,variables:{option:"add",_id:JSON.parse(r)._id,name:a.name,email:a.email,password:a.password}}).then((function(e){console.log(e.data),Object(ue.a)(e.data.addUser),"success"===e.data.addUser.status?(localStorage.setItem("providerLogin","success"),n.props.history.push("/provider_detail")):n.setState({register:1,otp_login:0})}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),n.state={otp:"",register:0,otp_login:1,email_login:0,country_code:"",m_no:"",login:1},n}return Object(U.a)(a,[{key:"render",value:function(){var e=this,t=this.props.form;return o.a.createElement(Se.a,{style:{overflow:"auto",height:"100vh"}},o.a.createElement(Ne.a,{lg:12,className:"d-none d-lg-flex d-xl-flex justify-content-center align-items-center overflow-hidden h-100"},o.a.createElement("div",{className:"d-flex justify-content-around"},o.a.createElement("img",{src:Xc.a,alt:"jiffy",style:{width:500}}))),o.a.createElement(Ne.a,{lg:12,md:24,sm:24,className:"froms",style:{overflow:"auto",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement("div",{className:this.state.otp_login?"w-75 mw-450":" d-none"},o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:24,className:"d-flex d-sm-flex d-lg-none justify-content-around py-3 my-2"},o.a.createElement("img",{src:tc.a,alt:"jiffy",width:"12",style:{width:"7em",height:"3em"},height:"10"})),o.a.createElement(Ne.a,{span:24,className:"d-flex justify-content-around py-3"},o.a.createElement(tl,{level:2}," ",o.a.createElement(el,{className:"primary_color",strong:!0},"LOGIN"))),o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:24,className:this.state.login?"py-3":"d-none"},o.a.createElement(ae.a.Item,{label:"Mobile Number"},t.getFieldDecorator("phone",{rules:this.state.login?[{required:!0,message:"Enter Mobile Number"}]:[]})(o.a.createElement(Rt.a,{searchStyle:{backgroundColor:"white"},placeholder:"phone no",inputClass:"input_border",buttonClass:"input_border",inputExtraProps:{name:"phone",required:!0,autoFocus:!0},value:this.state.phone,country:"ke",onKeyDown:function(t){13===t.keyCode&&e.get_otp()},onChange:function(t,a,n){e.setState({m_no:t.replace(/[^0-9]+/g,"").slice(a.dialCode.length),country_code:a.dialCode})}})))),o.a.createElement(Ne.a,{span:24,className:this.state.login?"d-none":"py-3"},o.a.createElement(ae.a.Item,{label:"OTP"},t.getFieldDecorator("otp",{rules:this.state.login?[]:[{required:!0,message:"Enter OTP"}]})(o.a.createElement(pr.a,{onChange:function(t){e.setState({otp:t})},numInputs:4,inputStyle:{width:"5em",margin:"0px 5px"},separator:o.a.createElement("span",{className:"px-3"},"    ")}))))),o.a.createElement(Ne.a,{span:24},o.a.createElement(be.a,{type:"primary",size:"large",block:!0,className:this.state.login?"":"d-none",htmlType:"submit",onClick:this.get_otp},"Next"),o.a.createElement(be.a,{type:"primary",size:"large",block:!0,className:this.state.login?"d-none":"",htmlType:"submit",onClick:this.check_otp},"Submit"),o.a.createElement(be.a,{type:"link",size:"large",block:!0,className:this.state.login?"d-none":"",onClick:this.resend_otp},o.a.createElement(gr.b,{className:"primary_color"})," ",o.a.createElement("span",{className:"primary_color"},"resend otp"))),o.a.createElement(Ne.a,{span:24,className:"d-flex justify-content-center py-3"},o.a.createElement(el,null,"or")),o.a.createElement(Ne.a,{span:24,className:"d-flex justify-content-center"},o.a.createElement(be.a,{type:"link",onClick:function(){e.props.history.push("/provider_signup")}},o.a.createElement(el,null,"Login via ",o.a.createElement("span",{className:"primary_color"},"Email Address")))))),o.a.createElement("div",{className:this.state.email_login?"w-75 mw-450":" d-none"},o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:24,className:"d-flex d-sm-flex d-lg-none justify-content-around py-3 my-2"},o.a.createElement("img",{src:tc.a,alt:"jiffy",width:"12",style:{width:"7em",height:"3em"},height:"10"})),o.a.createElement(Ne.a,{span:24,className:"d-flex justify-content-around py-3"},o.a.createElement(tl,{level:2}," ",o.a.createElement(el,{className:"primary_color",strong:!0},"LOGIN"))),o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{className:"",lg:24},o.a.createElement(ae.a.Item,{label:"Email"},t.getFieldDecorator("email",{rules:this.state.email_login?[{required:!0}]:[]})(o.a.createElement(xe.a,{placeholder:"Email",className:"input_border"})))),o.a.createElement(Ne.a,{className:"",lg:24},o.a.createElement(ae.a.Item,{label:"Password"},t.getFieldDecorator("password",{rules:this.state.email_login?[{required:!0}]:[]})(o.a.createElement(xe.a.Password,{placeholder:"Password",className:"input_border border_less",onPressEnter:this.check_otp}))))),o.a.createElement(Ne.a,{span:24},o.a.createElement(be.a,{type:"primary",size:"large",block:!0,className:this.state.email_login?"":"d-none",htmlType:"submit",onClick:this.check_otp},"Submit")),o.a.createElement(Ne.a,{span:24,className:"d-flex justify-content-center py-3"},o.a.createElement(el,null,"or")),o.a.createElement(Ne.a,{span:24,className:"d-flex justify-content-center"},o.a.createElement(be.a,{type:"link",onClick:function(){e.setState({email_login:0,otp_login:1})}},o.a.createElement(el,null,"Are you new here ? ",o.a.createElement("span",{className:"primary_color"},"Register")))))),o.a.createElement("div",{className:this.state.register?"w-75 mw-450":" d-none"},o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:24,className:"d-flex d-sm-flex d-lg-none justify-content-around py-3 my-2"},o.a.createElement("img",{src:tc.a,alt:"jiffy",width:"12",style:{width:"7em",height:"3em"},height:"10"})),o.a.createElement(Ne.a,{span:24,className:"d-flex justify-content-around py-3"},o.a.createElement(tl,{level:2}," ",o.a.createElement(el,{className:"primary_color",strong:!0},"REGISTER"))),o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{className:"",lg:24},o.a.createElement(ae.a.Item,{label:"Full Name"},t.getFieldDecorator("name",{rules:this.state.register?[{required:!0}]:[]})(o.a.createElement(xe.a,{className:"input_border"})))),o.a.createElement(Ne.a,{className:"",lg:24},o.a.createElement(ae.a.Item,{label:"Email"},t.getFieldDecorator("email",{rules:this.state.register?[{required:!0}]:[]})(o.a.createElement(xe.a,{className:"input_border"})))),o.a.createElement(Ne.a,{className:"",lg:24},o.a.createElement(ae.a.Item,{label:"Password"},t.getFieldDecorator("password",{rules:this.state.register?[{required:!0}]:[]})(o.a.createElement(xe.a.Password,{className:"input_border"}))))),o.a.createElement(Ne.a,{span:24},o.a.createElement(be.a,{type:"primary",size:"large",block:!0,className:this.state.register?"":"d-none",htmlType:"submit",onClick:this.add_user},"Register")),o.a.createElement(Ne.a,{span:24,className:"d-flex justify-content-center py-3"},o.a.createElement(el,null,"or")),o.a.createElement(Ne.a,{span:24,className:"d-flex justify-content-center"},o.a.createElement(be.a,{type:"link",onClick:function(){e.setState({register:0,otp_login:1,login:1})}},o.a.createElement(el,null,"Are you new here ? ",o.a.createElement("span",{className:"primary_color"},"Register"))))))))}}]),a}(o.a.Component),nl=ae.a.create()(al),rl=a(107),ol={height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},il={boxShadow:"0px 0px 6px 0px",borderRadius:"1em",width:"350px"},cl={position:"absolute",top:0,width:"100vw",padding:"1em",boxShadow:"0px 0px 11px 0px"};l.a.Content,o.a.lazy((function(){return Promise.resolve().then(a.bind(null,650))})),o.a.lazy((function(){return Promise.resolve().then(a.bind(null,202))}));var ll=function(){var e=Object(d.useLocation)().pathname.split("/").pop()||"",t=Object(rl.b)(va.k,{variables:{page_code:e}}),a=t.loading,n=t.error,r=t.data;return a?o.a.createElement(s.a,{active:!0}):n?"Error! ".concat(n.message):o.a.createElement(o.a.Fragment,null,o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{lg:{span:20,offset:2}},o.a.createElement("div",{id:"section-1",className:"why_jiffy position-relative pt-1"},r.static.map((function(e,t){return o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",{className:"bold text-center"},null===e||void 0===e?void 0:e.title),o.a.createElement(Sa.a,{theme:"bubble",className:"cursor_point",readOnly:!0,value:null===e||void 0===e?void 0:e.description}))}))))))},sl=[{title:"What is Gigzzy",data:"Gigzzy is an integrated web and mobile technology platform that connects home and business customers with service professionals (Pros) to get their everyday tasks and projects done. Through Web and Mobile Apps, Gigzzy offers tools and resources to help customers manage their tasks and projects from start to finish."},{title:"Does it cost to use Gigzzy",data:"Gigzzy is free to use for both customers and service providers. We do however charge a commission fee for all completed services."},{title:"Are service provider fees fixed",data:"No, service providers determine their own pricing and terms."},{title:"How do I submit a job",data:"After you signup and complete the registration, you can submit a job or project by selecting the Add + button from the web or mobile App."},{title:"What happens after I submit a job or project",data:"After submitting your job or project, the details are shared with professionals who provide the service you requested. Pros will then bid for the job or project and respond with their quotes. You will then be connected to the bidding pro\u2019s and can reject or accept their quotes and schedule the appointment. You can then manage the conversations, update the project status, and review the professionals all from within Web or mobile App."},{title:"Is there a fee for customers to use Gigzzy to contact professionals",data:"There is no cost for customers to use Gigzzy."},{title:"Can I change or add details to my project once submitted",data:"Yes, you can update the submitted job or project and work through all the changes with the professional and let them know if anything is changes once you connect."},{title:"Will I need to provide any tools and supplies for my job",data:"Professionals come prepared with the proper tools / equipment to get your job done right.However, if your job requires materials like paint, fencing, parts, fixtures, etc.to be successfully completed, please be aware that the cost of materials is not included in the booking total.Talk to your Pro if you have any questions about what might be needed, and they will be more than happy to help"},{title:"Can I communicate with my service professional",data:"Yes, as soon as you accept pricing offer from the service professional, you can contact your professional at any time with questions or concerns you might have."},{title:"How do I cancel or update the status of my project",data:"Visit your posted jobs and Project pages and update the status including cancellation."},{title:"Are professionals on Gigzzy independent business owners",data:"Gigzzy professionals are independent contractors, and each sets their own pricing, schedule, and other business policies.Each professional is responsible for maintaining their licensing, bonding, and insurance and we ask each homeowner to verify this information prior to hiring a professional."},{title:"Can I review the service professional",data:"Gigzzy believes in the workmanship and expertise of the service professionals, and we encourage you to leave a review of all your experiences with professionals."},{title:"Are Gigzzy professionals vetted",data:"All professionals on our platform are pre - screened independent contractors and are rated by customers like you to ensure quality."},{title:"Will the cost of my job change",data:"In some instances, the scope of the job may be different than expected based on unforeseen complexity or a misrepresented job. If this is the case, at the recommendation of the service professional we may contact you with a revised price for your approval prior to your pro completing the service."},{title:"Do I pay after my job or project is complete",data:"Yes, Gigzzy will pay the service provider once the job or project is completed using the payment method on record."},{title:"Can I contact professionals first",data:"Many professionals have opted -in to communicating on the Gigzzy messaging platform.You can either send them a message using the messaging feature on your project page or contact the professional directly after you schedule your appointment."},{title:"How do I review a professional",data:"Within your project page, select the pro\u2019s name from the list and you will now see a review button.Click \u2018Review."}],dl=(l.a.Content,dn.a.Panel),ul=(o.a.lazy((function(){return Promise.resolve().then(a.bind(null,650))})),o.a.lazy((function(){return Promise.resolve().then(a.bind(null,202))})),function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(){return Object(q.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{lg:{span:20,offset:2}},o.a.createElement("div",{id:"section-1",className:"why_jiffy position-relative pt-1 container "},o.a.createElement("h2",{className:"bold mb-5 text-center"},"GIGZZY FAQS"),o.a.createElement("h2",{className:"bold mb-3"},"Frequently Asked Questions"),o.a.createElement(dn.a,{defaultActiveKey:[0],expandIcon:function(e){var t=e.isActive;return o.a.createElement(X.a,{type:"caret-right",rotate:t?90:0})}},sl.map((function(e,t){return o.a.createElement(dl,{header:null===e||void 0===e?void 0:e.title,key:t},o.a.createElement("div",null,null===e||void 0===e?void 0:e.data))}))),o.a.createElement("div",{className:"bold my-5 d-flex justify-content-between"},o.a.createElement("div",null,"Contact Email : info@gigizzy.com"),o.a.createElement("div",null,"Contact Email : info@gigizzy.com"))))))}}]),a}(o.a.Component)),ml=ae.a.create()(ul),pl=[{title:"Service Providers",data:[{icon:"bulb",title:"Signup and complete registration",data:""},{icon:"bulb",title:"Go online to receive notifications on relevant jobs and projects",data:"From routine maintenance and repairs to dream  home renovations , we can help with any project - big or small"},{icon:"bulb",title:"Respond to the job or project with your qoute",data:"From routine maintenance and repairs to dream  home renovations , we can help with any project - big or small"},{icon:"bulb",title:"Accept the job or project",data:"From routine maintenance and repairs to dream  home renovations , we can help with any project - big or small"},{icon:"bulb",title:"Start the job or project",data:"From routine maintenance and repairs to dream  home renovations , we can help with any project - big or small"},{icon:"bulb",title:"Report on the status or milestones of the job or project",data:"From routine maintenance and repairs to dream  home renovations , we can help with any project - big or small"},{icon:"bulb",title:"Customer signs off on job or project completion",data:"From routine maintenance and repairs to dream  home renovations , we can help with any project - big or small"},{icon:"bulb",title:"Gigzzy deducts a service  commission from the total job or project cost",data:"From routine maintenance and repairs to dream  home renovations , we can help with any project - big or small"},{icon:"bulb",title:"You are paid. No more lead charges for jobs that you don\u2019t get!",data:"From routine maintenance and repairs to dream  home renovations , we can help with any project - big or small"}]},{title:"Customers",data:[{icon:"bulb",title:"1.Signup and complete registration",data:""},{icon:"bulb",title:"2.Post an job or project",data:"From routine maintenance and repairs to dream  home renovations , we can help with any project - big or small"},{icon:"bulb",title:"3.Accept qoutes from service provider(s)",data:"From routine maintenance and repairs to dream  home renovations , we can help with any project - big or small"},{icon:"bulb",title:"4.Payment is processed after job completion",data:"From routine maintenance and repairs to dream  home renovations , we can help with any project - big or small"}]}],gl=a(1007),_l=a.n(gl),fl=a(1008),bl=a.n(fl),hl=(l.a.Content,o.a.lazy((function(){return Promise.resolve().then(a.bind(null,650))})),o.a.lazy((function(){return Promise.resolve().then(a.bind(null,202))})),"How it works");var yl,vl,El,kl,wl,jl=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(Se.a,{gutter:[24,24]},o.a.createElement(Ne.a,null,o.a.createElement("h2",{className:"bold mb-5 text-center"},hl))),pl.map((function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(Se.a,{gutter:[16,16]},o.a.createElement(Ne.a,{lg:{span:20,offset:2}},o.a.createElement("div",null,o.a.createElement("h6",{style:{color:"green"}},e.title),o.a.createElement(Se.a,{className:"Customers"===e.title?"flex-row-reverse d-flex align-items-center":"d-flex align-items-center"},o.a.createElement(Ne.a,{sm:24,md:12},o.a.createElement("img",{lodaing:"lazy",className:"loading img-fluid p-5",src:"Customers"===e.title?bl.a:_l.a})),o.a.createElement(Ne.a,{sm:24,md:12},e.data.map((function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"d-flex align-items-center"},o.a.createElement("h3",{className:"bold"},o.a.createElement(X.a,{type:e.icon})," "),o.a.createElement("h4",{className:"px-3"},e.title)))}))))))))})))},Ol=a(650),Sl=a(259),Nl=(dn.a.Panel,o.a.lazy((function(){return a.e(46).then(a.bind(null,2113))}))),xl=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).handleTableChange=function(){var e=Object(H.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=Object(Y.a)({},t)).current=t.current,n.setState({loading:!0}),e.next=5,A.a.query({query:Sl.c,variables:{limit:a.pageSize,page:a.current,pagination:!0},fetchPolicy:"no-cache"}).then((function(e){var t=Object(Y.a)({},n.state.pagination);t.total=e.data.get_currencys.totaldata,t.current=e.data.get_currencys.page,n.setState({pagination:t,loading:!1,dataSource:e.data.get_currencys.data})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.fetch_payouts=function(){var e=Object(H.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("CurrencyTable -> fetch_payouts -> data",t),n.setState({loading:!0}),a={},a=t&&Fa()(t)?{search:t,limit:n.state.pagination.pageSize,page:n.state.pagination.current,pagination:!1}:{limit:n.state.pagination.pageSize,page:n.state.pagination.current,pagination:!0},e.next=6,A.a.query({query:Sl.c,variables:a,fetchPolicy:"no-cache"}).then((function(e){var t=Object(Y.a)({},n.state.pagination);t.total=e.data.get_currencys.totaldata,n.setState({loading:!1,pagination:t,dataSource:e.data.get_currencys.data})}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.delete_booking=function(){var e=Object(H.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),e.next=3,A.a.query({query:Sl.a,variables:{_id:t},fetchPolicy:"no-cache"}).then((function(e){n.setState({loading:!1}),n.fetch_payouts()}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onFilter=function(){var e=Object(H.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({input_data:Object(Y.a)(Object(Y.a)({},n.state.input_data),t)}),a=Object(Y.a)(Object(Y.a)({},n.state.input_data),t),n.fetch_payouts(a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={modalVisible:!1,openPanel:2,dataSource:[],provider_total:"",provider_data:[],update_data:{},update:0,loading:!1,loading_img:!1,imageUrl:"",file:{},input_data:{},previewVisible:!1,previewImage:"",pagination:{pageSize:10,current:1,total:0,simple:!0},_id_provider:""},n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.fetch_payouts()}},{key:"render",value:function(){var e=this,t=[{width:"15%",editable:!0,title:"Name",render:function(e,t){return o.a.createElement("span",{title:"Name"}," ",null===t||void 0===t?void 0:t.name)}},{width:"15%",editable:!0,title:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"d-block"},o.a.createElement(o.a.Fragment,null,o.a.createElement(r.Suspense,{fallback:o.a.createElement("div",null,".......")},o.a.createElement(Nl,{role:2,value:"location",placeholder:"Enter location",passedFunction:e.onFilter})))))},render:function(e,t){return o.a.createElement("span",{title:"Location"}," ",(null===t||void 0===t?void 0:t.location)||"Not found")}},{width:"15%",editable:!0,title:"Country code",render:function(e,t){return o.a.createElement("span",{title:"Country code"}," ",(null===t||void 0===t?void 0:t.country_code)||"Not found")}},{width:"15%",editable:!0,title:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"d-block"},o.a.createElement(o.a.Fragment,null,o.a.createElement(r.Suspense,{fallback:o.a.createElement("div",null,".......")},o.a.createElement(Nl,{role:2,value:"code",placeholder:"Enter Code",passedFunction:e.onFilter})))))},render:function(e,t){return o.a.createElement("span",{title:"Code"}," ",null===t||void 0===t?void 0:t.code)}},{width:"15%",editable:!0,title:"Symbol",render:function(e,t){return o.a.createElement("span",{title:"Symbol"}," ",null===t||void 0===t?void 0:t.symbol)}},{title:"Rate",width:"15%",editable:!0,render:function(e,t){return o.a.createElement("span",{title:"Rate"},null===t||void 0===t?void 0:t.rate)}},{title:"Action",dataIndex:"operation",className:Object(R.a)("view_currency")?"d-flex":"d-none",render:function(t,a){return e.state.dataSource.length>=1?o.a.createElement(o.a.Fragment,null,o.a.createElement(R.b,{permission:"view_currency"},o.a.createElement("span",{onClick:function(){e.props.history.push("/admin-currency/add/".concat(a._id))},title:"....",className:"d-flex d-sm-inline justify-content-around"},o.a.createElement("span",{className:"cursor_point"},o.a.createElement(X.a,{type:"edit",theme:"twoTone",twoToneColor:"#52c41a",className:"f_25"})))),o.a.createElement(R.b,{permission:"view_currency"},o.a.createElement(ee.a,{title:"Sure to delete this currency ?",onConfirm:function(){return e.delete_booking(a._id)}},o.a.createElement(X.a,{type:"delete",theme:"twoTone",twoToneColor:"#52c41a",className:"f_25 px-3"})))):null}}],a=this.state.dataSource;return o.a.createElement("div",{id:"no-more-tables"},o.a.createElement(te.a,{rowClassName:function(){return"editable-row"},rowKey:function(e){return e._id},className:"table_shadow",dataSource:a,columns:t,size:"middle",pagination:this.state.pagination,onChange:this.handleTableChange,loading:this.state.loading}))}}]),a}(o.a.Component),Cl=ae.a.create()(Object(d.withRouter)(xl)),Il=l.a.Content,$l=fe.a.TabPane,Dl=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(){var e;Object(q.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={collapsed:!1},e.onToggle=function(t){console.log(t),e.setState({collapsed:t})},e}return Object(U.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement(l.a,{style:{height:"100vh"}},o.a.createElement(B.default,{update_collapsed:this.state.collapsed}),o.a.createElement(l.a,null,o.a.createElement(V.default,null),o.a.createElement(Il,{className:"main_frame"},o.a.createElement(fe.a,{tabBarExtraContent:o.a.createElement(R.b,{permission:""},o.a.createElement(be.a,{type:"primary",onClick:function(){e.props.history.push("/admin-currency/add")}},"Add Currency"))},o.a.createElement($l,{tab:"Currency",key:"1"},o.a.createElement(Cl,null))))))}}]),a}(o.a.Component),Pl=l.a.Content,Tl=we.a.Title,Al=(je.a.Option,function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).fetch_find_currency=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.query({query:Sl.b,variables:{_id:n.props.match.params.id},fetchPolicy:"no-cache"}).then((function(e){console.log(e),n.setState({update:1,update_data:e.data.get_currency})}));case 2:case"end":return e.stop()}}),e)}))),n.update_currency=function(){var e=n.props,t=e.form,a=e.history;t.validateFields(function(){var e=Object(H.a)(J.a.mark((function e(t,r){var o,i;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=13;break}return o={},r.name&&(o.name=r.name),r.code&&(o.code=r.code),r.symbol&&(o.symbol=r.symbol),r.location&&(o.location=r.location),r.country_code&&(o.country_code=r.country_code),r.rate&&(o.rate=r.rate),i={},n.props.match.params.id&&(i._id=n.props.match.params.id),Fa()(o)&&(i.currency_data=o),e.next=13,A.a.mutate({mutation:Sl.d,variables:i}).then((function(e,t,r){n.setState({loading:!0}),Object(ue.a)(e.data.update_currency),"success"===e.data.update_currency.status&&a.push("/admin-currency")}));case 13:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())},n.state={user_id:"",visibleAddress:!1,modalVisible:!1,dataSource:[],loading:!1,imageUrl:"",profile_imageUrl:"",update:0,update_data:{},file:{},logo_file:{},profile_file:{},previewVisible:!1,previewImage:"",pagination:{pageSize:5,current:1,total:0,simple:!0},selectedItems:[],category:[],emails:[],company_provider:[],visible:!1,company_address:[]},n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.props.form.resetFields(),void 0!==this.props.match.params.id&&this.fetch_find_currency()}},{key:"render",value:function(){var e,t,a,n,r,i,c=this,s=this.props.form;return o.a.createElement(o.a.Fragment,null,o.a.createElement(l.a,{style:{height:"100vh"}},o.a.createElement(B.default,{update_collapsed:this.state.collapsed}),o.a.createElement(l.a,null,o.a.createElement(V.default,null),o.a.createElement(Pl,{className:"main_frame"},o.a.createElement(Se.a,{gutter:[24,24]},o.a.createElement(Ne.a,{span:24},o.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},o.a.createElement(Tl,{level:3},"Add Currency")))),o.a.createElement(ae.a,null,o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{span:12,className:"px-3"},o.a.createElement(Se.a,{gutter:12},o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{label:"Name"},s.getFieldDecorator("name",{initialValue:null===(e=this.state.update_data)||void 0===e?void 0:e.name,rules:[{required:!0}]})(o.a.createElement(xe.a,{placeholder:"Name"}))))),o.a.createElement(Se.a,{gutter:12},o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{label:"Location"},s.getFieldDecorator("location",{initialValue:null===(t=this.state.update_data)||void 0===t?void 0:t.location,rules:[{required:!0}]})(o.a.createElement(xe.a,{placeholder:"location"}))))),o.a.createElement(Se.a,{gutter:12},o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{label:"Country Code"},s.getFieldDecorator("country_code",{initialValue:null===(a=this.state.update_data)||void 0===a?void 0:a.country_code,rules:[{required:!0}]})(o.a.createElement(xe.a,{placeholder:"Country code"})))))),o.a.createElement(Ne.a,{span:12,className:"px-3"},o.a.createElement(Se.a,{gutter:12},o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{label:"Currency Code"},s.getFieldDecorator("code",{initialValue:null===(n=this.state.update_data)||void 0===n?void 0:n.code,rules:[{required:!0}]})(o.a.createElement(xe.a,{placeholder:"Currency code"}))))),o.a.createElement(Se.a,{gutter:12},o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{label:"Currency Rate"},s.getFieldDecorator("rate",{initialValue:null===(r=this.state.update_data)||void 0===r?void 0:r.rate,rules:[{required:!0}]})(o.a.createElement(xe.a,{placeholder:"Currency Rate"}))))),o.a.createElement(Se.a,{gutter:12},o.a.createElement(Ne.a,{span:24},o.a.createElement(ae.a.Item,{label:"Currency Symbol"},s.getFieldDecorator("symbol",{initialValue:null===(i=this.state.update_data)||void 0===i?void 0:i.symbol,rules:[{required:!0}]})(o.a.createElement(xe.a,{placeholder:"Currency Symbol"})))))))),o.a.createElement(Se.a,{className:"py-3",gutter:12},o.a.createElement(Ne.a,{span:24,className:"justify-content-end d-flex"},o.a.createElement(be.a,{type:"primary",htmlType:"submit",className:"mx-3",onClick:function(){c.props.history.push("/admin-currency")}},"Cancel"),o.a.createElement(be.a,{type:"primary",className:this.state.update?"d-none":"",htmlType:"submit",onClick:this.update_currency},"Submit"),o.a.createElement(be.a,{type:"primary",className:this.state.update?"":"d-none",htmlType:"submit",onClick:this.update_currency},"Update")))))))}}]),a}(o.a.Component)),Fl=ae.a.create()(Al),zl=a(174),Rl=Object(re.a)(yl||(yl=Object(ne.a)(["\n      mutation ADMINLOGIN($email:String,$password:String) {\n            adminLogin(email:$email,password:$password){ \n                  info\n                  email\n                  _id\n                  password\n                  name\n                  GizzyDeveloper\n                  full_permission_list{\n                        name\n                        _id\n                        key\n                  }\n            }\n      }\n"]))),ql=(a(1787),l.a.Header),Ul=l.a.Content,Ll=we.a.Text,Ml=function(e){var t=$r()().history,a=Object(rl.a)(Rl),n=Object(Bn.a)(a,1)[0],i=o.a.useState(""),c=Object(Bn.a)(i,2),s=c[0],d=c[1],u=o.a.useState(""),m=Object(Bn.a)(u,2),p=m[0],g=m[1],_=o.a.useState({}),f=Object(Bn.a)(_,2);f[0],f[1],o.a.useContext(Pn.d);Object(r.useEffect)((function(){"success"===localStorage.getItem("adminLogin")?t.push({pathname:"/admin-dashboard"}):t.push({pathname:"/admin"})}),[]);var b=Object(r.useCallback)(function(){var e=Object(H.a)(J.a.mark((function e(a){var r,o;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==s&&""!==p){e.next=4;break}Object(ue.a)({msg:"Please Fill All Data",status:"failed"}),e.next=8;break;case 4:return e.next=6,n({variables:{email:s,password:p}});case 6:"success"===(r=e.sent).data.adminLogin.info.status?(localStorage.setItem("adminLogin","success"),o=JSON.stringify(r.data.adminLogin),console.log("LoginPage -> datas",o),localStorage.setItem("hokjighsasd",window.btoa(o)),t.push("/admin-dashboard")):Object(ue.a)(r.data.adminLogin.info);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n]);return o.a.createElement("div",{className:"h-100"},o.a.createElement(l.a,{style:{height:"100vh"}},o.a.createElement(ql,{className:"header"},o.a.createElement("img",{src:ur.a,alt:"",className:"mx-4 logo_img object_fit"})),o.a.createElement(Ul,{className:"d-flex justify-content-center"},o.a.createElement(Jt.a,{bordered:!0,className:"m-auto"},o.a.createElement(Se.a,{gutter:[24,24]},o.a.createElement(Ne.a,{span:24,className:"d-flex"},o.a.createElement(Q.a,{icon:"user",className:"mx-auto"}))),o.a.createElement(Se.a,{gutter:[24,24]},o.a.createElement(Ne.a,{span:24,className:"d-flex"},o.a.createElement(Ll,{className:"mx-auto",strong:!0},"Admin Login"))),o.a.createElement(xe.a,{size:"large",placeholder:"Enter your email",className:"input",type:"email",suffix:o.a.createElement(zl.a,{title:"only admin enter this site"},o.a.createElement(X.a,{type:"info-circle",style:{color:"rgba(0,0,0,.45)"}})," "),onChange:function(e){return d(e.target.value)}}),o.a.createElement(xe.a.Password,{size:"large",placeholder:"Password",className:"my-3",onChange:function(e){return g(e.target.value)},onPressEnter:b}),o.a.createElement(be.a,{size:"large",type:"primary",block:!0,className:"admin_login_btn",onClick:b},"Login")))))},Bl=(a(1788),a(103)),Vl=Object(re.a)(vl||(vl=Object(ne.a)(["\n    query GETBOOKING($option:Int){\n        get_booking_chart(option: $option){\n            _id\n            count\n        }\n}"]))),Gl=Object(re.a)(El||(El=Object(ne.a)(["\n    query CANCELCHART($option:Int){\n        get_cancel_chart(option: $option){\n            _id\n            count\n        }\n}"]))),Jl=Object(re.a)(kl||(kl=Object(ne.a)(["\n    query EARNINGSCHART{\n        get_earnings_chart{\n            _id\n            total\n        }\n}"]))),Yl=Object(re.a)(wl||(wl=Object(ne.a)(["\n    query OTHERSCHART{\n        get_others_chart {\n            revenue\n            earning\n            user\n            provider\n        }\n    }"]))),Hl=je.a.Option,Kl=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.fetch_data(n.state.option);case 1:case"end":return e.stop()}}),e)}))),n.handleChange=function(e){n.fetch_data(Number(e))},n.fetch_data=function(e){n.setState({load:1}),A.a.query({query:Vl,variables:{option:e},fetchPolicy:"no-cache"}).then((function(t){console.log(t);var a=[];if(t.data.get_booking_chart.length>0)for(var r=0;r<t.data.get_booking_chart.length;r++){if(10===t.data.get_booking_chart[r]._id){var o={genre:"On Going",sold:t.data.get_booking_chart[r].count};a.push(o)}if(4===t.data.get_booking_chart[r]._id){var i={genre:"Start",sold:t.data.get_booking_chart[r].count};a.push(i)}if(13===t.data.get_booking_chart[r]._id){var c={genre:"End",sold:t.data.get_booking_chart[r].count};a.push(c)}if(14===t.data.get_booking_chart[r]._id){var l={genre:"Complete",sold:t.data.get_booking_chart[r].count};a.push(l)}}n.setState({data:a,load:0,option:e})}))},n.state={option:1,data:[],load:0,cols:{sold:{alias:"count"},genre:{alias:"Bookings"}}},n}return Object(U.a)(a,[{key:"render",value:function(){var e=this.state,t=e.data,a=e.cols,n=e.load,r=e.option;return o.a.createElement("div",null,o.a.createElement(Jt.a,{style:{boxShadow:"rgb(154, 176, 167) 0px 1px 6px 0px"},title:"Bookings Chart",bordered:!1,className:"w-100",extra:o.a.createElement(je.a,{defaultValue:String(r),style:{width:120},loading:n,onChange:this.handleChange},o.a.createElement(Hl,{value:"1"},"Current"),o.a.createElement(Hl,{value:"2"},"Week"),o.a.createElement(Hl,{value:"3"},"Month"),o.a.createElement(Hl,{value:"4"},"Year"))},o.a.createElement(Bl.Chart,{width:600,height:400,data:t,scale:a},o.a.createElement(Bl.Axis,{name:"genre",title:!0}),o.a.createElement(Bl.Axis,{name:"sold",title:!0}),o.a.createElement(Bl.Legend,{position:"top",dy:-20}),o.a.createElement(Bl.Geom,{type:"interval",position:"genre*sold",color:"#20c997"}))))}}]),a}(o.a.Component);a(1009).setTheme("default");var Wl=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.fetch_data();case 1:case"end":return e.stop()}}),e)}))),n.fetch_data=function(){n.setState({load:1}),A.a.query({query:Jl,fetchPolicy:"no-cache"}).then((function(e){console.log(e);var t=[];if(e.data.get_earnings_chart.length>0)for(var a=0;a<e.data.get_earnings_chart.length;a++){var r={year:mi.a.months(e.data.get_earnings_chart[a]._id-1),value:e.data.get_earnings_chart[a].total};t.push(r)}n.setState({dataSource:t,load:0})}))},n.state={option:1,dataSource:[],load:0,cols:{value:{min:0},year:{range:[0,1]}}},n}return Object(U.a)(a,[{key:"render",value:function(){var e=this.state,t=e.dataSource,a=e.cols;return o.a.createElement("div",null,o.a.createElement(Jt.a,{style:{boxShadow:"rgb(154, 176, 167) 0px 1px 6px 0px"},title:"Earnings Chart",bordered:!1,className:"earn"},o.a.createElement(Bl.Chart,{height:400,data:t,scale:a,forceFit:!0},o.a.createElement(Bl.Axis,{name:"year"}),o.a.createElement(Bl.Axis,{name:"value"}),o.a.createElement(Bl.Tooltip,{crosshairs:{type:"y"}}),o.a.createElement(Bl.Geom,{type:"line",position:"year*value",size:2}),o.a.createElement(Bl.Geom,{type:"point",position:"year*value",size:4,shape:"circle",style:{stroke:"#fff",lineWidth:1}}))))}}]),a}(o.a.Component),Ql=je.a.Option,Zl=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.fetch_data(n.state.option);case 1:case"end":return e.stop()}}),e)}))),n.handleChange=function(e){n.fetch_data(Number(e))},n.fetch_data=function(e){n.setState({load:1}),A.a.query({query:Gl,variables:{option:e},fetchPolicy:"no-cache"}).then((function(t){console.log(t);var a=[];if(t.data.get_cancel_chart.length>0)for(var r=0;r<t.data.get_cancel_chart.length;r++){if(15===t.data.get_cancel_chart[r]._id){var o={genre:"Not Available",sold:t.data.get_cancel_chart[r].count};a.push(o)}if(11===t.data.get_cancel_chart[r]._id){var i={genre:"Provider Accept",sold:t.data.get_cancel_chart[r].count};a.push(i)}if(8===t.data.get_cancel_chart[r]._id){var c={genre:"Provider Cancel",sold:t.data.get_cancel_chart[r].count};a.push(c)}if(9===t.data.get_cancel_chart[r]._id){var l={genre:"User Cancel",sold:t.data.get_cancel_chart[r].count};a.push(l)}}n.setState({data:a,load:0,option:e})}))},n.state={option:1,data:[],load:0,cols:{sold:{alias:"count"},genre:{alias:"Bookings"}}},n}return Object(U.a)(a,[{key:"render",value:function(){var e=this.state,t=e.data,a=e.cols,n=e.load,r=e.option;return o.a.createElement("div",null,o.a.createElement(Jt.a,{style:{boxShadow:"rgb(154, 176, 167) 0px 1px 6px 0px"},title:"Cancel Chart",bordered:!1,className:"w-100",extra:o.a.createElement(je.a,{defaultValue:String(r),style:{width:120},loading:n,onChange:this.handleChange},o.a.createElement(Ql,{value:"1"},"Current"),o.a.createElement(Ql,{value:"2"},"Week"),o.a.createElement(Ql,{value:"3"},"Month"),o.a.createElement(Ql,{value:"4"},"Year"))},o.a.createElement(Bl.Chart,{width:600,height:400,data:t,scale:a},o.a.createElement(Bl.Axis,{name:"genre",title:!0}),o.a.createElement(Bl.Axis,{name:"sold",title:!0}),o.a.createElement(Bl.Legend,{position:"top",dy:-20}),o.a.createElement(Bl.Geom,{type:"interval",position:"genre*sold",color:"#20c997"}))))}}]),a}(o.a.Component),Xl=a(651),es=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.fetch_data(n.state.option);case 1:case"end":return e.stop()}}),e)}))),n.handleChange=function(e){n.fetch_data(Number(e))},n.fetch_data=function(e){n.setState({load:1}),A.a.query({query:Yl,variables:{option:e},fetchPolicy:"no-cache"}).then((function(e){console.log(e),n.setState({data:e.data.get_others_chart})}))},n.state={option:1,data:[],load:0,cols:{sold:{alias:"count"},genre:{alias:"Bookings"}}},n}return Object(U.a)(a,[{key:"render",value:function(){var e=this.state.data;return o.a.createElement("div",null,o.a.createElement(Jt.a,{className:"",hoverable:!0,bordered:0,style:{boxShadow:"rgb(154, 176, 167) 0px 1px 6px 0px"}},o.a.createElement("div",{className:"d-flex justify-content-between"},o.a.createElement(fc.i,{style:{fontSize:"3em",marginTop:"5px",color:"#ff293dcc"}}),o.a.createElement("div",{className:"d-block"},o.a.createElement("div",{className:"bold"},"User"),o.a.createElement("div",{className:"d-flex justify-content-end"},e[0]?e[0].user:0)))),o.a.createElement(Jt.a,{className:"mt-3",hoverable:!0,bordered:0,style:{boxShadow:"rgb(154, 176, 167) 0px 1px 6px 0px"}},o.a.createElement("div",{className:"d-flex justify-content-between"},o.a.createElement(fc.j,{style:{fontSize:"3em",marginTop:"5px",color:"#e47af0"}}),o.a.createElement("div",{className:"d-block"},o.a.createElement("div",{className:"bold"},"Provider"),o.a.createElement("div",{className:"d-flex justify-content-end"},e[0]?e[0].provider:0)))),o.a.createElement(Jt.a,{className:"mt-3",hoverable:!0,bordered:0,style:{boxShadow:"rgb(154, 176, 167) 0px 1px 6px 0px"}},o.a.createElement("div",{className:"d-flex justify-content-between"},o.a.createElement(Xl.a,{style:{fontSize:"3em",marginTop:"5px",color:"#579afd"}}),o.a.createElement("div",{className:"d-block"},o.a.createElement("div",{className:"bold"},"Total Earns"),o.a.createElement("div",{className:"d-flex justify-content-end"},e[0]?e[0].earning:0)))),o.a.createElement(Jt.a,{className:"mt-3",hoverable:!0,bordered:0,style:{boxShadow:"rgb(154, 176, 167) 0px 1px 6px 0px"}},o.a.createElement("div",{className:"d-flex justify-content-between"},o.a.createElement(Xl.b,{style:{fontSize:"3em",marginTop:"5px",color:"#5dcb79"}}),o.a.createElement("div",{className:"d-block"},o.a.createElement("div",{className:"bold"},"Revenue"),o.a.createElement("div",{className:"d-flex justify-content-end"},e[0]?e[0].revenue:0)))))}}]),a}(o.a.Component),ts=l.a.Content,as=function(e){Object(L.a)(a,e);var t=Object(M.a)(a);function a(){var e;Object(q.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={collapsed:!1},e.onToggle=function(t){console.log(t),e.setState({collapsed:t})},e}return Object(U.a)(a,[{key:"render",value:function(){var e=this.state.collapsed;return o.a.createElement(l.a,{style:{height:"100vh"}},o.a.createElement(B.default,{update_collapsed:e}),o.a.createElement(l.a,null,o.a.createElement(V.default,null),o.a.createElement(ts,{style:{background:"#fff",minHeight:"auto"},className:"main_frame bg-transparent"},o.a.createElement(Se.a,{gutter:[12,24]},o.a.createElement(Ne.a,{lg:18,md:24},o.a.createElement(Wl,null)),o.a.createElement(Ne.a,{lg:6,md:24},o.a.createElement(es,null))),o.a.createElement(Se.a,{gutter:[12,24],className:"mt-3"},o.a.createElement(Ne.a,{lg:12,md:24},o.a.createElement(Kl,null)),o.a.createElement(Ne.a,{lg:12,md:24},o.a.createElement(Zl,null))))))}}]),a}(o.a.Component),ns=["permission","component"],rs=["component","isFooter"],os=["component"],is=["component","isHeader","isFooter"],cs=l.a.Content;function ls(e){var t=e.permission,a=e.component,r=Object(n.a)(e,ns);console.log("PrivateRoute -> permission",t);var i=!0;return t&&(i=Object(R.a)(t)),o.a.createElement(d.Route,Object.assign({},r,{render:function(e){return"success"===localStorage.getItem("adminLogin")?i?(console.log("PrivateRoute -> permission_condition","permission_condition"),o.a.createElement(a,e)):o.a.createElement(d.Redirect,{to:{pathname:"/notaccess"}}):o.a.createElement(d.Redirect,{to:{pathname:"/admin"}})}}))}function ss(e){var t=e.component,a=e.isFooter,i=Object(n.a)(e,rs);return o.a.createElement(d.Route,Object.assign({},i,{render:function(e){return"success"===localStorage.getItem("userLogin")?o.a.createElement(o.a.Fragment,null,o.a.createElement(l.a,{className:"white"},o.a.createElement(cs,{className:"px-md-5"},o.a.createElement(r.Suspense,{fallback:o.a.createElement("p",{className:"container mt-2",style:{backgroundColor:"#eae5e5",width:"100%",height:"30px"}})},o.a.createElement(Ol.default,null)),o.a.createElement(t,e),a&&o.a.createElement(r.Suspense,{fallback:o.a.createElement(s.a,{active:!0})},o.a.createElement(Ic.default,null))))):o.a.createElement(d.Redirect,{to:{pathname:"/login"}})}}))}function ds(e){var t=e.component,a=Object(n.a)(e,os);return o.a.createElement(d.Route,Object.assign({},a,{render:function(e){return"success"===localStorage.getItem("providerLogin")?o.a.createElement(t,e):o.a.createElement(d.Redirect,{to:{pathname:"/provider_login"}})}}))}function us(e){var t=e.component,a=e.isHeader,i=e.isFooter,c=Object(n.a)(e,is);return o.a.createElement(d.Route,Object.assign({},c,{render:function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(l.a,{className:"white"},o.a.createElement(cs,{className:"px-md-5"},a&&o.a.createElement(r.Suspense,{fallback:o.a.createElement("p",{className:"container mt-2",style:{backgroundColor:"#eae5e5",width:"100%",height:"30px"}})},o.a.createElement(Ol.default,null)),o.a.createElement(t,e),i&&o.a.createElement(r.Suspense,{fallback:o.a.createElement(s.a,{active:!0})},o.a.createElement(Ic.default,null)))))}}))}c.a.render(o.a.createElement(u.a,null,o.a.createElement(F.a,{client:A.a},o.a.createElement(z.a,{client:A.a},o.a.createElement(d.Switch,null,o.a.createElement(ls,{path:"/admin-dashboard",component:as}),o.a.createElement(ls,{exact:!0,path:"/admin-category/add",component:Me}),o.a.createElement(ls,{exact:!0,path:"/admin-category/add/:id",component:Me}),o.a.createElement(ls,{exact:!0,path:"/admin-category",component:ke}),o.a.createElement(ls,{exact:!0,path:"/admin-subcategory/add/:id",component:at}),o.a.createElement(ls,{exact:!0,path:"/admin-subcategory/add",component:at}),o.a.createElement(ls,{exact:!0,path:"/admin-subcategory",component:Ke}),o.a.createElement(ls,{exact:!0,path:"/admin-booking",component:Ot}),o.a.createElement(ls,{exact:!0,path:"/admin-booking-detail",component:Ec}),o.a.createElement(ls,{exact:!0,path:"/admin-request",component:gc}),o.a.createElement(ls,{exact:!0,path:"/admin-payouts",component:Ai}),o.a.createElement(ls,{exact:!0,path:"/admin-provider/add",component:Gt}),o.a.createElement(ls,{path:"/admin-provider/add/:id",component:Gt,exact:!0}),o.a.createElement(ls,{path:"/admin-provider/view/:id",component:Zt,exact:!0}),o.a.createElement(ls,{path:"/admin-provider",component:Pt,exact:!0}),o.a.createElement(ls,{path:"/admin-review",component:Gi,exact:!0}),o.a.createElement(ls,{path:"/admin-certificate",component:aa,exact:!0}),o.a.createElement(ls,{path:"/admin-user/add",component:ya,exact:!0}),o.a.createElement(ls,{path:"/admin-user/add/:id",component:ya,exact:!0}),o.a.createElement(ls,{path:"/admin-user",component:ia,exact:!0}),o.a.createElement(ls,{path:"/admin-static/add",component:Ia,exact:!0}),o.a.createElement(ls,{path:"/admin-static/add/:id",component:Ia,exact:!0}),o.a.createElement(ls,{path:"/admin-static",component:ja,exact:!0}),o.a.createElement(ls,{path:"/admin-settings",component:Xi,exact:!0}),o.a.createElement(ls,{path:"/admin-currency/add/:id",component:Fl,exact:!0}),o.a.createElement(ls,{path:"/admin-currency/add",component:Fl,exact:!0}),o.a.createElement(ls,{permission:"view_currency",path:"/admin-currency",component:Dl,exact:!0}),o.a.createElement(ds,{exact:!0,path:"/provider_detail",component:Rc}),o.a.createElement(ds,{exact:!0,path:"/provider_earnings",component:Vc}),o.a.createElement(ds,{exact:!0,path:"/provider-booking-detail",component:Yc}),o.a.createElement(ls,{permission:"",path:"/admin-company/add/:user_id",component:Un,exact:!0}),o.a.createElement(ls,{permission:"",path:"/admin-company/add/:user_id/:company_id",component:Un,exact:!0}),o.a.createElement(ls,{exact:!0,path:"/admin-company",component:Cn}),o.a.createElement(ls,{exact:!0,path:"/admin-company-worker-detail",component:Mn}),o.a.createElement(ls,{exact:!0,path:"/admin-contract/view/:id",component:Xa}),o.a.createElement(ls,{exact:!0,path:"/admin-contract",component:Ma}),o.a.createElement(ls,{permission:"view_roles",path:"/admin-roles",component:ln,exact:!0}),o.a.createElement(ls,{permission:"add_roles",path:"/admin-roles/add",component:jn,exact:!0}),o.a.createElement(ls,{permission:"edit_roles",path:"/admin-roles/add/:id",component:jn,exact:!0}),o.a.createElement(ls,{permission:"add_admin",path:"/admin-admin/add",component:yn,exact:!0}),o.a.createElement(ls,{permission:"edit_admin",path:"/admin-admin/add/:id",component:yn,exact:!0}),o.a.createElement(ls,{exact:!0,path:"/contract/view/:id",component:sr}),o.a.createElement(us,{path:"/admin-booking-invoice/:type/:id",component:jc,exact:!0}),o.a.createElement(us,{exact:!0,path:"/admin",component:Ml}),o.a.createElement(us,{isHeader:!0,isFooter:!0,exact:!0,path:"/",component:Lr}),o.a.createElement(us,{exact:!0,path:"/login",component:Cr}),o.a.createElement(us,{exact:!0,path:"/Confrim_password/:id",component:function(){var e=Object(d.useHistory)(),t=o.a.useState(""),a=Object(Bn.a)(t,2),n=a[0],i=a[1],c=o.a.useState(!1),l=Object(Bn.a)(c,2),s=l[0],u=l[1],m=o.a.useState(""),p=Object(Bn.a)(m,2),g=p[0],_=p[1],f=Object(rl.a)(yr),b=Object(Bn.a)(f,1)[0],h=Object(r.useCallback)((function(){var t=e.location.pathname.split("/");""!==n&&""!==g?n===g?(u(!0),b({variables:{id:t[2],password:n}}).then((function(t){u(!1),Object(ue.a)(t.data.reset_password),"success"===t.data.reset_password.status&&e.push("/signup")}))):Object(ue.a)({msg:"Please enter same password !",status:"failed"}):Object(ue.a)({msg:"Please enter mandatory !",status:"failed"})}),[b]);return o.a.createElement("div",{style:ol},o.a.createElement("div",{style:cl},o.a.createElement("div",null,o.a.createElement("img",{src:tc.a,alt:"",height:"25"}))),o.a.createElement("div",null,o.a.createElement(Jt.a,{title:"Reset Password",extra:o.a.createElement(X.a,{type:"exclamation-circle"}),style:il},o.a.createElement(We.a,{className:"d-flex justify-content-center",spinning:s},o.a.createElement(ae.a,{name:"basic",initialValues:{remember:!0}},o.a.createElement(ae.a.Item,{name:"password",rules:[{required:!0,message:"Please enter your password!"}]},o.a.createElement(xe.a,{placeholder:"Enter your Password",onChange:function(e){i(e.target.value)}})),o.a.createElement(ae.a.Item,{name:"password",rules:[{required:!0,message:"Please enter your password!"}]},o.a.createElement(xe.a.Password,{placeholder:"Enter your Password",onChange:function(e){_(e.target.value)}})),o.a.createElement(ae.a.Item,null,o.a.createElement(be.a,{type:"primary",block:!0,htmlType:"submit",onClick:h},"Submit")))))))}}),o.a.createElement(us,{exact:!0,path:"/signup",component:oc}),o.a.createElement(us,{exact:!0,path:"/static_page/:id",component:ll}),o.a.createElement(us,{isHeader:!0,isFooter:!0,exact:!0,path:"/howlearnmore",component:jl}),o.a.createElement(us,{isHeader:!0,isFooter:!0,exact:!0,path:"/faq",component:ml}),o.a.createElement(us,{exact:!0,path:"/provider_login",component:nl}),o.a.createElement(us,{exact:!0,path:"/provider_signup",component:Qc}),o.a.createElement(us,{exact:!0,path:"/notaccess",component:Cc}),o.a.createElement(ss,{exact:!0,path:"/profile",component:lo}),o.a.createElement(ss,{isFooter:!1,exact:!0,path:"/description/:id",component:Ci}),o.a.createElement(ss,{isFooter:!1,exact:!0,path:"/bookings",component:Xo}),o.a.createElement(ss,{exact:!0,path:"/contract_booking/:id",component:tr}),o.a.createElement(ss,{isHeader:!0,exact:!0,path:"/contract/user_view/:id",component:sr}),o.a.createElement(d.Route,{component:Nc}))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},20:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(481),r=function(e){return e.status&&"success"===e.status?n.a.loading("Please Wait ....",1).then((function(){return n.a.success(e.msg,[1])})):n.a.loading("Please Wait ....",1).then((function(){return n.a.error(e.msg,[1])}))}},200:function(e,t,a){"use strict";a.d(t,"i",(function(){return y})),a.d(t,"f",(function(){return v})),a.d(t,"h",(function(){return E})),a.d(t,"g",(function(){return k})),a.d(t,"b",(function(){return w})),a.d(t,"a",(function(){return j})),a.d(t,"l",(function(){return O})),a.d(t,"e",(function(){return S})),a.d(t,"c",(function(){return N})),a.d(t,"d",(function(){return x})),a.d(t,"m",(function(){return C})),a.d(t,"j",(function(){return I})),a.d(t,"k",(function(){return $}));var n,r,o,i,c,l,s,d,u,m,p,g,_,f,b=a(16),h=a(17),y=Object(h.a)(n||(n=Object(b.a)(["\n query GETADMINUSER($limit: Int,$page:Int) {\n    get_admin_users(limit:$limit,page:$page) {\n        pageInfo{\n            totalDocs\n            page\n        }\n        data{\n            _id\n            name\n            email\n            permissions\n            roles\n            admin_role_detail{\n                name\n                msg\n            }\n            individual_based_permissions_detail{\n                _id\n                name\n                key\n            }\n            role_based_permissions_detail {\n                _id\n                permission {\n                    _id\n                    name\n                    key\n                }\n            }\n        }\n    }\n}\n"]))),v=Object(h.a)(r||(r=Object(b.a)(["\n query FINDADMINUSER($_id: ID) {\n    get_admin_users(_id:$_id) {\n        data{\n            _id\n            name\n            email\n            password\n            permissions\n            roles_permissions\n            roles\n            admin_role_detail{\n                name\n                msg\n            }\n            get_admin_roles_all{\n                _id\n                name\n            }\n            non_role_permissions_detail{\n\t\t\t\t_id\n                name\n                key\n            }\n     \n            individual_based_permissions_detail{\n                _id\n                name\n                key\n            }\n            role_based_permissions_detail {\n                _id\n                permission {\n                    _id\n                    name\n                    key\n                }\n            }\n        }\n    }\n}\n"]))),E=Object(h.a)(o||(o=Object(b.a)(["\n query GETADMINROLES($limit: Int,$page:Int,$_id:ID) {\n    get_admin_roles(limit:$limit,page:$page,_id:$_id) {\n        pageInfo{\n            totalDocs\n            page\n        }\n        data{\n            _id\n        name\n        key\n        admin_type\n        permissions\n        role_based_permissions_detail {\n          _id\n          permission {\n            _id\n            name\n            key\n          }\n        }\n        }\n    }\n}\n"]))),k=Object(h.a)(i||(i=Object(b.a)(["\n query GETADMINPERMISSION($limit: Int,$page:Int) {\n    get_admin_permission(limit:$limit,page:$page) {\n        pageInfo{\n            totalDocs\n            page\n        }\n        data{\n            _id\n            count\n            permission {\n                _id\n                name\n                key\n                is_delete\n                type\n            }\n        }\n    }\n}\n"]))),w=(Object(h.a)(c||(c=Object(b.a)(["\n query GETFETCHADMINPERMISSION{\n    get_all_admin_permission {\n        _id\n        name\n        key\n        is_delete\n        type\n    }\n}\n"]))),Object(h.a)(l||(l=Object(b.a)(["\n    mutation ADDADMINROLE($name:String,$key:String,$admin_type:Int)  {\n        add_admin_roles(name:$name,key:$key,admin_type:$admin_type){\n            status\n            msg\n            name\n            key\n            _id\n    }\n}"])))),j=Object(h.a)(s||(s=Object(b.a)(["\n    mutation ADDADMINPERMISSION($_id: ID,$name:String,$key:String,$type:String)  {\n        add_admin_permission(_id:$_id,name:$name,key:$key,type:$type){\n            status\n            msg\n            name\n            key\n            _id\n    }\n}"]))),O=Object(h.a)(d||(d=Object(b.a)(["\n    mutation UPDATEADMINROLE($_id:ID,$fun_type:String,$permissions:[ID])  {\n        update_admin_roles(_id:$_id,fun_type:$fun_type,permissions:$permissions){\n            status\n            msg\n            name\n            key\n            _id\n    }\n}"]))),S=Object(h.a)(u||(u=Object(b.a)(["\n    mutation DELETEADMINUSER($_id: ID)  {\n        delete_admin_user(_id:$_id){\n            status\n            msg\n    }\n}"]))),N=Object(h.a)(m||(m=Object(b.a)(["\n    mutation DELETEADMINPERMISSION($_id: ID)  {\n        delete_admin_permission(_id:$_id){\n            status\n            msg\n    }\n}"]))),x=Object(h.a)(p||(p=Object(b.a)(["\n    mutation DELETEADMINROLES($_id: ID)  {\n        delete_admin_roles(_id:$_id){\n            status\n            msg\n    }\n}"]))),C=Object(h.a)(g||(g=Object(b.a)(["\n    mutation UPDATEADMINUSERPERMISSION($_id:ID,$name:String,$email:String,$password:String,$permissions:[ID],$roles:ID,$roles_permissions:[ID])  {\n        update_admin_user_permission(_id:$_id,name:$name,email:$email,password:$password,permissions:$permissions,roles:$roles,roles_permissions:$roles_permissions){\n            status\n            msg\n            _id\n    }\n}"]))),I=Object(h.a)(_||(_=Object(b.a)(["\nquery SEARCHADMIN($data:JSON) {\n    admin_search(data:$data) {\n        _id\n        email\n        name\n        roles\n        admin_role_detail{\n            name\n            msg\n        }\n    }\n}\n"]))),$=Object(h.a)(f||(f=Object(b.a)(["\nquery SEARCHROLE($data:JSON) {\n    roles_search(data:$data) {\n        _id\n        name\n        key\n    }\n}\n"])))},202:function(e,t,a){"use strict";a.r(t);var n=a(12),r=a(13),o=a(15),i=a(14),c=a(1),l=a.n(c),s=a(35),d=(a(46),a(93)),u=a(201),m=a(128),p=a(140),g=[{title:"COMPANY",data:[{title:"About",link:"/static_page/about_us"},{title:"Investor Relations",link:"/static_page/about_us"},{title:"Careers",link:"/static_page/about_us"},{title:"Advertise with Us",link:"/static_page/about_us"}]},{title:"CUSTOMERS",data:[{title:"How it works",link:"/howlearnmore"},{title:"Sign up as a customer",link:"/login"},{title:"iPhone app for customers",link:"https://apps.apple.com/us/app/gigzzy-user/id1574904567"},{title:"Android app for customers",link:"https://play.google.com/store/apps/details?id=com.gigzzy.pro"},{title:"SHAREBUTTON"}]},{title:"SERVICE PROVIDERS",data:[{title:"How it works",link:"/static_page/faq"},{title:"Sign up as a provider",link:"/provider_login"},{title:"iPhone app for provider",link:"https://apps.apple.com/us/app/gigzzy-pro/id1574905070"},{title:"Android app for provider",link:"https://play.google.com/store/apps/details?id=com.gigzzy.user"}]},{title:"RESOURCES",data:[{title:"FAQ & Help",link:"/static_page/faq"},{title:"COVID-19 Info",link:"/static_page/covid"},{title:" Terms of Use",link:"/static_page/terms"},{title:"Privacy Policy",link:"/static_page/policy"},{title:" CA Privacy Notice",link:"/static_page/ca_privacy"},{title:"Do Not Sell My Info",link:"/static_page/do_not_sell"}]}],_=l.a.lazy((function(){return a.e(49).then(a.bind(null,2117))})),f=d.a.Footer,b=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(f,{className:"bg-white pb-0 p-0 mt-5"},l.a.createElement(u.a,{className:"my-3"},g.map((function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.a,{className:"gutter-row justify-content-md-around d-flex",sm:24,md:6},l.a.createElement("div",{className:"p-4"},l.a.createElement("ul",null,l.a.createElement("div",{className:"h5 bold primary_color"},e.title),e.data.map((function(e){return"SHAREBUTTON"===e.title?l.a.createElement(l.a.Fragment,null,l.a.createElement(c.Suspense,{fallback:l.a.createElement(p.a,{active:!0})},l.a.createElement(_,null))):l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{className:"my-3"},l.a.createElement(s.b,{to:e.link,target:"_blank",className:"primary_blue_color normal_font_size mr-1"},e.title)))}))))))}))),l.a.createElement(u.a,{className:"border-top"},l.a.createElement(m.a,null,l.a.createElement("div",{className:"d-flex justify-content-center my-2"},"Copyright c 2021 Gigzzy. All Rights Reserved")))))}}]),a}(l.a.Component);t.default=b},223:function(e,t,a){e.exports=a.p+"static/media/main.c57228a8.png"},237:function(e,t,a){},24:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(42),r=a(1),o=a.n(r),i=(a(124),a(437)),c=a.n(i),l=a(95),s=a.n(l);t.b=function(e){var t=localStorage.getItem("hokjighsasd"),a=JSON.parse(window.atob(t)),i=Object(r.useState)(!1),c=Object(n.a)(i,2),l=c[0],s=c[1],d=Object(r.useState)(!1),u=Object(n.a)(d,2),m=(u[0],u[1]);return Object(r.useEffect)((function(){m(a.GizzyDeveloper||!1),s(!0)}),[e.permission]),l?o.a.createElement("div",null,e.children):o.a.createElement("div",null)};var d=function(e){try{var t=localStorage.getItem("hokjighsasd"),a=JSON.parse(window.atob(t)),n=a.GizzyDeveloper||!1;if(a&&a.full_permission_list&&e){var r=c()(a.full_permission_list,{key:e});(s()(r)||n)&&!0}else!0;return!0}catch(o){return!0}}},259:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"d",(function(){return d})),a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return m}));var n,r,o,i,c=a(16),l=a(17),s=Object(l.a)(n||(n=Object(c.a)(["\n    mutation DELETECURRENCY($_id:ID) {\n        delete_currency(_id:$_id){\n            msg\n            status\n        }\n    }\n"]))),d=Object(l.a)(r||(r=Object(c.a)(["\n    mutation UPDATECURRENCY($_id:ID,$currency_data:JSON){\n        update_currency(_id:$_id,currency_data:$currency_data){\n            status\n            msg\n        }\n    }\n"]))),u=Object(l.a)(o||(o=Object(c.a)(["\n query GETCURRENCYPAGINATION($limit: Int,$page:Int,$data:JSON,$pagination:Boolean,$search:JSON) {\n    get_currencys(limit:$limit,page:$page,data:$data,pagination:$pagination,search:$search) {\n        pageInfo{\n            totalDocs\n            page\n        }\n        data{\n            code\n            symbol\n            country_code\n            location\n            rate\n            name\n            _id\n        }\n    }\n}\n"]))),m=Object(l.a)(i||(i=Object(c.a)(["\nquery GETCURRENCY($_id:ID) {\n    get_currency(_id:$_id) {\n        code\n            symbol\n            country_code\n            location\n            rate\n            name\n            _id\n    }\n}\n"])))},282:function(e,t,a){"use strict";a.r(t);var n,r,o=a(3),i=a.n(o),c=a(5),l=a(42),s=a(16),d=a(1),u=a.n(d),m=a(48),p=a(294),g=a(68),_=a(484),f=a(22),b=a(254),h=a.n(b),y=a(115),v=a.n(y),E=a(101),k=a.n(E),w=a(107),j=a(17),O=a(444),S=a(261),N=a(20),x=(a(173),a(95)),C=a.n(x),I=a(124),$=Object(j.a)(n||(n=Object(s.a)(["\n  mutation add_address($company_id:ID,$location_code:String,$option: Int,$_id:ID,$user_id: String,$title: String,$flat_no: String ,$landmark: String,$address: String,$lat: String,$lng: String ) {\n     modified_address(company_id:$company_id,location_code:$location_code,option: $option,_id:$_id,user_id: $user_id,title: $title,flat_no: $flat_no, landmark: $landmark,address: $address,lat: $lat,lng: $lng ) {\n        msg\n        status\n    }\n  }\n"]))),D=Object(j.a)(r||(r=Object(s.a)(["\nquery ADDRESS($user_id: ID) {\n  user_address(user_id: $user_id) {\n      _id\n    title\n    flat_no\n    landmark\n    address\n    lat\n    lng\n    location_code\n  }\n}\n"])));t.default=function(e){Object(m.useLocation)();var t=Object(d.useState)(""),n=Object(l.a)(t,2),r=n[0],o=n[1],s=Object(d.useState)(""),b=Object(l.a)(s,2),E=b[0],j=b[1],x=Object(d.useState)(!1),P=Object(l.a)(x,2),T=P[0],A=P[1],F=Object(d.useState)(!0),z=Object(l.a)(F,2),R=z[0],q=z[1],U=Object(d.useState)(15),L=Object(l.a)(U,2),M=L[0],B=L[1],V=Object(d.useState)(""),G=Object(l.a)(V,2),J=G[0],Y=G[1],H=Object(d.useState)(""),K=Object(l.a)(H,2),W=K[0],Q=K[1],Z=Object(d.useState)(9.9619289),X=Object(l.a)(Z,2),ee=X[0],te=X[1],ae=Object(d.useState)(78.1288218),ne=Object(l.a)(ae,2),re=ne[0],oe=ne[1],ie=Object(d.useState)(""),ce=Object(l.a)(ie,2),le=ce[0],se=ce[1],de=Object(d.useState)(""),ue=Object(l.a)(de,2),me=ue[0],pe=ue[1],ge=Object(d.useState)("Others"),_e=Object(l.a)(ge,2),fe=_e[0],be=_e[1],he=Object(d.useState)(""),ye=Object(l.a)(he,2),ve=ye[0],Ee=ye[1],ke=Object(d.useState)([9.9619289,78.1288218]),we=Object(l.a)(ke,2),je=we[0],Oe=we[1],Se=Object(d.useState)(!1),Ne=Object(l.a)(Se,2),xe=Ne[0],Ce=Ne[1],Ie=Object(d.useState)(!1),$e=Object(l.a)(Ie,2),De=$e[0],Pe=$e[1];Object(d.useEffect)((function(){var t="";JSON.parse(localStorage.getItem("user"))&&(t=JSON.parse(localStorage.getItem("user"))._id),A(e.visible),Ce(!1),e.user_id?o(e.user_id):t&&o(t),C()(e.address_from)&&Ve(e.address_from),e.address_id&&j(e.address_id)}),[e]);var Te=Object(w.a)($,{refetchQueries:[{query:D,variables:{user_id:r}}],awaitRefetchQueries:!0}),Ae=Object(l.a)(Te,1)[0],Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.length||(Ce(!0),Pe(!1),se(""),be("Others"),pe(""),Y(""))},ze=function(){Ce(!1)},Re=function(e){Y(e)},qe=function(e){Y(e),Object(y.geocodeByAddress)(e).then(function(){var e=Object(c.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t[0]){e.next=8;break}return t[0].address_components.map((function(e){e.types.includes("country")&&Q(e.short_name)})),e.next=4,Object(y.getLatLng)(t[0]);case 4:a=e.sent,te(a.lat),oe(a.lng),Oe([a.lat,a.lng]);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.error("Error",e)}))},Ue=function(e){var t=e.center,a=e.zoom;Oe(t),B(a)},Le=function(){var e=Object(c.a)(i.a.mark((function e(t,a,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!1),te(n.lat),oe(n.lng),k.a.setApiKey("AIzaSyDYRYnxipjEBUNazDUwUa_8BDvm8ON7TIk"),e.next=6,k.a.fromLatLng(n.lat,n.lng).then((function(e){e.results[0].address_components&&e.results[0].address_components.map((function(e){e.types.includes("country")&&Q(e.short_name)}));var t=e.results[0].formatted_address;Y(t)}),(function(e){console.error(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Me=function(e,t,a){q(!0)},Be=function(e){A(!1),e.popup_closed_option&&e.popup_closed()},Ve=function(e){Ee(e._id),Ce(!0),Pe(!0),Y(e.address),te(e.lat),oe(e.lng),be(e.title),pe(e.landmark),se(e.flat_no),te(Number(e.lat)),oe(Number(e.lng)),Oe([Number(e.lat),Number(e.lng)])};return u.a.createElement(I.c.Consumer,null,(function(t){return u.a.createElement(I.a.Provider,{value:{location_edit:Ve,no_data:Fe}},u.a.createElement("div",null,u.a.createElement(p.a,{title:"Set Location",className:"new_modal maping",centered:!0,visible:T,onOk:function(){Be(t)},onCancel:function(){Be(t)},footer:!1===xe?u.a.createElement(g.a,{value:"large",type:"dashed",onClick:Fe,className:"w-100",style:{borderRadius:"17px"}},"Add New Address"):u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"my-2 no_color d-flex justify-content-between"},u.a.createElement("div",null,"Set location"),u.a.createElement("div",{className:"primary_color"},u.a.createElement(g.a,{className:"primary_color",type:"link",onClick:ze},u.a.createElement(S.a,null),"  skip"))),u.a.createElement("div",{className:"my-2"},u.a.createElement("div",{className:"d-flex"},u.a.createElement(v.a,{value:J,onChange:Re,onSelect:qe},(function(e){var t=e.getInputProps,a=e.suggestions,n=e.getSuggestionItemProps,r=e.loading;return u.a.createElement("div",{className:"position-relative w-100"},u.a.createElement("input",t({placeholder:"Location",icon:"eye",className:"location-search-input jiffy_input place_input loc_img"})),u.a.createElement("div",{className:"autocomplete-dropdown-container"},r&&u.a.createElement("div",{className:"suggest_load"},"Loading..."),a.map((function(e){var t=e.active?"suggestion-item--active":"suggestion-item",a=e.active?{backgroundColor:"#fafafa",cursor:"pointer",display:"flex"}:{backgroundColor:"#ffffff",cursor:"pointer",display:"flex"};return u.a.createElement("div",n(e,{className:t,style:a}),u.a.createElement("span",null,e.description))}))))}))),u.a.createElement("div",{className:"my-2"},u.a.createElement(_.a,{size:"large",value:le,placeholder:"Enter Flat No",onChange:function(e){se(e.target.value)}})),u.a.createElement("div",{className:"my-2"},u.a.createElement(_.a,{size:"large",value:me,placeholder:"Enter LandMark",onChange:function(e){pe(e.target.value)}})),u.a.createElement("div",{className:"Home"!==fe&&"Work"!==fe?"my-2 d-flex":"d-none"},u.a.createElement(_.a,{size:"large",value:fe,placeholder:"Enter title",onChange:function(e){be(e.target.value)}})),u.a.createElement("div",{className:"my-2 d-flex justify-content-around"},u.a.createElement(g.a,{className:"Home"===fe?"d-flex primary_color":"d-flex no_color",type:"link",onClick:function(){be("Home")}},u.a.createElement(f.a,{type:"home"})," Home"),u.a.createElement(g.a,{className:"Work"===fe?"d-flex primary_color":"d-flex no_color",type:"link",onClick:function(){be("Work")}},u.a.createElement(f.a,{type:"shop"}),"Work"),u.a.createElement(g.a,{className:"Home"!==fe&&"Work"!==fe?"d-flex primary_color":"d-flex no_color",type:"link",onClick:function(){be("Others")}},u.a.createElement(f.a,{type:"security-scan"}),"Others")),u.a.createElement("div",{className:"my-2"},!0===De?u.a.createElement(g.a,{type:"primary",block:!0,onClick:function(){!function(t){var a={option:2,_id:ve,title:fe,flat_no:le,landmark:me,address:J,lat:String(ee),lng:String(re),location_code:W};e.company&&(a.company_id=localStorage.getItem("user_company_id")),null!==a.lat&&""!==a.lat&&""!==a.lng&&null!==a.lng&&""!==a.address&&null!==a.address&&""!==a._id&&null!==a._id&&""!==a.title&&null!==a.title?Ae({variables:a}).then((function(e){"success"===e.data.modified_address.status?(t.location_change&&"function"===typeof t.location_change&&t.location_change(a),Object(N.a)({msg:"Address update saved",status:"success"})):Object(N.a)({msg:"Address update failed",status:"failed"}),t.popup_closed()})):Object(N.a)({msg:"Please add mandatory field",status:"failed"})}(t)}},"Update & Proceed"):u.a.createElement(g.a,{type:"primary",block:!0,onClick:function(){!function(t){var a={option:1,user_id:JSON.parse(localStorage.getItem("user"))._id,title:fe,flat_no:le,landmark:me,address:J,lat:String(ee),lng:String(re),location_code:W};e.company&&(a.company_id=localStorage.getItem("user_company_id")),null===a.lat||""===a.lat||""===a.lng||null===a.lng||""===a.address||null===a.address||""===a.user_id||null===a.user_id||""===a.title||null===a.title?Object(N.a)({msg:"Please add mandatory field",status:"failed"}):Ae({variables:a}).then((function(e){"success"===e.data.modified_address.status?(t.location_change&&"function"===typeof t.location_change&&t.location_change(a),Object(N.a)({msg:"Address saved",status:"success"})):Object(N.a)({msg:"Address not saved",status:"failed"})}))}(t)}},"Save & Proceed"))))},!1===xe?u.a.createElement("div",{className:"d-block map_modal"},u.a.createElement(O.a,{user_id:r,address_id:E})):u.a.createElement("div",{className:"d-block maps_modal"},u.a.createElement("div",{style:{height:"30vh",width:"100%"}},u.a.createElement(h.a,{draggable:R,onChange:Ue,center:je,zoom:M,onChildMouseDown:Le,onChildMouseUp:Me,onChildMouseMove:Le},u.a.createElement("div",{className:"place",lat:ee,lng:re},u.a.createElement("img",{src:a(485),alt:"your Place"}))))))))}))}},363:function(e,t,a){"use strict";a.r(t);var n=a(42),r=a(1),o=a.n(r),i=a(22),c=a(294),l=a(1003),s=a.n(l),d=a(20);t.default=function(e){console.log(e);var t=o.a.useState(!1),a=Object(n.a)(t,2),r=a[0],l=a[1],u=e.data.split("#"),m=[];if(console.log(e),e.img)for(var p=0;p<e.img.length;p++)m.push({original:e.img[p],thumbnail:e.img[p]});var g=function(){m.length>0?l(!0):Object(d.a)({msg:"User not upload any one file",status:"failed"})};return o.a.createElement("div",null,u.length>0?u.map((function(e){return"@image@"===e?o.a.createElement(i.a,{type:"camera",onClick:g}):e})):o.a.createElement(o.a.Fragment,null),o.a.createElement(c.a,{title:"Upload Your Image",footer:o.a.createElement(o.a.Fragment,null),className:"new_modal upload_img",centered:!0,visible:r,onCancel:function(){l(!1)}},o.a.createElement("div",null,o.a.createElement(s.a,{items:m,lazyLoad:!0,showPlayButton:!1}))))}},43:function(e,t,a){"use strict";a.r(t);var n=a(12),r=a(13),o=a(15),i=a(14),c=a(1),l=a.n(c),s=a(93),d=a(99),u=a(22),m=a(35),p=a(48),g=a(90),_=a.n(g),f=(a(50),a(24)),b=a(366),h=a.n(b),y=s.a.Sider,v=d.a.SubMenu,E=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).onSelect=function(e){r.setState({openKeys:e})},r.state={collapsed:!0,change:1,openKeys:[],mainKey:[]},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.location.pathname),console.log("AdminSider -> componentDidMount -> _.split(this.props.location.pathname, '/')",h.a.split(this.props.location.pathname,"/")),this.setState({mainKey:["/".concat(h.a.split(this.props.location.pathname,"/")[1])]});var t=["jobs","contract","booking","request"].some((function(t){return e.props.location.pathname.includes(t)})),a=["category","subcategory"].some((function(t){return e.props.location.pathname.includes(t)}));t?this.setState({openKeys:["jobs"]}):a&&this.setState({openKeys:["category"]})}},{key:"render",value:function(){var e=this;return console.log("AdminSider -> openKeys",this.state.openKeys),l.a.createElement("div",null,l.a.createElement(y,{style:{overflow:"auto",height:"100vh",left:0},className:"admin_side_bar_scroll d-none d-sm-none d-lg-block d-xl-block d-xxl-block template_sider bg-gradient-primary",trigger:null,collapsible:!0,collapsed:this.props.update_collapsed},l.a.createElement("div",{className:"logo d-flex justify-content-around"},l.a.createElement("img",{src:_.a,alt:"gigzzy",onClick:function(){e.props.history.push("/admin-dashboard")},className:"w-75 object_fit cursor_point"})),l.a.createElement(d.a,{theme:"dark",selectedKeys:this.state.mainKey,mode:"inline",openKeys:this.state.openKeys,onOpenChange:this.onSelect},l.a.createElement(d.a.Item,{key:"/admin-dashboard"},l.a.createElement(u.a,{type:"dashboard"}),l.a.createElement("span",null,"Dashboard"),l.a.createElement(m.b,{to:"/admin-dashboard"})),l.a.createElement(d.a.Item,{key:"/admin-user",className:Object(f.a)("view_user")?"":"d_none"},l.a.createElement(u.a,{type:"user"}),l.a.createElement("span",null,"Users"),l.a.createElement(m.b,{to:"/admin-user"})),l.a.createElement(d.a.Item,{key:"/admin-provider",className:Object(f.a)("view_provider")?"":"d_none"},l.a.createElement(u.a,{type:"shop"}),l.a.createElement("span",null,"Providers"),l.a.createElement(m.b,{to:"/admin-provider"})),l.a.createElement(d.a.Item,{key:"/admin-company",className:(Object(f.a)("view_company"),"")},l.a.createElement(u.a,{type:"bank"}),l.a.createElement("span",null,"Companys"),l.a.createElement(m.b,{to:"/admin-company"})),l.a.createElement(v,{key:"category",title:l.a.createElement("div",{className:"d-flex align-items-center"}," ",l.a.createElement(u.a,{type:"deployment-unit"}),l.a.createElement("div",null,"Categorys "))},l.a.createElement(d.a.Item,{key:"/admin-category",className:Object(f.a)("view_category")?"":"d_none"},l.a.createElement(u.a,{type:"deployment-unit"}),l.a.createElement("span",null,"Categories"),l.a.createElement(m.b,{to:"/admin-category"})),l.a.createElement(d.a.Item,{key:"/admin-subcategory",className:Object(f.a)("view_subcategory")?"":"d_none"},l.a.createElement(u.a,{type:"cluster"}),l.a.createElement("span",null,"Sub Categories"),l.a.createElement(m.b,{to:"/admin-subcategory"}))),l.a.createElement(v,{key:"jobs",title:l.a.createElement("div",{className:"d-flex align-items-center"}," ",l.a.createElement(u.a,{type:"appstore"}),l.a.createElement("div",null,"Jobs "))},l.a.createElement(d.a.Item,{key:"/admin-request",className:Object(f.a)("view_booking_request")?"":"d_none"},l.a.createElement(u.a,{type:"appstore"}),l.a.createElement("span",null,"Job Request"),l.a.createElement(m.b,{to:"/admin-request"})),l.a.createElement(d.a.Item,{key:"/admin-booking",className:Object(f.a)("view_booking")?"":"d_none"},l.a.createElement(u.a,{type:"appstore"}),l.a.createElement("span",null,"Bookings"),l.a.createElement(m.b,{to:"/admin-booking"})),l.a.createElement(d.a.Item,{key:"/admin-contract",className:Object(f.a)("")?"":"d_none"},l.a.createElement(u.a,{type:"hourglass"}),l.a.createElement("span",null,"Contract"),l.a.createElement(m.b,{to:"/admin-contract"}))),l.a.createElement(d.a.Item,{key:"/admin-review",className:Object(f.a)("view_review")?"":"d_none"},l.a.createElement(u.a,{type:"star"}),l.a.createElement("span",null,"Reviews"),l.a.createElement(m.b,{to:"/admin-review"})),l.a.createElement(d.a.Item,{key:"/admin-payouts",className:Object(f.a)("view_payout")?"":"d_none"},l.a.createElement(u.a,{type:"transaction"}),l.a.createElement("span",null,"Payouts"),l.a.createElement(m.b,{to:"/admin-payouts"})),l.a.createElement(d.a.Item,{key:"/admin-certificate",className:Object(f.a)("view_certificate")?"":"d_none"},l.a.createElement(u.a,{type:"file-unknown"}),l.a.createElement("span",null,"Certificates"),l.a.createElement(m.b,{to:"/admin-certificate"})),l.a.createElement(d.a.Item,{key:"/admin-static",className:Object(f.a)("view_staticContent")?"":"d_none"},l.a.createElement(u.a,{type:"book"}),l.a.createElement("span",null,"Static Pages"),l.a.createElement(m.b,{to:"/admin-static"})),l.a.createElement(d.a.Item,{key:"/admin-currency"},l.a.createElement(u.a,{type:"dollar"}),l.a.createElement("span",null,"Currency"),l.a.createElement(m.b,{to:"/admin-currency"})),l.a.createElement(d.a.Item,{key:"/admin-roles",className:Object(f.a)("view_admin")?"":"d_none"},l.a.createElement(u.a,{type:"usergroup-add"}),l.a.createElement("span",null,"Manage Admin"),l.a.createElement(m.b,{to:"/admin-roles"})))))}}]),a}(l.a.Component);t.default=Object(p.withRouter)(E)},44:function(e,t,a){"use strict";a.r(t);var n=a(12),r=a(13),o=a(15),i=a(14),c=a(1),l=a.n(c),s=a(48),d=a(93),u=a(481),m=a(99),p=a(22),g=a(201),_=a(128),f=a(474),b=a(1983),h=a(35),y=a(1981),v=a(90),E=a.n(v),k=(a(50),a(24)),w=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={visible:!1},e.showDrawer=function(){e.setState({visible:!0})},e.onClose=function(){e.setState({visible:!1})},e}return Object(r.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(p.a,{type:"menu-unfold",className:"d-inline d-md-none",style:{fontSize:"2.5em",color:"white"},onClick:this.showDrawer}),l.a.createElement(y.a,{width:200,onClose:this.onClose,visible:this.state.visible,closable:!1,placement:"left"},l.a.createElement("div",{className:"logo"},l.a.createElement("img",{src:E.a,alt:"gigzzy",className:"w-50 object_fit"})),l.a.createElement(m.a,{theme:"dark",selectedKeys:[this.props.location.pathname],mode:"inline"},l.a.createElement(m.a.Item,{key:"/admin-dashboard"},l.a.createElement(p.a,{type:"dashboard"}),l.a.createElement("span",null,"Dashboard"),l.a.createElement(h.a,{to:"/admin-dashboard"})),l.a.createElement(m.a.Item,{key:"/admin-user",className:Object(k.a)("view_user")?"":"d_none"},l.a.createElement(p.a,{type:"user"}),l.a.createElement("span",null,"Users"),l.a.createElement(h.a,{to:"/admin-user"})),l.a.createElement(m.a.Item,{key:"/admin-provider",className:Object(k.a)("view_provider")?"":"d_none"},l.a.createElement(p.a,{type:"shop"}),l.a.createElement("span",null,"Providers"),l.a.createElement(h.a,{to:"/admin-provider"})),l.a.createElement(m.a.Item,{key:"/admin-company",className:(Object(k.a)("view_company"),"")},l.a.createElement(p.a,{type:"bank"}),l.a.createElement("span",null,"Companys"),l.a.createElement(h.a,{to:"/admin-company"})),l.a.createElement(m.a.Item,{key:"/admin-category",className:Object(k.a)("view_category")?"":"d_none"},l.a.createElement(p.a,{type:"deployment-unit"}),l.a.createElement("span",null,"Categories"),l.a.createElement(h.a,{to:"/admin-category"})),l.a.createElement(m.a.Item,{key:"/admin-subcategory",className:Object(k.a)("view_subcategory")?"":"d_none"},l.a.createElement(p.a,{type:"cluster"}),l.a.createElement("span",null,"Sub Categories"),l.a.createElement(h.a,{to:"/admin-subcategory"})),l.a.createElement(m.a.Item,{key:"/admin-request",className:Object(k.a)("view_booking_request")?"":"d_none"},l.a.createElement(p.a,{type:"appstore"}),l.a.createElement("span",null,"Job Request"),l.a.createElement(h.a,{to:"/admin-request"})),l.a.createElement(m.a.Item,{key:"/admin-booking",className:Object(k.a)("view_booking")?"":"d_none"},l.a.createElement(p.a,{type:"appstore"}),l.a.createElement("span",null,"Bookings"),l.a.createElement(h.a,{to:"/admin-booking"})),l.a.createElement(m.a.Item,{key:"/admin-contract",className:Object(k.a)("")?"":"d_none"},l.a.createElement(p.a,{type:"hourglass"}),l.a.createElement("span",null,"Contract"),l.a.createElement(h.a,{to:"/admin-contract"})),l.a.createElement(m.a.Item,{key:"/admin-review",className:Object(k.a)("view_review")?"":"d_none"},l.a.createElement(p.a,{type:"star"}),l.a.createElement("span",null,"Reviews"),l.a.createElement(h.a,{to:"/admin-review"})),l.a.createElement(m.a.Item,{key:"/admin-payouts",className:Object(k.a)("view_payout")?"":"d_none"},l.a.createElement(p.a,{type:"transaction"}),l.a.createElement("span",null,"Payouts"),l.a.createElement(h.a,{to:"/admin-payouts"})),l.a.createElement(m.a.Item,{key:"/admin-certificate",className:Object(k.a)("view_certificate")?"":"d_none"},l.a.createElement(p.a,{type:"file-unknown"}),l.a.createElement("span",null,"Certificates"),l.a.createElement(h.a,{to:"/admin-certificate"})),l.a.createElement(m.a.Item,{key:"/admin-static",className:Object(k.a)("view_staticContent")?"":"d_none"},l.a.createElement(p.a,{type:"book"}),l.a.createElement("span",null,"Static Pages"),l.a.createElement(h.a,{to:"/admin-static"})),l.a.createElement(m.a.Item,{key:"/admin-currency",className:Object(k.a)("view_currency")?"":"d_none"},l.a.createElement(p.a,{type:"dollar"}),l.a.createElement("span",null,"Currency"),l.a.createElement(h.a,{to:"/admin-currency"})),l.a.createElement(m.a.Item,{key:"/admin-roles",className:Object(k.a)("view_admin")?"":"d_none"},l.a.createElement(p.a,{type:"usergroup-add"}),l.a.createElement("span",null,"Manage Admin"),l.a.createElement(h.a,{to:"/admin-roles"})))))}}]),a}(l.a.Component),j=Object(s.withRouter)(w),O=d.a.Header,S=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={collapsed:!0,change:1},r}return Object(r.a)(a,[{key:"handleButtonClick",value:function(e){u.a.info("Click on left button."),console.log("click left button",e)}},{key:"handleMenuClick",value:function(e){console.log(e),"/admin"===e.key&&(u.a.info("Logout Success"),localStorage.removeItem("adminLogin")),this.props.history.push({pathname:e.key})}},{key:"render",value:function(){var e=this,t=l.a.createElement(m.a,{onClick:function(t){e.handleMenuClick(t)}},l.a.createElement(m.a.Item,{key:"/admin",className:"d-flex align-items-center px-3"},l.a.createElement(p.a,{type:"logout"}),"Logout"));return l.a.createElement("div",null,l.a.createElement(O,{className:"bg-gradient header_layout"},l.a.createElement(g.a,null,l.a.createElement(_.a,{span:12},l.a.createElement(j,null)),l.a.createElement(_.a,{span:11},l.a.createElement("div",{className:"float-right"},l.a.createElement(f.a,{className:"cursor_point",overlay:t,placement:"bottomCenter"},l.a.createElement(b.a,{style:{backgroundColor:"Green",verticalAlign:"middle"},size:"large"},"Admin")))))))}}]),a}(l.a.Component);t.default=Object(s.withRouter)(S)},444:function(e,t,a){"use strict";var n,r,o=a(42),i=a(16),c=a(1),l=a.n(c),s=a(48),d=a(107),u=a(140),m=a(263),p=a(654),g=a(68),_=a(22),f=a(17),b=a(124),h=a(20),y=a(95),v=a.n(y),E=a(173),k=a.n(E),w=Object(f.a)(n||(n=Object(i.a)(["\nquery ADDRESS($user_id: ID) {\n  user_address(user_id: $user_id) {\n      _id\n    title\n    flat_no\n    landmark\n    address\n    lat\n    lng\n    location_code\n  }\n}\n"]))),j=Object(f.a)(r||(r=Object(i.a)(["\n  mutation delete_address($option: Int,$_id: ID) {\n     modified_address(option:$option,_id:$_id ) {\n        msg\n        status\n    }\n  }\n"])));t.a=function(e){var t=Object(s.useLocation)(),a=Object(c.useState)(""),n=Object(o.a)(a,2),r=n[0],i=n[1];Object(c.useEffect)((function(){e.user_id?i(e.user_id):JSON.parse(localStorage.getItem("user"))&&i(JSON.parse(localStorage.getItem("user"))._id)}),[e]);var f=Object(d.b)(w,{variables:{user_id:r}}),y=f.loading,E=f.error,O=f.data,S=Object(d.a)(j,{refetchQueries:[{query:w,variables:{user_id:r}}],awaitRefetchQueries:!0}),N=Object(o.a)(S,2),x=N[0],C=N[1].loading;if(y)return l.a.createElement(u.a,null);if(C)return l.a.createElement(u.a,null);if(E)return"Error! ".concat(E.message);return l.a.createElement(b.c.Consumer,null,(function(a){return l.a.createElement(b.a.Consumer,null,(function(n){return n.no_data(O.user_address),l.a.createElement(l.a.Fragment,null,0===O.user_address.length?l.a.createElement(l.a.Fragment,null,function(e){e&&v()(e)&&e.no_data()}(n),l.a.createElement(m.a,{className:"m-5",description:!1})):l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,{className:k()(["contract_booking"],t.pathname.split("/")[1])?"contract_saved_address_list":"",itemLayout:"horizontal",dataSource:O.user_address,renderItem:function(t){return l.a.createElement(p.a.Item,{className:e&&e.address_id&&e.address_id===t._id?"cursor_point table-active":"cursor_point",actions:[l.a.createElement(g.a,{type:"link primary_color d-flex",size:"small",onClick:function(){n.location_edit(t)}},l.a.createElement(_.a,{type:"edit"})," Edit"),l.a.createElement(g.a,{type:"link primary_color d-flex",size:"small",onClick:function(){!function(e){var t={option:3,_id:e._id};x({variables:t}).then((function(e){"success"===e.data.modified_address.status?Object(h.a)({msg:"Delete success",status:"success"}):Object(h.a)({msg:"Delete failed",status:"failed"})}))}(t)}},l.a.createElement(_.a,{type:"delete"})," Delete")]},l.a.createElement(u.a,{avatar:!0,title:!0,loading:t.loading,active:!0},l.a.createElement(p.a.Item.Meta,{onClick:function(){a.location_change&&"function"===typeof a.location_change&&a.location_change(t)},avatar:"Work"===t.title?l.a.createElement(_.a,{className:"f_25 ml-3 mt-1",type:"shop"}):"Home"===t.title?l.a.createElement(_.a,{className:"f_25 ml-3 mt-1",type:"home"}):l.a.createElement(_.a,{className:"f_25 ml-3 mt-1",type:"security-scan"}),title:t.title,description:t.address})))}})))}))}))}},470:function(e,t,a){e.exports=a.p+"static/media/mpesa_logo.18a5790c.png"},483:function(e,t,a){"use strict";a.d(t,"d",(function(){return g})),a.d(t,"e",(function(){return _})),a.d(t,"f",(function(){return f})),a.d(t,"a",(function(){return b})),a.d(t,"b",(function(){return h})),a.d(t,"c",(function(){return y}));var n,r,o,i,c,l,s,d,u,m=a(16),p=a(17),g=(Object(p.a)(n||(n=Object(m.a)(["\n query GETCATEGORYPAGINATION($limit: Int,$page:Int,$data:JSON){\n    get_category(limit:$limit,page:$page,data:$data) {\n        pageInfo{\n            totalDocs\n            page\n        }\n        data{\n            _id\n            category_type\n            category_name\n            is_parent\n            small_img_url\n            base_price\n            child_category{\n                _id\n                subCategory_name\n            }\t\n        }\n    }\n}\n"]))),Object(p.a)(r||(r=Object(m.a)(["\n query GETCATEGORY{\n    category{\n        _id\n        category_type\n        category_name\n        is_parent\n        small_img_url\n        base_price\n        child_category{\n            _id\n            subCategory_name\n        }\t\n    }\n}\n"]))),Object(p.a)(o||(o=Object(m.a)(["\nquery SEARCH_CATEGORY($_id:ID,$data:JSON) {\n    search_category(_id:$_id,data:$data) {\n        _id\n        category_name\n        description\n        small_img_url\n        certificates\n        is_parent\n        base_price\n        hour_price\n        hour_limit\n        service_fee\n        img_url\n        category_type\n        subCategory_name\n        Certificate{\n            certificate_name\n            _id\n        }\n    }\n}\n"])))),_=Object(p.a)(i||(i=Object(m.a)(["\nquery SEARCHCATEGORYONLY($data:JSON) {\n    search_category_only(data:$data) {\n        _id\n        category_name\n    }\n}\n"]))),f=Object(p.a)(c||(c=Object(m.a)(["\nquery SEARCHSUBCATEGORYONLY($data:JSON) {\n    search_sub_category_only(data:$data) {\n        _id\n        subCategory_name\n    }\n}\n"]))),b=Object(p.a)(l||(l=Object(m.a)(["\nquery FINDCATEGORY($_id:ID,$category_type:Int) {\n    category(_id:$_id,category_type:$category_type) {\n        _id\n        category_name\n        small_img_url\n        is_parent\n        description\n        child_category{\n            _id\n            subCategory_name\n            description\n            img_url\n        }\n    }\n}\n"]))),h=Object(p.a)(s||(s=Object(m.a)(["\nquery FINDSUBCATEGORY($_id:ID) {\n    sub_category(_id:$_id) {\n        _id\n        subCategory_name\n        img_url\n        small_img_url\n        description\n    }\n}\n"]))),y=(Object(p.a)(d||(d=Object(m.a)(["\nquery GETTRENDING{\n    get_trending {\n      _id\n      category_name\n      category_type\n      subCategory_name\n      small_img_url\n      is_parent\n    }\n}"]))),Object(p.a)(u||(u=Object(m.a)(["\nquery GETFUTURE($limit:Int){\n    get_is_future (limit:$limit){\n      _id\n      category_name\n      category_type\n      subCategory_name\n      small_img_url\n      is_parent\n    }\n}"]))))},485:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAA/CAYAAACSLYpOAAAABHNCSVQICAgIfAhkiAAACHpJREFUaEPNWm2MXFUZfu587bZlt9uh7QLd7G7BYozisolpo5VqjdLyUUv5AUaz0UYFNTRC4Ic/MNBGg4krtX8g0qCSYDCACEpiWyxY/FEwbWybAE6CobS17XZ3p7szc2fmfpvnzD13znzPnRkNbzLJzL3nfc9z3+/z3tHQOd0IYDuAL/oixgHwQzoBYMH//jKAI/610LtpITkI4BEflATTrojTAAh2twK+JW+7AId8YPdLiWOxpdh2xQg2LVmFoUgCY/Fl4kM6lk9jzjQxZxo4YJzHIeMCMp4lWanZXwLY1w7QdgB+C8BeAASJqYFx3Lfiekz0rWj59K7rQTddFEwX71gL2Ku/J8D6RKA7APytmaBWAAlMaI2a2j+8oaSl5CCQiAMX51uC5ALDcpEpOPAAHDVnsTf3Ht6y5iTvTgC/bSSoEUBq6zcA7iDj/uH1mBpcCyzpQ+yx7yF662eFPHNyJzy90BZIx/WwmHdgu4QJAZIa9YkACbSGGgH8I8Etj8RxaGSzMKf2iTHEX3oMWjQSCDFvfgDe6cBkLYG6nocFgnRKIF8ofIhHsyeR9Wz+rAuyHkA68A8rwI1dhcRrvKzQf2ZhbN7VElT1As8DFvM2TB8kffOuy29KkDXmrgbIgKBp8fbozUEgxJ94CJEvfybYy/M8WDf9AN6ly6EBkoHmTuds4ZNSkw9mjktZm9XAUQHS7z5gtAY+57MkUs9B00pLvdMXYe74EaAXOwInmRg4iwUnkKH4JPPlWnlDBShMy2g9NPKlis0jN00gdu922M/8Be5fjwG0Uw8ok7dRtMuyts4fxrv2IiUzmT/KLxIgqwK1h9T47UHC7QGGpiIYLGldBIggpqC7L/+dX5kjqcUFCZAR9E0m4f1Xbfhf46qQz4AxFC3elX5T5sgHWHEkQGpvXA2MMCi1Pd+G9/FRWAtZwaZdmIN2LIXoq0dbijFtV6QeSQeL5/Hdxbf4kw3HJAGyK/kna2tq7baWAisWbN2AxC92QYvHxGVGdz6fh+u6JaCpM4g/9CRwPqgaNfLJM5ctRzQXjM68JNetIEA64yP3DV2P6VWT7QPcugF9++4H/OhWGXVdD0AioyPxjZ80BVkdLN9ZOCpr9k4CZLH+wvNXb8RXrxhpG2Di3WehxUqaqyZqJZfLBZdp7vi90w1lF00HmWJJ6yQl5ewOAB5asxmblq5uCyB9LvG1rzRdWywWYVlBi4X4PdPQjqfq8piWiwUlJyrRfIQARYCESS/RA48jdu01TQESHEFKij53GNHp39flYWWZz9VNNwKgyJTFdXe3pT0uiv9jPyJDA03XO44jAkZS5HgKsXvqm5kuMZstA2R9viX9OllPfNQBniRA1r6xUCb+w08Ru+G6pho0TROGYZRN/Ks/IfrUn+vysPOea2JiEcWhgmRqCxI/rttfBgBoXppZUvzre6ClztYF2KTkCR/kSWt7dQfTyiGb+WEY/+M+TTqbfQTIM8fe0HWYVeTxXTW5kFWkUCgo1eRsKQdmywFT/fC5goO8Vc6DSj3eoZS6ZUitvb2V4irvX30l4q/8LIjoupp78Imm4CgwnbNgl/HVlDquEYESxg9VpNrUFrg3roMz0C8us3JEjpxo6HMqLw9R7K4l8Zzid9cn2SfIbkbU423L1uCFaz4fTotdrs4VbOStctN6y/xhvFNqWsX5RAJkuy8OGJ22XJ3grO5klBJHhGJQUNPyT/QN4e3RLZ3sF5pHLzpi8kBadE3cOv86zroimESzWg2QiNkkjj2c/CQevvJToTcMw2A5Hi4r7T7Px7/O/5sihO9JWdXHTo7S3uDNsO1XGHClyLWDKYMSGLzFppSKKgVcHcEiYIYicRz0pwphN2+2nn7HEYg8uCt+FwSGyt9o9CEOUQT51PD6UI1sq4fJFhwU/KRMze3JnsJiaTTHcVww3mumQXlPgOSP6ZWTYuTWDXEuQ83R90i7s6fwdP59KfIZAJxq1FCr8Zsog+RidP985WTbXbe6EzvmrOHAcQGe2qg1P1rrmrUdE6trOIJjyI/x4qYlqzE1OF4ax7Ug23WhF1xcsgy8ZlwQGvOTMDkZrdRaEBCdaFDlYfBQo8t5sZF/MgiKlicO4zzz+iM2L+vZ0lpMwpRVNS6r/7StTFzNxVxJjRLoRL3SWN2ZKKWLk376dcNparcaVPmD0njx2h0YiiaCe5mCLTRIOuvo2Dh3kF+D0tXKLarvh9Wgyl+30V3UbRjKBNXvTF6R4+T/J0Ax7Kw280LOhunPodUJQVjTygfpRoPByE41s9p8KjMWhjx7ztDUDUBuxhQxodbt+YwFHpWUKVVF8Q+LsFuANeeZS5nSuEPpToJpaVhwXN8tQGFm5sSL190Jz/Uw67fvG2cPyGpR0Z2EBdktwAoz37Z0jZixKKOLjtNLL4JEygjM/OSq9WLm/LT+PnbnTvF+wyagXU32QoOBmc+M3SHGueq51h8MtIunZl0vAFKoOLb+bvXn8GkviRtmX5Ub8ZWofLHdEcheARTvWL4/sA4f0wbluZa1V76N7whcL6JYbiwG8aPRpVgfX4kXi2d4PTiZdYyuB2lG3VuYebkWly18x9VDFdorE1OmMLMv/EPlDxbdKLDrRK1uLszsX6h7AOoEaS81GESz/18EtmNdU68Bstvmp+4JrRO0vQQYTSaT4n8p6XSaw+nygLoTZD5PS4DJZHJwYGBgmWVZsWg0Kg5Mmqb1ASgNA0OQ53lirmaaph6NRu1IJKKfO3dOb/YwDQGOjIysi0Qi7b16CgGy3lICN03zg5mZGYKtoI8EQL5HMgzjX6EA+o8h/Kq/v395JBLp901LEwtTd0BFz/MMx3E489UdxzFmZmZo9ob+2tIH2wExPDxMH41Wr02n0zRZ+WVJO8Kq1vwXOJPs7MgUY+0AAAAASUVORK5CYII="},50:function(e,t,a){},54:function(e,t,a){"use strict";a.d(t,"a",(function(){return f})),a.d(t,"j",(function(){return b})),a.d(t,"g",(function(){return h})),a.d(t,"d",(function(){return y})),a.d(t,"e",(function(){return v})),a.d(t,"h",(function(){return E})),a.d(t,"k",(function(){return k})),a.d(t,"f",(function(){return w})),a.d(t,"i",(function(){return j})),a.d(t,"b",(function(){return O})),a.d(t,"c",(function(){return S}));var n,r,o,i,c,l,s,d,u,m,p,g=a(16),_=a(17),f=Object(_.a)(n||(n=Object(g.a)(["\n    mutation ADDUSER($role:Int,$demo:Boolean,$country_code:String,$phone_no:String,$email:String,$password:String,$last_name:String,$first_name:String,$provider_subCategoryID:[ID],$lat:Float,$lng:Float,$address:String) {\n        admin_add_user(role:$role,demo:$demo,country_code:$country_code,phone_no:$phone_no,email:$email,password:$password,last_name:$last_name,first_name:$first_name,provider_subCategoryID:$provider_subCategoryID,lat:$lat,lng:$lng,address:$address){\n            info\n        }\n    }\n"]))),b=Object(_.a)(r||(r=Object(g.a)(["\n    mutation UPDATEUSER($_id:ID,$role:Int,$demo:Boolean,$country_code:String,$phone_no:String,$email:String,$password:String,$last_name:String,$first_name:String,$provider_subCategoryID:[ID],$lat:Float,$lng:Float,$address:String) {\n        admin_update_user(_id:$_id,role:$role,demo:$demo,country_code:$country_code,phone_no:$phone_no,email:$email,password:$password,last_name:$last_name,first_name:$first_name,provider_subCategoryID:$provider_subCategoryID,lat:$lat,lng:$lng,address:$address){\n            info\n        }\n    }\n"]))),h=Object(_.a)(o||(o=Object(g.a)(["\n query GETUSER($limit: Int,$page:Int,$role:String,$proof_status:Int) {\n    get_user(limit:$limit,page:$page,role:$role,proof_status:$proof_status) {\n        pageInfo{\n            totalDocs\n            page\n        }\n        data{\n            _id\n            country_code\n            phone_no\n            email\n            first_name\n            last_name\n            address\n            location\n            password\n            provider_subCategoryID\n            # provider_document_url\n            proof_status\n        }\n    }\n}\n"]))),y=Object(_.a)(i||(i=Object(g.a)(["\n    mutation DELETEUSER($_id: ID)  {\n        deleteDetails(_id:$_id){\n        msg\n        status         \n    }\n}"]))),v=Object(_.a)(c||(c=Object(g.a)(["\nquery FINDUSER($_id:ID) {\n    user(_id:$_id) {\n        _id\n        country_code\n        phone_no\n        email\n        first_name\n        last_name\n        demo\n        address\n        location\n        password\n        provider_subCategoryID\n        professional_document_url\n        personal_document_url\n        proof_status\n    }\n}\n"]))),E=Object(_.a)(l||(l=Object(g.a)(["\nmutation PROVIDERDOCUMENTVERIFIED($_id:ID,$proof_status:String) {\n    provider_document_verified(_id:$_id,proof_status:$proof_status) {\n        info\n        # provider_document_url\n        proof_status\n    }\n}\n"]))),k=Object(_.a)(s||(s=Object(g.a)(["\nquery USEREMAILQUERY($data:JSON) {\n    user_search(data:$data) {\n        _id\n        email\n        proof_status\n        phone_no\n        first_name\n        last_name\n        role\n    }\n}\n"]))),w=Object(_.a)(d||(d=Object(g.a)(["\n query GETCOMPANY($limit: Int,$page:Int,$search:JSON,$company_id:ID,$provider_search:JSON) {\n    get_company_detail(limit:$limit,page:$page,search:$search,company_id:$company_id) {\n        pageInfo{\n            totalDocs\n            page\n        }\n        data{\n            _id\n            user_id\n            company_name\n            company_website\n            about_company\n            company_category\n            user_id\n            get_company_user_detail {\n                first_name\n                last_name\n                role\n            }\n            get_company_address_detail(company_id:$company_id) {\n                address\n                _id\n                lat\n                lng\n            }\n            get_parent_company_provider(provider_search:$provider_search,company_id:$company_id) {\n                email\n                created_at\n                provider_id\n                register_status\n                register_link_status\n                _id\n            }\n        }\n    }\n}\n"]))),j=Object(_.a)(u||(u=Object(g.a)(["\n    mutation UPDATECOMPANYDETAIL($_id: ID,$company_data:JSON,$logo_file:Upload,$profile_file:Upload)  {\n        update_company_detail(_id:$_id,company_data:$company_data,logo_file:$logo_file,profile_file:$profile_file){\n        msg\n        status         \n    }\n}"]))),O=Object(_.a)(m||(m=Object(g.a)(["\n    mutation DELETECOMPANY($company_id: ID)  {\n        deleteCompany(company_id:$company_id){\n        msg\n        status         \n    }\n}"]))),S=Object(_.a)(p||(p=Object(g.a)(["\n    mutation DELETECOMPANYPROVIDER($_id:ID,$company_id: ID)  {\n        deleteCompanyProvider(_id:$_id,company_id:$company_id){\n        msg\n        status         \n    }\n}"])))},6:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(160),r=a(1011),o=a(990),i=a(993),c=a(189),l=a(29),s="gigzzy.herokuapp.com",d=("".concat("https","://").concat(s),Object(o.createUploadLink)({uri:"".concat("https","://").concat(s,"/graphql")})),u=new i.a({uri:"".concat("ws","://").concat(s,"/graphql"),options:{reconnect:!0}}),m=Object(c.split)((function(e){var t=e.query,a=Object(l.l)(t),n=a.kind,r=a.operation;return"OperationDefinition"===n&&"subscription"===r}),u,d),p=new n.c({link:m,cache:new r.a})},650:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(48),i=a(255),c=a.n(i),l=a(92),s=a.n(l),d=a(66),u=a.n(d),m=a(88),p=a.n(m),g=a(227),_=a.n(g),f=a(33),b=a.n(f),h=a(119),y=a.n(h),v=a(284),E=a.n(v),k=a(90),w=a.n(k),j=a(153),O=a.n(j),S=a(97),N=a(107),x=a(656),C=a.n(x),I=c.a.Header;t.default=function(){Object(o.useLocation)();var e=C()(),t=Object(N.b)(S.g,{}),a=t.loading,n=(t.error,t.data,O()().history);if(a)return r.a.createElement("p",{className:"container mt-2",style:{backgroundColor:"#eae5e5",width:"100%",height:"30px"}});var i=function(e){var t="".concat(e);console.log(t),window.open(t)},c=r.a.createElement(y.a,null,r.a.createElement(y.a.Item,{className:"success"===localStorage.getItem("userLogin")?"d-flex align-items-center px-3":"d-none",onClick:function(){n.push("/")}},r.a.createElement(b.a,{type:"home"}),"Home"),r.a.createElement(y.a.Item,{className:"success"===localStorage.getItem("userLogin")?"d-flex align-items-center px-3":"d-none",onClick:function(){n.push("/profile")}},r.a.createElement(b.a,{type:"user"}),"Profile"),r.a.createElement(y.a.Item,{className:"success"===localStorage.getItem("userLogin")?"d-flex align-items-center px-3":"d-none",onClick:function(){n.push("/bookings")}},r.a.createElement(b.a,{type:"book"}),"Bookings"),r.a.createElement(y.a.Item,{className:"success"===localStorage.getItem("userLogin")?"d-flex align-items-center px-3":"d-none",onClick:function(){i("/static_page/about_us")}},r.a.createElement(b.a,{type:"setting"}),"Help & Support"),r.a.createElement(y.a.Item,{className:"success"===localStorage.getItem("userLogin")?"d-flex align-items-center px-3":"d-none",onClick:function(){i("/static_page/terms")}},r.a.createElement(b.a,{type:"info-circle"}),"Terms & Conditions"),r.a.createElement(y.a.Item,{className:"success"===localStorage.getItem("userLogin")?"d-flex align-items-center px-3":"d-none",onClick:function(){"success"===localStorage.getItem("userLogin")&&(localStorage.removeItem("userLogin"),localStorage.removeItem("user"),n.push("/login"))}},r.a.createElement(b.a,{type:"logout"}),"Logout")),l=r.a.createElement(y.a,null,r.a.createElement(y.a.Item,{className:"d-flex align-items-center px-3",onClick:function(){n.push("/howlearnmore")}},r.a.createElement(b.a,{type:"question-circle"}),"How it works"),r.a.createElement(y.a.Item,{className:"d-flex align-items-center px-3",onClick:function(){n.push("/login")}},r.a.createElement(b.a,{type:"login"}),"Customer Login"),r.a.createElement(y.a.Divider,null),r.a.createElement(y.a.Item,{className:"d-flex align-items-center px-3",onClick:function(){i("/provider_login")}},r.a.createElement(b.a,{type:"shop",theme:"twoTone",twoToneColor:"#52c41a"}),r.a.createElement("span",{className:"primary_color"},"Service Provider Login")));return r.a.createElement("div",null,r.a.createElement(I,{className:"white user_header px-2"},r.a.createElement(s.a,null,r.a.createElement(u.a,null,r.a.createElement("img",{src:w.a,height:"75",width:"120",alt:"Jiffy",className:"object_fit cursor_point lazyload",loading:"lazy",onClick:function(){n.push("/")}}),r.a.createElement("div",{className:"float-right cursor_point"},"success"===localStorage.getItem("userLogin")?r.a.createElement(E.a,{overlay:c,placement:"bottomRight"},r.a.createElement(_.a,{shape:"circle",className:"ant-dropdown-link avatar_shadow",icon:r.a.createElement(b.a,{type:"user",style:{verticalAlign:"baseline"}}),src:JSON.parse(localStorage.getItem("user"))?JSON.parse(localStorage.getItem("user")).img_url:""})):e.isMobile()?r.a.createElement(E.a,{overlay:l,placement:"bottomRight"},r.a.createElement(_.a,{shape:"circle",className:"ant-dropdown-link avatar_shadow",icon:r.a.createElement(b.a,{type:"menu-unfold",style:{verticalAlign:"baseline"}})})):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(p.a,{onClick:function(){n.push("/howlearnmore")},className:"mx-1"},"How it works"),r.a.createElement(p.a,{onClick:function(){n.push("/login")},className:"mx-1",style:{backgroundColor:"black",color:"white"}},"Customer Login"),r.a.createElement(p.a,{onClick:function(){i("/provider_login")},className:"mx-1"},"Service Provider Login"))))))))}},655:function(e,t,a){"use strict";a.d(t,"d",(function(){return d})),a.d(t,"e",(function(){return u})),a.d(t,"a",(function(){return m})),a.d(t,"c",(function(){return p})),a.d(t,"b",(function(){return g}));var n,r,o,i,c,l=a(16),s=a(17),d=Object(s.a)(n||(n=Object(l.a)(["\n    mutation UPDATECONTRACT($_id:ID,$contract_data:JSON){\n        update_contract(_id:$_id,contract_data:$contract_data){\n            msg\n            status\n            _id\n        }\n    }\n"]))),u=Object(s.a)(r||(r=Object(l.a)(["\n    mutation UPDATECONTRACTFILE($contract_id:ID,$file:[Upload],$category:String,$image_tag:String,$_id:ID){\n        ContractJobFileUpload(contract_id:$contract_id,file:$file,category:$category,image_tag:$image_tag,_id:$_id){\n            msg\n            status\n            _id\n        }\n    }\n"]))),m=Object(s.a)(o||(o=Object(l.a)(["\n    mutation DELETECONTRACTFILE($_id:ID){\n        DeleteContractJobFile(_id:$_id){\n            msg\n            status\n        }\n    }\n"]))),p=Object(s.a)(i||(i=Object(l.a)(["\n    query GETCONTRACTFILES($contract_id:ID){\n        get_contract_files(contract_id:$contract_id) {\n            _id\n            images{\n                small_image\n                image_tag\n                doc_category\n                _id\n            }\n        }\n    }\n"]))),g=Object(s.a)(c||(c=Object(l.a)(["\n    query GETCONTRACT($contract_id:ID,$location_code:String){\n        get_contracts(contract_id:$contract_id,location_code:$location_code){\n            name\n            description\n            current_page\n            address_id\n            booking_status\n            budget(code:$location_code)\n            timeline\n            biding_id\n            timeline_type\n            terms_condition\n            contract_ref\n            biding_count\n            created_at\n            currenct_milestone_id\n            currenct_milestone_status\n            ctob_billRef\n            ctob_shotcode\n            ctob\n            get_contract_address_detail {\n                address\n            }\n            get_contract_category{\n                category_name\n                subCategory_name\n                category_type\n            }\n            get_contract_all_files(contract_id:$contract_id){\n                small_image\n            }\n            get_contract_files(contract_id:$contract_id) {\n                _id\n                images{\n                    small_image\n                    large_image\n                    image_tag\n                }\n            }\n            get_provider_user {\n                img_url\n                first_name\n                email\n                phone_no\n                user_type\n                last_name\n                _id\n                get_company_root_detail(root: true) {\n                    company_name\n                    company_website\n                    company_category\n                    get_company_images {\n                    small_image\n                    }\n                }\n            }\n            get_user {\n                img_url\n                first_name\n                user_type\n                last_name\n                email\n                phone_no\n                _id\n                get_company_root_detail(root: true) {\n                    company_name\n                    company_website\n                    company_category\n                    get_company_images {\n                        small_image\n                    }\n                }\n            }\n        }\n    }\n"])))},72:function(e,t,a){"use strict";a.d(t,"b",(function(){return v})),a.d(t,"a",(function(){return E})),a.d(t,"g",(function(){return k})),a.d(t,"i",(function(){return w})),a.d(t,"j",(function(){return j})),a.d(t,"f",(function(){return O})),a.d(t,"e",(function(){return S})),a.d(t,"d",(function(){return N})),a.d(t,"k",(function(){return x})),a.d(t,"l",(function(){return C})),a.d(t,"h",(function(){return I})),a.d(t,"c",(function(){return $}));var n,r,o,i,c,l,s,d,u,m,p,g,_,f,b,h=a(16),y=a(17),v=(Object(y.a)(n||(n=Object(h.a)(['\nsubscription SENDACCEPTMSG($_id:ID,$booking_id:ID){\n    send_accept_msg (_id:$_id,booking_id:$booking_id){\n      _id\n      status\n      description\n      booking_ref\n      booking_date\n      booking_status\n      payment_type\n      mpeas_payment_callback\n      base_price(code:"symbol")\n      extra_price(code:"symbol")\n      ctob_shotcode\n      ctob_billRef\n      ctob\n      msg_date\n      msg_time\n      booking_provider {\n        _id\n        name\n        lat\n        lng\n        img_url\n        rating\n      }\n    }\n}']))),Object(y.a)(r||(r=Object(h.a)(['\nsubscription getPendingDataSubscription($_id: ID\n$role: Int\n$booking_status: Int\n){\n  get_my_appointments(_id: $_id, role: $role, booking_status: $booking_status)\n  {\n    _id\n    status\n    description\n    base_price(code:"symbol")\n    ctob\n    booking_date\n    jobStart_time\n    jobEnd_time\n    booking_status\n    user_image_url\n    start_job_image_url\n    end_job_image_url\n    booking_type\n    user_msg_count\n    provider_msg_count\n    user_msg_is_read\n    provider_msg_is_read\n    booking_category {\n      category_name\n      subCategory_name\n      category_type\n      description\n      _id\n      base_price\n      hour_price\n      hour_limit\n      img_url\n      booking_parent_category{\n        category_name\n      }\n    }\n    booking_user {\n      name\n      lat\n      lng\n      phone_no\n      phone_number\n      _id\n      img_url\n    }\n    booking_provider {\n      name\n      lat\n      lng\n      phone_no\n      _id\n      img_url\n    }\n    # find_kilometre(lat: $lat, lng: $lng) {\n    #   kilometre\n    # }\n  }\n}']))),Object(y.a)(o||(o=Object(h.a)(["\nsubscription TESTS($online:String){\n    test (online:$online){\n      status\n      msg\n    }\n}"]))),Object(y.a)(i||(i=Object(h.a)(['\n mutation ADDBOOKING($user_id:ID,$local_location_code:String,$location_code:String,$booking_time:String,$booking_hour:String,$booking_type:Int,$category_id:ID,$category_type:Int,$lat:Float,$lng:Float,$hours:String,$description:String,$booking_status:Int,$booking_date:String,$file:[Upload]) {\n    add_booking(\n      user_id: $user_id,\n      category_id: $category_id\n      location_code:$location_code\n      local_location_code:$local_location_code\n      category_type: $category_type\n      lat: $lat\n      lng: $lng\n      hours: $hours\n      description: $description\n      booking_status: $booking_status,\n      booking_type:$booking_type,\n      booking_date:$booking_date,\n      booking_time:$booking_time,\n      booking_hour:$booking_hour,\n      file:$file\n    ) {\n      id\n      description\n      location\n      lat\n      lng\n      user_image_url\n      payment_option(code:$local_location_code)\n      user(_id:$user_id) {\n        name\n      }\n      provider {\n        name\n        _id\n      }\n      category(_id: $category_id, category_type: $category_type) {\n        category_name\n        subCategory_name\n        base_price\n        hour_price\n        hour_limit\n        description\n        img_url\n        ParentCategoryCurrency(root: true,location_code:$location_code) {\n          base_price(code:"symbol")\n        }\n      }\n      hours\n    }\n  }\n  '])))),E=Object(y.a)(c||(c=Object(h.a)(["\nmutation AcceptJobMutation($role: Int\n  $booking_id: ID\n  $provider_id: ID\n  $booking_status:Int\n  $phone_number:String\n  $payment_type:String\n  $payment_option:String\n  $location_code:String\n  $stripe_token:String\n){\n  manage_booking(\n    role:$role\n    booking_id: $booking_id\n    provider_id: $provider_id\n    booking_status: $booking_status\n    phone_number : $phone_number\n    payment_type:$payment_type\n    payment_option:$payment_option\n    location_code:$location_code\n    stripe_token:$stripe_token\n  ){\n    status\n    msg\n  }\n}"]))),k=Object(y.a)(l||(l=Object(h.a)(["\nmutation MANAGECONTRACT($role: Int\n  $contract_id: ID\n  $provider_id: ID\n  $biding_id:ID\n  $user_id:ID\n  $booking_status:Int\n  $phone_number:String\n  $payment_type:String\n  $payment_option:String\n  $location_code:String\n  $stripe_token:String\n){\n  manage_contract_booking(\n    role:$role\n    contract_id: $contract_id\n    biding_id:$biding_id\n    provider_id: $provider_id\n    user_id:$user_id\n    booking_status: $booking_status\n    phone_number : $phone_number\n    payment_type:$payment_type\n    payment_option:$payment_option\n    location_code:$location_code\n    stripe_token:$stripe_token\n  ){\n    status\n    msg\n  }\n}"]))),w=Object(y.a)(s||(s=Object(h.a)(["\n    query MY_CONTRACT_APPOINTMENTS($user_id:ID,$role:Int,$limit:Int,$page:Int){\n      get_contracts_pagination(user_id:$user_id,role:$role,limit:$limit,page:$page){\n        pageInfo{\n          totalDocs\n          page\n        }\n        data{\n          _id\n          name\n          contract_ref\n          budget\n          created_at\n          get_contract_category {\n            category_type\n            subCategory_name\n            category_name\n          }\n          get_contract_all_files(limit:1){\n              small_image\n            }\n        }\n    }\n}"]))),j=Object(y.a)(d||(d=Object(h.a)(['\nquery My_appointments($_id : ID,$role : Int,$booking_status : Int,$limit:Int,$page:Int)\n{\n  get_my_appointments(_id:$_id,role:$role,booking_status:$booking_status,limit:$limit,page:$page){\n    pageInfo{\n      totalDocs\n      page\n    }\n    data{\n            _id\n          booking_status\n          booking_date\n          base_price(code:"symbol")\n          ctob\n          booking_ref\n          booking_type\n          booking_date\n          user_msg_count\n          provider_msg_count\n          user_msg_is_read\n          provider_msg_is_read\n          booking_category{\n          img_url\n          category_type\n          category_name\n          subCategory_name\n          is_parent\n            booking_parent_category{\n              category_name\n              img_url\n            }\n          }\n          booking_provider{\n            name\n            img_url\n            phone_number\n          }\n        }\n    }\n}']))),O=Object(y.a)(u||(u=Object(h.a)(['\nquery GETPARTICULARBOOKING($_id : ID,$location_code:String) {\n  booking(_id:$_id,location_code:$location_code) {\n        _id\n        description\n        user_image_url\n        booking_status\n        booking_date\n        created_at\n        job_start_time\n        job_end_time\n        start_job_image_url\n        end_job_image_url\n        booking_ref\n        base_price(code:"symbol")\n        extra_price(code:"symbol")\n        extra_hour_price(code:"symbol")\n        total(code:"symbol")\n        final_payment(code:"symbol")\n        admin_fee(code:"symbol")\n        charge_id\n        MpesaReceiptNumber\n        mpeas_payment_callback\n        ctob\n        ctob_shotcode\n        ctob_billRef\n        service_fee\n        lat\n        lng\n        provider_fee\n        payment_status\n        payment_type\n        user_rating\n        user_rating_status\n        actual_time\n        user_msg_count\n          provider_msg_count\n          user_msg_is_read\n          provider_msg_is_read\n      user_comments\n      provider_rating\n      provider_comments\n      booking_type\n      payment_option(code:$location_code)\n      get_booking_message(booking_id:$_id){\n          message\n          createdAt\n          role\n          msg_date\n          msg_time\n        }\n        booking_category {\n          category_name\n          category_type\n          subCategory_name\n          description\n          _id\n          base_price\n          hour_price\n          hour_limit\n          img_url\n          booking_parent_category {\n            category_name\n            category_name\n          }\n        }\n        booking_provider{\n          name\n          email\n          phone_number\n          _id\n          img_url\n          lat\n          lng\n        }\n        booking_user {\n          name\n          phone_number\n          email\n          img_url\n          location\n        }\n      }\n    }']))),S=Object(y.a)(m||(m=Object(h.a)(["\n  query GETMSG($booking_id : ID,$user_id:ID,$provider_id:ID) {\n    get_message(booking_id:$booking_id){\n      message\n      createdAt\n      role\n      msg_date\n      msg_time\n      user(_id:$user_id){\n        name\n        img_url\n      }\n      provider(_id:$provider_id){\n        name\n        img_url\n      }\n    }\n  }"]))),N=Object(y.a)(p||(p=Object(h.a)(["\nmutation ADDMSG($booking_id : ID,$user_id:ID,$data:String){ \n  add_message(\n    role:1\n    booking_id: $booking_id\n    user_id: $user_id\n    message: $data\n  ) {\n    message\n  }\n}"]))),x=Object(y.a)(g||(g=Object(h.a)(["\nmutation UPDATE_MANUAL_PAYMENT($booking_id : ID,$role:Int,){ \n  update_manual_payment(role:$role,booking_id: $booking_id) {\n    msg\n    status\n  }\n}"]))),C=Object(y.a)(_||(_=Object(h.a)(["\nmutation UPDATE_MSG_COUNT($booking_id : ID,$role:Int,){ \n  update_msg_is_read(role:$role,booking_id: $booking_id) {\n    msg\n    status\n  }\n}"]))),I=Object(y.a)(f||(f=Object(h.a)(["\nsubscription MSGSUB($booking_id : ID,$user_id:ID,$provider_id:ID){ \n\tmessageSent(booking_id:$booking_id){\n    \tmessage\n      createdAt\n      msg_date\n      msg_time\n      role\n      user(_id:$user_id){\n        name\n        img_url\n      }\n      provider(_id:$provider_id){\n        name\n        img_url\n      }\n  }\n}"]))),$=Object(y.a)(b||(b=Object(h.a)(["\nmutation ADDCOMMENTS($booking_id : ID,$user_id:ID,$rating:Int,$comments:String){ \n  addRating(\n    role:1\n    booking_id: $booking_id\n    user_id: $user_id\n    rating: $rating\n    comments:$comments\n  ) {\n    user_rating_status\n    msg\n    status\n  }\n}"])))},893:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a.n(n),o=a(5),i=a(42),c=a(1),l=a.n(c),s=a(1005),d=a(258),u=a(351),m=a(68),p=a(201),g=a(128),_=a(448),f=a(72),b=a(20),h=a(153),y=a.n(h),v=a(107),E=a(262),k=function(e){var t,a=Object(E.useStripe)(),n=Object(E.useElements)(),s=y()().history,h=Object(c.useState)(""),k=Object(i.a)(h,2),w=k[0],j=(k[1],Object(c.useState)(!1)),O=Object(i.a)(j,2),S=O[0],N=O[1],x=Object(v.a)(f.a),C=Object(i.a)(x,2),I=C[0],$=(C[1].loading,Object(v.a)(f.g)),D=Object(i.a)($,2),P=D[0],T=(D[1].loading,function(){var t=Object(o.a)(r.a.mark((function t(o){var i,c,l,d;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.preventDefault(),t.next=3,a.createToken(n.getElement(E.CardElement));case 3:if(i=t.sent,c=i.token,i.error,!c||!c.id){t.next=15;break}return N(!0),l={booking_status:e.current_booking_status,booking_id:e.data._id,role:1,stripe_token:c.id,payment_option:"stripe"},localStorage.getItem("currency")?l.location_code=JSON.parse(localStorage.getItem("currency")).location:l.location_code="US",t.next=12,I({variables:l});case 12:d=t.sent,N(!1),d.data.manage_booking&&"success"===d.data.manage_booking[0].status?(Object(b.a)({msg:"Waiting for your payment confirmation",status:"success"}),s.push("/admin-booking-invoice/contract/".concat(e.data._id))):Object(b.a)({msg:"payment failed",status:"success"});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),A=function(){var t=Object(o.a)(r.a.mark((function t(o){var i,c,l,d;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.preventDefault(),t.next=3,a.createToken(n.getElement(E.CardElement));case 3:if(i=t.sent,c=i.token,i.error,!c||!c.id){t.next=16;break}return N(!0),l={booking_status:e.current_booking_status,contract_id:e.data.contract_id,biding_id:e.data._id,user_id:JSON.parse(localStorage.getItem("user"))._id,stripe_token:c.id,payment_option:"stripe"},localStorage.getItem("currency")?l.location_code=JSON.parse(localStorage.getItem("currency")).location:l.location_code="US",console.log("SubmitContract -> input_data",l),t.next=13,P({variables:l});case 13:d=t.sent,N(!1),d.data.manage_contract_booking&&"success"===d.data.manage_contract_booking.status?(Object(b.a)({msg:"Waiting for your payment confirmation",status:"success"}),s.push("/admin-contract-invoice/".concat(e.data.contract_id))):Object(b.a)({msg:"payment failed",status:"success"});case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return l.a.createElement(d.a,{spinning:S,className:"d-flex justify-content-center mt-4",size:"large"},l.a.createElement(u.a,{onSubmit:T},l.a.createElement("div",{className:"px-4"},l.a.createElement(E.CardElement,{options:{hidePostalCode:!0}}),l.a.createElement("div",{className:"error",role:"alert"},w),!e.booking_type&&l.a.createElement(m.a,{htmlType:"submit",block:!0,className:"d-flex p-3 justify-content-center align-items-center normal_font_size bold",type:"primary",disabled:!a||!n},"Accept and Pay"),e.booking_type&&l.a.createElement(p.a,{gutter:[12,24],disabled:!a||!n},l.a.createElement(g.a,{span:24},l.a.createElement(_.a,{color:"#99d332",className:"w-100",onClick:function(e){A(e)}},l.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},l.a.createElement("div",{className:"d-flex flex-column"},l.a.createElement("div",null," Service fees"),l.a.createElement("div",{className:"normal_font_size"},"   ",null===(t=e.data)||void 0===t?void 0:t.service_fee," Ksh")),l.a.createElement("div",{className:"normal_font_size"}," Pay Now"))))))))},w=Object(s.a)("pk_test_51JVsceD7QuZwAAzVHzQUYqN4GE8kc9xMc2KZHPNVwC748tz0mfeZ11Fm2s0IR9P1G1Wn0WVclLXiMGA0MrjzZosC00WFjDfUz4");t.default=function(e){return l.a.createElement(E.Elements,{stripe:w},l.a.createElement(k,{data:e.data,booking_type:e.booking_type,current_booking_status:e.current_booking_status}))}},90:function(e,t,a){e.exports=a.p+"static/media/Gigzzy.b988be48.png"},97:function(e,t,a){"use strict";a.d(t,"c",(function(){return f})),a.d(t,"j",(function(){return b})),a.d(t,"h",(function(){return h})),a.d(t,"d",(function(){return y})),a.d(t,"e",(function(){return v})),a.d(t,"k",(function(){return E})),a.d(t,"b",(function(){return k})),a.d(t,"g",(function(){return w})),a.d(t,"a",(function(){return j})),a.d(t,"f",(function(){return O})),a.d(t,"i",(function(){return S}));var n,r,o,i,c,l,s,d,u,m,p,g=a(16),_=a(17),f=Object(_.a)(n||(n=Object(g.a)(["\n    mutation ADDSTATIC($page_name: String,$page_code: String,$description: String,$title:String) {\n        add_static(page_name:$page_name,page_code:$page_code,description:$description,title:$title){\n            info\n        }\n    }\n"]))),b=Object(_.a)(r||(r=Object(g.a)(["\n    mutation update_STATIC($_id:ID,$page_name:String,$page_code: String,$description: String,$title:String){\n        update_static(_id:$_id,page_name:$page_name,page_code:$page_code,description:$description,title:$title){\n            info\n        }\n    }\n"]))),h=Object(_.a)(o||(o=Object(g.a)(["\n query GETSTATIC($limit: Int,$page:Int) {\n    get_static(limit:$limit,page:$page) {\n        pageInfo{\n            totalDocs\n        }\n        data{\n            _id\n            page_name\n            page_code\n            description\n            title\n        }\n    }\n}\n"]))),y=Object(_.a)(i||(i=Object(g.a)(["\n    mutation DELETESTATIC($_id: ID)  {\n    deleteStatic(_id:$_id){\n        msg   \n        status      \n    }\n}"]))),v=Object(_.a)(c||(c=Object(g.a)(["\nquery FINDSTATIC($_id:ID) {\n    static(_id:$_id) {\n        _id\n        page_name\n        page_code\n        title\n        description\n    }\n}\n"]))),E=Object(_.a)(l||(l=Object(g.a)(["\nquery USERSTATIC($_id:ID,$page_code:String) {\n    static(_id:$_id,page_code:$page_code) {\n        _id\n        page_name\n        page_code\n        title\n        description\n    }\n}\n"]))),k=Object(_.a)(s||(s=Object(g.a)(["\n    mutation ADDSETTING($_id:ID,\n            $site_name: String,\n            $site_email: String,\n            $copyrights_content: String,\n            $playstore_link: String,\n            $appstore_link: String,\n            $contact_number: String,\n            $contact_email: String,\n            $site_currency: String) {\n        add_site_detail(_id:$_id,\n            site_name: $site_name,\n            site_email: $site_email,\n            copyrights_content: $copyrights_content,\n            playstore_link: $playstore_link,\n            appstore_link: $appstore_link,\n            contact_number: $contact_number,\n            contact_email: $contact_email,\n            site_currency: $site_currency){\n            msg\n            status\n        }\n    }\n"]))),w=Object(_.a)(d||(d=Object(g.a)(["\nquery GTESETTING {\n    site_setting_detail {\n        site_email\n        site_name\n        site_name\n        site_email\n        copyrights_content,\n        playstore_link\n        appstore_link\n        contact_number\n        contact_email\n        site_currency\n        img_logo\n        img_icon\n        site_logo\n        site_icon\n    }\n}\n"]))),j=Object(_.a)(u||(u=Object(g.a)(["\n    mutation ADDPAYOUT($_id:ID,\n            $user_name:String,\n            $password:String,\n            $secret_key:String,\n            $client_key:String,\n            $signature:String,\n            $payout_status:Int) {\n            add_payout_detail( _id:$_id,\n                user_name:$user_name,\n                password:$password,\n                secret_key:$secret_key,\n                client_key:$client_key,\n                signature:$signature,\n                payout_status:$payout_status){\n                    user_name,\n                    password\n                    secret_key\n                    client_key\n                    signature\n                    payout_status\n                    msg\n                    status\n                }\n    }\n"]))),O=Object(_.a)(m||(m=Object(g.a)(["\nquery GTEPAYOUTSETTING {\n    payout_setting_detail {\n        user_name,\n        password\n        secret_key\n        client_key\n        signature\n        payout_status\n        msg\n        status\n    }\n}\n"]))),S=Object(_.a)(p||(p=Object(g.a)(["\n    mutation UPDATESITEIMG($_id: ID,$file:Upload,$option:Int)  {\n        update_site_img(_id:$_id,file:$file,option:$option){\n        msg         \n        status\n        img_icon\n        img_logo\n        site_logo\n        site_icon\n    }\n}"])))}},[[1022,13,14]]]);
//# sourceMappingURL=main.6e5274f3.chunk.js.map