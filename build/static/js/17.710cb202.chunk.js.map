{"version":3,"sources":["image sync /^/.//step.*/.png$","image/step0.png","image/step1.png","image/step2.png","image/step3.png","image/step4.png","image/step5.png","component/User/Book/contract/ContractSteper.js"],"names":["map","./step0.png","./step1.png","./step2.png","./step3.png","./step4.png","./step5.png","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","Step","Steps","original_steps","title","content","status","layout","offset","span","ProjectDetail","React","lazy","then","bind","ProjectBudget","ProjectImages","Form","create","props","_contract_detail_data","_contract_detail_data2","_contract_detail_data3","_contract_detail_data4","_contract_detail_data5","_contract_detail_data6","form","_useReactRouter","useReactRouter","history","match","_useState","useState","_useState2","_home_waioz_gigzzy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__","add_address","set_add_address","_useState3","_useState4","page_loading","set_page_loading","_useState5","_useState6","address_id","set_address_id","_useState7","_useState8","current","setCurrent","_useState9","_useState10","_useState11","_useState12","user_id","set_user_id","_useState13","_useState14","contract_detail_data","set_contract_detail","_useState15","_useState16","user_all_address","set_user_all_address","_useState17","_useState18","stepsdetail","setSteps","_useMutation","useMutation","UPDATE_CONTRACT","_useMutation2","update_contract","contract_detail","loading","useQuery","GET_CONTRACT","_useState19","_useState20","address_from","setaddress_from","useEffect","_home_waioz_gigzzy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","_home_waioz_gigzzy_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","a","mark","_callee","_finaldata$data$get_c","finaldata","db_current_page","wrap","_context","prev","next","localStorage","getItem","JSON","parse","_id","params","refetch","contract_id","sent","data","get_contracts","current_page","parseInt","Number","stop","stepperIcon","item","react__WEBPACK_IMPORTED_MODULE_4___default","createElement","src","require","Fragment","className","get_contract_category","category_type","subCategory_name","category_name","antd__WEBPACK_IMPORTED_MODULE_5__","size","labelPlacement","key","icon","antd__WEBPACK_IMPORTED_MODULE_7__","assign","name","react__WEBPACK_IMPORTED_MODULE_4__","fallback","antd__WEBPACK_IMPORTED_MODULE_8__","active","customform","hide_common_upload","antd__WEBPACK_IMPORTED_MODULE_9__","md","_context_Location__WEBPACK_IMPORTED_MODULE_18__","Provider","value","location_change","popup_closed","popup_closed_option","antd__WEBPACK_IMPORTED_MODULE_10__","type","onClick","antd__WEBPACK_IMPORTED_MODULE_11__","location_edit","no_data","_SetAddress__WEBPACK_IMPORTED_MODULE_16__","_Address__WEBPACK_IMPORTED_MODULE_19__","visible","antd__WEBPACK_IMPORTED_MODULE_12__","gutter","ghost","push","pathname","button_prev_text","validateFields","_ref2","_callee2","err","values","input_data","final_data","all_completed","newItems","_index","_context2","t0","Alert_msg","msg","abrupt","findIndex","variables","console","log","message","success","concat","_home_waioz_gigzzy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","index","_x","_x2","apply","this","arguments","button_next_text"],"mappings":"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","file":"static/js/17.710cb202.chunk.js","sourcesContent":["var map = {\n\t\"./step0.png\": 1973,\n\t\"./step1.png\": 1974,\n\t\"./step2.png\": 1975,\n\t\"./step3.png\": 1976,\n\t\"./step4.png\": 1977,\n\t\"./step5.png\": 1978\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1972;","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAPCAYAAAAGRPQsAAAABHNCSVQICAgIfAhkiAAAANRJREFUOE/tkuENgjAQhXsT6Ag6gTiBjuAIOoFxAsomjqAbwATiBrqBG9T3kkKg3jX4nyYXQo/39fF6EkJonXMb1HCdROSa7PWvhqYSNIIiIkiF4ZDG0DQWzDLlALM0JuwN2ksjgrX/11kFkc9kpkVzp+UjRKsoXOJ5RrWAbTOwA3pF0r9JKgC8xt4Olb1RNQIFxhMfqA9qDYd8Tlo/zqiCO44Ff9kDxjmctCwYQcyxjNAOxiwvFlmFRXc+wkZaztkM0xPAjXIweauLwRdPRJYOa9/+AvtAZJ66X6pWAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAPCAYAAAAGRPQsAAAABHNCSVQICAgIfAhkiAAAANRJREFUOE/tkuENgjAQhXsT6Ag6gTiBjuAIOoFxAsomjqAbwATiBrqBG9T3kkKg3jX4nyYXQo/39fF6EkJonXMb1HCdROSa7PWvhqYSNIIiIkiF4ZDG0DQWzDLlALM0JuwN2ksjgrX/11kFkc9kpkVzp+UjRKsoXOJ5RrWAbTOwA3pF0r9JKgC8xt4Olb1RNQIFxhMfqA9qDYd8Tlo/zqiCO44Ff9kDxjmctCwYQcyxjNAOxiwvFlmFRXc+wkZaztkM0xPAjXIweauLwRdPRJYOa9/+AvtAZJ66X6pWAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAATCAYAAACk9eypAAAABHNCSVQICAgIfAhkiAAAATdJREFUKFN9k41RAkEMhd0OtIOzArECtQKlAo8K5CoQKvCsQOgAKgAqkA6UCsQK1u/dJDdhhzMzmUvevpdkfy5dmOWcLwmf8RofGbzn26aUls5LCiCL8BGIvu7fLcEY4TFZ5U0gq5oI6niPP5pqhWAswRTgzUBVWYGJmIl3xfqDBJrzBl9CqEOuGguwyQmHJFv1Cd9vXONFuybRFC/4Th1c0ACoWym4AptFgTZ4h3ebQr8g1vHK5niLf+IVvlaHSJgiegfT4tFEOpDa4kYCJboDN42lrrInq+xrt34PP0EwFB7oXvlNx7GGBA2CNj4NbWzIfjVa9zScUWy+FM4hzwRGQUX+dabFAWyk6icCJXRRlddC1L0vx/oOYTR/W4LWkHW0vZ0T6N/QAfQb/Vdgo+mx7am+Lff0By1fi6/SK19OAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAOCAYAAADwikbvAAAABHNCSVQICAgIfAhkiAAAAH1JREFUKFNj/A8EDCQARiCAKWeku2aghQeAtheQZTPUtY4jUjMszqAhaA/kXwRifyBWwBH9IPEFQOwIj3CoZgGoxg1A2oBA2kHRPAGouAGIQQag25oAFIuHGuYIpS/AbSaUQoEuAzk1HiV5EtKELA8yAKgZ5AowINpmbJYAALy7UvQ5VSNWAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAUCAYAAABmvqYOAAAABHNCSVQICAgIfAhkiAAAAVhJREFUOE+tlYtRwkAQhu8q0A6kBKjAUIGhAqEDrEA6QCsQKhAqMCXQgdqBVhC/P7OXiTcil0tuZieTe3y7++89fF3XB+fcHTZGO3jvFwHkgdf8PGCngfQp67fAfQyfG/ye73WmkwnrltgG+8L2IXLB5VkDQzNQbA2rCy/oKMhK30ENpSsA1SA4EMmwNRkWBNZkPRZc2l5ZmkfgZW84kUxDVF296P/g/8b69sxRJumRA1ANXrF57EBOVTiTZc24MukFV3FuMUU5C4D/Kp6kuRXspQOqgGvb/tmYv5M0F+FM0GF6x+JD9QxgHWmvOQqi1AlNgUvLxzNBrmDsTF+B3zDp7y7C8TyxqM8poMItbVBO2uxS4BULVMTeLQWumzKrxXClGAr3qbvFruFR4AWUYCqI4CpmVmP9pt0tgWBAvUi/tlmWB+eeWHdsXw075nrywkWUyW2WfWPlD6vW/x+0qGIPAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAPCAYAAADgbT9oAAAABHNCSVQICAgIfAhkiAAAALFJREFUOE9j/P///wcGBgZ+IKYmMGQEGvyfmiZCzXIEGexAA4MvgAw+ADSY2q4upGlQUNu1oJAFhzElBjeixU8BNIWhGLwQKPiAiIhUAKqJB6ljBAJk9dD4skd38QISDE6AGtiAxcUC1AgKXB5ECYqLQFWgXIgOQF6Xx2HCQTRxA2xhDAr4C1gMAHkb5nV0aQc0AVBwghxCcaogKihwKSJHHOziDUCd/uToxqHnIVDcAQAZqlEzN/1i9gAAAABJRU5ErkJggg==\"","import React, { useState, useEffect, Suspense } from 'react'\nimport { Icon, Button, message, Steps, Form, Skeleton, Modal, Row, Col } from 'antd';\nimport { Alert_msg } from '../../../Comman/alert_msg';\nimport { useMutation, useQuery } from '@apollo/react-hooks';\nimport { UPDATE_CONTRACT, GET_CONTRACT } from '../../../../graphql/User/contract';\nimport SetAddress from '../SetAddress';\nimport useReactRouter from 'use-react-router';\n\nimport { LocationContext,EditLocationContext } from '../../../context/Location'\nimport Address from \"../Address\";\nimport findIndex from 'lodash/findIndex';\nimport size from 'lodash/size';\nimport { CurrentCallContext } from 'twilio/lib/rest/preview/trusted_comms/currentCall';\nconst { Step } = Steps;\nconst original_steps = [\n    {\n        id: 1,\n        title: 'First',\n        content: 'Project Details',\n        status: \"wait\"\n    },\n    {\n        id: 2,\n        title: 'Second',\n        content: 'Project Location',\n        status: \"wait\"\n    },\n    {\n        id: 3,\n        title: 'Last',\n        content: 'Budget',\n        status: \"wait\"\n    },\n    {\n        id: 4,\n        title: 'final',\n        content: 'Document',\n        status: \"wait\"\n    },\n    {\n        id: 5,\n        title: 'preview',\n        content: 'Post Preview',\n        status: \"process\"\n    }\n];\n\nconst layout = { offset: 8, span: 16 };\nconst ProjectDetail = React.lazy(() => import('./ProjectDetail'));\nconst ProjectBudget = React.lazy(() => import('./ProjectBudget'));\nconst ProjectImages = React.lazy(() => import('./ProjectImages'));\nconst PostProjectSuccess = React.lazy(() => import('./PostProjectSuccess'));\n\nfunction ContractSteper(props) {\n    const { form } = props;\n    const { history, match } = useReactRouter();\n    const [add_address, set_add_address] = useState(false);\n    const [page_loading, set_page_loading] = useState(true);\n    const [address_id, set_address_id] = useState(\"\");\n    const [current, setCurrent] = useState(0);\n    const [contract_id, set_contract_id] = useState(\"\");\n    const [user_id, set_user_id] = useState(\"\");\n    const [contract_detail_data, set_contract_detail] = useState({});\n    const [user_all_address, set_user_all_address] = useState([]);\n    const [stepsdetail, setSteps] = useState(original_steps);\n    const [update_contract, { loading: removeLoading }] = useMutation(UPDATE_CONTRACT)\n    const contract_detail = useQuery(GET_CONTRACT);\n    const [address_from, setaddress_from] = useState({});\n\n    useEffect(async () => {\n        if (localStorage.getItem('user')) {\n            set_user_id(JSON.parse(localStorage.getItem(\"user\"))._id)\n        }\n        if (match.params.id) {\n            let finaldata = await contract_detail.refetch({ contract_id: match.params.id })\n            finaldata.data.get_contracts[0].current_page = finaldata.data.get_contracts[0].current_page || -1\n            var db_current_page = parseInt(finaldata.data.get_contracts[0].current_page)+1\n                \n            let update_steps = original_steps.map(data => {\n                if(db_current_page>=data.id)\n                {\n                    return data.status = \"finish\"\n                }\n            })\n            // setSteps(update_steps)\n            \n            set_contract_detail(finaldata.data.get_contracts[0])\n            set_address_id(finaldata.data.get_contracts[0]?.address_id)\n            setCurrent(Number(finaldata.data.get_contracts[0].current_page) + 1)\n            set_page_loading(false)\n            \n        }\n    }, [match.params.id])\n    const next = (id) => {\n        const { form } = props;\n        form.validateFields(async (err, values) => {\n            if (!err) {\n                let input_data = {}\n                if (match.params.id) {\n                    input_data['_id'] = match.params.id\n                }\n                values['current_page'] = (current>=4)?4:current\n                switch (current) {\n                    case 2:\n                        if ((!values['budget'] || values['budget']<=0 )) {\n                            Alert_msg({ status: 'failed', msg: \"Please Enter the budget\" })\n                            return false\n                        }\n                        if(values['timeline_type']==\"2\" || values['timeline_type']==\"3\")\n                        {\n                            if(values['timeline']<=0)\n                            {\n                                Alert_msg({ status: 'failed', msg: \"Enter Timeline more than 1\" })\n                                return false\n                            }\n                        }\n                        break;\n                    case 1:\n                        if (address_id==\"\" || address_id==null) {\n                            Alert_msg({ status: 'failed', msg: \"Select any one address\" })\n                            return false\n                        } \n                        else if (address_id) {\n                            let index = findIndex(user_all_address, ['_id', address_id]);\n                            if(index==-1)\n                            {\n                                Alert_msg({ status: 'failed', msg: \"Select any one address\" })\n                                return false;\n                            }\n                            else\n                            {\n                                values['address_id'] = address_id\n                            }\n                        }\n                        break;\n                    case 5:\n                        values['contract_status'] = \"12\"\n                        break;\n                    default:\n                        break;\n                }\n                if (values && size(values)) {\n                    input_data['contract_data'] = [values]\n                }\n                let final_data = await update_contract({ variables: input_data });\n                Alert_msg(final_data.data.update_contract)\n                console.log(current)\n                if(current === 5 || current === 6)\n                {\n                    let all_completed = original_steps.map(data => {\n                        return data.status = \"finish\"\n                    })\n                    setSteps(all_completed)\n                    setCurrent(4);\n                    message.success('Processing complete!')\n                    history.push({ pathname: `/contract/view/${match.params.id}` })\n                }\n                else {\n                    const newItems = [...stepsdetail];\n                    let index = findIndex(newItems, ['id', current+1]);\n                    newItems[index]['status'] = \"finish\";\n                    setSteps(newItems)\n                    setCurrent(current + 1);\n                }\n            }\n        })\n    }\n\n    const prev = () => {\n        if (current === 0) {\n            history.push({ pathname: `/bookings` })\n        } else {\n            setCurrent(current - 1);\n        }\n    }\n    const done = () => {\n        let all_completed = original_steps.map(data => {\n            return data.status = \"finish\"\n        })\n        setSteps(all_completed)\n        setCurrent(4);\n\n        message.success('Processing complete!')\n    }\n \n    const edit_location = (item) => {\n        setaddress_from(item)\n        set_add_address(true);\n    }\n    const all_address = (data) => {\n        set_user_all_address(data);\n    }\n    const on_popup_closed = () => {\n        set_add_address(false);\n    }\n    const on_location_change = (item) => {\n        set_address_id(item._id);\n    }\n    const stepperIcon = (item) =>{\n        return <img src={require('../../../../image/step'+item.id+'.png')}/>;\n    }\n    const button_prev_text = (item) =>{\n        switch(item) {\n            case 0:\n                return \"Cancel\";\n          default:\n            return \"Back\";\n        }\n    }\n    const button_next_text = (item) =>{\n        switch(item) {\n            case 3:\n                return \"Save and Preview\";\n            case 4:\n                return \"Publish\";\n            case 5:\n                return \"Publish\";\n          default:\n            return \"Next\";\n        }\n    }\n    return (\n        \n        <div>\n        { !page_loading && <>    \n            <h4 className=\"text-center mb-5\">\n                {(contract_detail_data?.get_contract_category?.[0]?.category_type==2)?contract_detail_data?.get_contract_category?.[0]?.subCategory_name:contract_detail_data?.get_contract_category?.[0]?.category_name}\n            </h4>\n            <Steps size=\"large\" className=\"contract_steper\" labelPlacement=\"vertical\" current={current}>\n                {stepsdetail && stepsdetail.map(item =>\n                    <Step key={item.title} status={item.status} icon={stepperIcon(item)} title={item.content} />\n                )}\n            </Steps>\n            <div className=\"d-flex justify-content-center my-5\">\n                <Form  {...layout} name=\"nest-messages\" className=\"w-100\">\n                    <Suspense fallback={<Skeleton active />}>\n                        <div className={current === 4 || current === 5 ? '' : 'd-none'}>\n                            <h4 className=\"text-center\">Review and publish your project</h4>\n                            <ProjectDetail contract_detail_data={contract_detail_data} current={current} customform={form} />\n                            <ProjectBudget contract_detail_data={contract_detail_data} current={current} customform={form} />\n                            <ProjectImages hide_common_upload={true} contract_detail_data={contract_detail_data} current={current} customform={form} />\n                        </div>\n                        <div className={current === 3 ? 'contract_images_section' : 'd-none'}>\n                            <Col md={{ span: 18, offset: 3 }}>\n                                <ProjectImages contract_detail_data={contract_detail_data} current={current} customform={form} />\n                            </Col>\n                        </div>\n                        <div className={current === 2 ? '' : 'd-none'}>\n                            <Col md={{ span: 18, offset: 3 }}>\n                                <ProjectBudget contract_detail_data={contract_detail_data} current={current} customform={form} />\n                            </Col>\n                        </div>\n                        <div className={current === 0 ? '' : 'd-none'}>\n                            <Col md={{ span: 18, offset: 3 }}>\n                                <ProjectDetail contract_detail_data={contract_detail_data} current={current} customform={form} />\n                            </Col>\n                        </div>\n                        <div className={current === 1 ? '' : 'd-none'}>\n                            <LocationContext.Provider value={{\n                                location_change: on_location_change,\n                                popup_closed: on_popup_closed,\n                                popup_closed_option:true\n                            }}>\n                                <Button type=\"primary\" className=\"mb-3 h-50x\" onClick={() => {setaddress_from({}); set_add_address(true) }}>\n                                    <div className=\"normal_font_size d-flex justify-content-around align-items-center\">\n                                        <div className=\"mr-3\">\n                                            Add New Address\n                                        </div>\n                                        <Icon type=\"plus\" />\n                                    </div>\n                                </Button>\n                                <h4 className=\"text-center mb-5\">My Saved Address</h4>\n                                <Col md={{ span: 18, offset: 3 }} className=\"extra_radius_input shadow-lg\">\n                                    <EditLocationContext.Provider value={{ location_edit: edit_location,no_data:all_address}}>\n                                        <SetAddress user_id={user_id} address_id={address_id} />\n                                    </EditLocationContext.Provider>\n                                </Col>\n                                <Address address_from={address_from} visible={add_address}  />\n                            </LocationContext.Provider>\n                        </div>\n                    </Suspense>\n                    \n                </Form>\n            </div>\n            <div className=\"steps-action justify-content-between d-flex mb-5\">\n                <Col md={{ span: 18, offset: 3 }}>\n                    <Row gutter={[12, 24]} >\n                        <Col md={12}>\n                            <Button type=\"primary\" ghost className=\"contract_actions w-100\" onClick={() => prev()}>\n                                {button_prev_text(current)}\n                            </Button>\n                        </Col>\n                        <Col md={12}>\n                            <Button type=\"primary\" className=\"contract_actions w-100\" onClick={() => next()}>\n                                {button_next_text(current)}\n                            </Button>\n                        </Col>\n                    </Row>\n                </Col>\n            </div>\n            </>\n            }\n        </div>\n    )\n}\n\nexport default Form.create()(ContractSteper);\n"],"sourceRoot":""}