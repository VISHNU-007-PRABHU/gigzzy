{"version":3,"sources":["component/Admin/subcategory/MultiCurrency.js"],"names":["Panel","Collapse","Title","Typography","MultiCurrencyFrom","React","lazy","__webpack_require__","e","then","bind","Form","create","props","form","_useReactRouter","useReactRouter","match","history","_useState","useState","_useState2","Object","_home_waioz_gigzzy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__","currency_data","set_currency_data","_useState3","_useState4","_useMutation","useMutation","REMOVE_CATEGORY_CURRENCY","_useMutation2","DeleteCategoryCurrency","_useState5","loading","_useState6","add_currency_visible","set_add_currency_visible","_useState7","_useState8","set_loading","GetCategoryCurrency","useQuery","GET_CATEGORY_CURRENCY","useEffect","params","id","getCurrencyResponse","_ref","_home_waioz_gigzzy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","_home_waioz_gigzzy_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","a","mark","_callee","_finaldata$data","_finaldata$data$GetCa","input_data","finaldata","wrap","_context","prev","next","pagination","category_id","refetch","sent","data","stop","apply","this","arguments","genExtra","_ref2","_callee2","event","remove_data","_context2","_id","variables","Alert_msg","status","stopPropagation","_x","_x2","from_parent","react__WEBPACK_IMPORTED_MODULE_4___default","createElement","Fragment","antd__WEBPACK_IMPORTED_MODULE_7__","spinning","className","level","antd__WEBPACK_IMPORTED_MODULE_8__","type","icon","onClick","antd__WEBPACK_IMPORTED_MODULE_5__","accordion","length","map","cdata","i","_cdata$get_parent_cur","_React$createElement","key","header","get_parent_currency","name","_home_waioz_gigzzy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","antd__WEBPACK_IMPORTED_MODULE_9__","title","onConfirm","antd__WEBPACK_IMPORTED_MODULE_10__","theme","twoToneColor","react__WEBPACK_IMPORTED_MODULE_4__","fallback","antd__WEBPACK_IMPORTED_MODULE_11__","active","currency_disable","antd__WEBPACK_IMPORTED_MODULE_12__","description","antd__WEBPACK_IMPORTED_MODULE_13__","visible","onCancel","footer"],"mappings":"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","file":"static/js/10.09c49107.chunk.js","sourcesContent":["import React, { useState, useEffect, Suspense } from 'react'\nimport { Collapse, Form, Typography, Skeleton, Icon, Button, Modal, Popconfirm, Empty,Spin } from 'antd';\nimport { REMOVE_CATEGORY_CURRENCY } from \"../../../graphql/Admin/sub_category\";\nimport { useMutation, useQuery } from '@apollo/react-hooks';\nimport useReactRouter from 'use-react-router';\nimport { Alert_msg } from \"../../Comman/alert_msg\";\nimport { GET_CATEGORY_CURRENCY } from '../../../graphql/Admin/sub_category';\n\nconst { Panel } = Collapse;\nconst { Title } = Typography;\nconst title = \"Currency\"\nconst MultiCurrencyFrom = React.lazy(() => import('./MultiCurrencyFrom'));\nconst MultiCurrency = (props) => {\n    const { form } = props;\n    const { history, match } = useReactRouter();\n    const [currency_data, set_currency_data] = useState([]);\n    const [local_currency_data, set_local_currency_data] = useState({});\n    const [DeleteCategoryCurrency, { loading: removeLoading }] = useMutation(REMOVE_CATEGORY_CURRENCY)\n    const [add_currency_visible, set_add_currency_visible] = useState(false);\n    const [loading, set_loading] = useState(false);\n    const GetCategoryCurrency = useQuery(GET_CATEGORY_CURRENCY);\n\n    useEffect(() => {\n        if (match.params.id) {\n            getCurrencyResponse()\n        }\n    }, [])\n\n    const getCurrencyResponse = async () => {\n        set_loading(true)\n        let input_data = { pagination: false, category_id: match.params.id }\n        let finaldata = await GetCategoryCurrency.refetch(input_data)\n        set_currency_data(finaldata.data?.GetCategoryCurrency?.data)\n        set_loading(false)\n    }\n\n    const genExtra = async (event, id) => {\n        let input_data = {\n            _id: id\n        }\n        set_loading(true)\n        let remove_data = await DeleteCategoryCurrency({ variables: input_data });\n        Alert_msg(remove_data.data.DeleteCategoryCurrency)\n        if (remove_data.data.DeleteCategoryCurrency.status === \"success\") {\n            getCurrencyResponse()\n        }\n        event.stopPropagation();\n    }\n\n    const from_parent = () => {\n        getCurrencyResponse()\n        set_add_currency_visible(false)\n    }\n\n    return (<>\n        <Spin spinning={loading}>\n            <div className=\"d-flex justify-content-between m-3\">\n                <Title level={4} className={\"\"}>\n                    {title}\n                </Title>\n                <Button className=\"align-items-center d-flex\" type=\"primary\" icon=\"plus\" onClick={() => { set_add_currency_visible(!add_currency_visible) }}>\n                    Add Currency\n                </Button>\n            </div>\n            <Collapse accordion >\n                {(currency_data && currency_data.length && currency_data.map((cdata, i) => {\n                    return (\n                        <Panel key={i} Panel className=\"multi_currency_panel\" header={\n                            <div className=\"d-flex justify-content-between\">\n                                <div>{cdata?.get_parent_currency?.name}</div>\n                                <div>\n                                </div>\n                            </div>}\n                            key={i} extra={<div>\n                                <Popconfirm title=\"Sure to delete because may be under some more bookings ?\" onConfirm={(e) => { genExtra(e, cdata._id) }}>\n                                    <Icon type=\"delete\" theme=\"twoTone\" twoToneColor=\"#52c41a\" className='f_25' />\n                                </Popconfirm>\n                            </div>\n                            }>\n                            <Suspense fallback={<Skeleton active />}>\n                                <MultiCurrencyFrom from_parent={from_parent} data={cdata} currency_disable={true} />\n                            </Suspense>\n\n                        </Panel>\n                    )\n                }))}\n                {!currency_data && !currency_data.length && <div className=\"d-flex justify-content-center p-4\">\n                    <Empty description={false} />\n                </div>\n                }\n            </Collapse>\n        </Spin>\n        <Modal\n            visible={add_currency_visible}\n            title=\"Add new currency\"\n            onCancel={() => { set_add_currency_visible(!add_currency_visible) }}\n            footer={null}\n        >\n            <Suspense fallback={<Skeleton active />}>\n                <MultiCurrencyFrom currency_data={currency_data} from_parent={from_parent} />\n            </Suspense>\n        </Modal>\n    </>);\n};\nexport default Form.create()((MultiCurrency));\n\n\n"],"sourceRoot":""}