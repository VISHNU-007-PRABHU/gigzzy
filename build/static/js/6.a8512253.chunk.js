(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1930:function(e,t,r){"use strict";r.d(t,"a",function(){return u}),r.d(t,"b",function(){return l});var n,i,o,a=r(16),s=r(17),c=r.n(s),u=c()(n||(n=Object(a.a)(["\n    query GETMILESTONEPAGINATION($_id:ID,$contract_id:ID,$biding_id:ID,$location_code:String){\n        get_biding_milestone(_id:$_id,contract_id:$contract_id,biding_id:$biding_id){\n                _id\n                budget(code:$location_code)\n                ref: milestone_ref\n                created_at\n                user_id\n                contract_id\n                timeline\n                timeline_type\n                payment_option(code:$location_code)\n                booking_status\n                description\n                title\n                pro_description\n                extra_fare\n                extra_fare_reason\n                total(code:$location_code)\n                get_milestone_all_images(root:true){\n                    small_image\n                }\n        }\n    }\n"]))),l=(c()(i||(i=Object(a.a)(["\n    query GETMILESTONEDETAIL($_id:ID,$contract_id:ID,$biding_id:ID){\n        get_biding_milestone_detail(_id:$_id,contract_id:$contract_id,biding_id:$biding_id){\n            _id\n            budget\n            ref: milestone_ref\n            created_at\n            user_id\n            contract_id\n            description\n            timeline\n            timeline_type\n        }\n    }\n"]))),c()(o||(o=Object(a.a)(["\nmutation UPDATEMILESTONE($option:String  \n    $_id:ID\n    $user_id: String\n    $provider_id:ID\n    $biding_id:ID\n    $contract_id:ID\n    $file:[Upload]\n    $milestone_data:JSON){ \n    update_milestone(\n        option:$option  \n        _id:$_id\n        user_id: $user_id\n        provider_id:$provider_id\n        biding_id:$biding_id\n        contract_id:$contract_id\n        file:$file\n        milestone_data:$milestone_data\n  ) {\n    msg\n    status\n  }\n}"]))))},2059:function(e,t,r){"use strict";r.r(t);var n=r(38),i=r(1),o=r.n(i),a=r(144),s=r.n(a),c=r(7),u=r(110),l=r(154),p=r(89),d=r(24),b=function(e){function t(t){var r=t.options,n=t.context,i=t.forceUpdate,o=e.call(this,r,n)||this;return o.previousData={},o.currentObservable={},o.runLazy=!1,o.runLazyQuery=function(e){o.runLazy=!0,o.lazyOptions=e,o.forceUpdate()},o.getExecuteResult=function(){var e=o.getQueryResult();return o.startQuerySubscription(),e},o.forceUpdate=i,o}return c.c(t,e),t.prototype.execute=function(){this.refreshClient();var e=this.getOptions(),t=e.skip,r=e.query;return(t||r!==this.previousData.query)&&(this.removeQuerySubscription(),this.previousData.query=r),this.updateObservableQuery(),this.isMounted&&this.startQuerySubscription(),this.getExecuteSsrResult()||this.getExecuteResult()},t.prototype.executeLazy=function(){return this.runLazy?[this.runLazyQuery,this.execute()]:[this.runLazyQuery,{loading:!1,networkStatus:l.b.ready,called:!1,data:void 0}]},t.prototype.fetchData=function(){if(this.getOptions().skip)return!1;var e=this.getOptions(),t=(e.children,e.ssr),r=(e.displayName,e.skip,e.onCompleted,e.onError,e.partialRefetch,c.e(e,["children","ssr","displayName","skip","onCompleted","onError","partialRefetch"])),n=r.fetchPolicy;if(!1===t)return!1;"network-only"!==n&&"cache-and-network"!==n||(n="cache-first");var i=this.refreshClient().client.watchQuery(c.a({},r,{fetchPolicy:n}));return this.context&&this.context.renderPromises&&this.context.renderPromises.registerSSRObservable(i,this.getOptions()),!!this.currentObservable.query.getCurrentResult().loading&&i.result()},t.prototype.afterExecute=function(e){var t=(void 0===e?{}:e).lazy,r=void 0!==t&&t;return this.isMounted=!0,r&&!this.runLazy||this.handleErrorOrCompleted(),this.unmount.bind(this)},t.prototype.cleanup=function(){this.removeQuerySubscription(),delete this.currentObservable.query,delete this.previousData.result},t.prototype.getOptions=function(){var t=e.prototype.getOptions.call(this),r=this.lazyOptions||{},n=c.a({},t,{variables:c.a({},t.variables,r.variables),context:c.a({},t.context,r.context)});return this.runLazy&&delete n.skip,n},t.prototype.getExecuteSsrResult=function(){var e,t={loading:!0,networkStatus:l.b.loading,called:!0,data:{}};return this.context&&this.context.renderPromises&&((e=this.context.renderPromises.addQueryPromise(this,this.getExecuteResult))||(e=t)),e},t.prototype.updateCurrentData=function(){this.isMounted&&this.forceUpdate()},t.prototype.prepareObservableQueryOptions=function(){this.verifyDocumentType(this.getOptions().query,u.b.Query);var e=this.getOptions().displayName||"Query";return c.a({},this.getOptions(),{displayName:e,context:this.getOptions().context||{},metadata:{reactComponent:{displayName:e}}})},t.prototype.observableQueryFields=function(e){return{variables:e.variables,refetch:e.refetch.bind(e),fetchMore:e.fetchMore.bind(e),updateQuery:e.updateQuery.bind(e),startPolling:e.startPolling.bind(e),stopPolling:e.stopPolling.bind(e),subscribeToMore:e.subscribeToMore.bind(e)}},t.prototype.initializeObservableQuery=function(){if(this.context&&this.context.renderPromises&&(this.currentObservable.query=this.context.renderPromises.getSSRObservable(this.getOptions())),!this.currentObservable.query){var e=this.prepareObservableQueryOptions();this.previousData.observableQueryOptions=c.a({},e,{children:null}),this.currentObservable.query=this.refreshClient().client.watchQuery(e)}},t.prototype.updateObservableQuery=function(){this.currentObservable.query||this.initializeObservableQuery();var e=c.a({},this.prepareObservableQueryOptions(),{children:null});Object(p.a)(e,this.previousData.observableQueryOptions)||(this.previousData.observableQueryOptions=e,this.currentObservable.query.setOptions(e).catch(function(){}))},t.prototype.startQuerySubscription=function(){var e=this;if(!this.currentObservable.subscription&&!this.getOptions().skip){var t=this.currentObservable.query;this.currentObservable.subscription=t.subscribe({next:function(t){var r=t.loading,n=t.networkStatus,i=t.data;e.previousData.result&&e.previousData.result.loading===r&&e.previousData.result.networkStatus===n&&Object(p.a)(e.previousData.result.data,i||{})||e.updateCurrentData()},error:function(t){if(e.resubscribeToQuery(),!t.hasOwnProperty("graphQLErrors"))throw t;e.updateCurrentData()}})}},t.prototype.resubscribeToQuery=function(){this.removeQuerySubscription();var e=this.currentObservable.query.getLastError(),t=this.currentObservable.query.getLastResult();this.currentObservable.query.resetLastResults(),this.startQuerySubscription(),Object.assign(this.currentObservable.query,{lastError:e,lastResult:t})},t.prototype.getQueryResult=function(){var e=this,t={data:Object.create(null)};if(Object.assign(t,this.observableQueryFields(this.currentObservable.query)),this.getOptions().skip)t=c.a({},t,{data:void 0,error:void 0,loading:!1,called:!0});else{var r=this.currentObservable.query.getCurrentResult(),n=r.loading,i=r.partial,o=r.networkStatus,a=r.errors,s=r.error,u=r.data;if(u=u||Object.create(null),a&&a.length>0&&(s=new l.a({graphQLErrors:a})),Object.assign(t,{loading:n,networkStatus:o,error:s,called:!0}),n){var p=this.previousData.result?this.previousData.result.data:{};Object.assign(t.data,p,u)}else if(s)Object.assign(t,{data:(this.currentObservable.query.getLastResult()||{}).data});else{var d=this.currentObservable.query.options.fetchPolicy;if(this.getOptions().partialRefetch&&0===Object.keys(u).length&&i&&"cache-only"!==d)return Object.assign(t,{loading:!0,networkStatus:l.b.loading}),t.refetch(),t;Object.assign(t.data,u)}}return setTimeout(function(){e.currentObservable.query.resetQueryStoreErrors()}),t.client=this.client,this.previousData.loading=this.previousData.result&&this.previousData.result.loading||!1,this.previousData.result=t,t},t.prototype.handleErrorOrCompleted=function(){var e=this.currentObservable.query.getCurrentResult(),t=e.data,r=e.loading,n=e.error;if(!r){var i=this.getOptions(),o=i.query,a=i.variables,s=i.onCompleted,c=i.onError;if(this.previousOptions&&!this.previousData.loading&&Object(p.a)(this.previousOptions.query,o)&&Object(p.a)(this.previousOptions.variables,a))return;s&&!n?s(t):c&&n&&c(n)}},t.prototype.removeQuerySubscription=function(){this.currentObservable.subscription&&(this.currentObservable.subscription.unsubscribe(),delete this.currentObservable.subscription)},t}(function(){function e(e,t){this.isMounted=!1,this.previousOptions={},this.context={},this.options={},this.options=e||{},this.context=t||{}}return e.prototype.getOptions=function(){return this.options},e.prototype.setOptions=function(e){Object(p.a)(this.options,e)||(this.previousOptions=this.options),this.options=e},e.prototype.unmount=function(){this.isMounted=!1},e.prototype.refreshClient=function(){var e=this.options&&this.options.client||this.context&&this.context.client;Object(d.b)(!!e,'Could not find "client" in the context or passed in as an option. Wrap the root component in an <ApolloProvider>, or pass an ApolloClient instance in via options.');var t=!1;return e!==this.client&&(t=!0,this.client=e,this.cleanup()),{client:this.client,isNew:t}},e.prototype.verifyDocumentType=function(e,t){var r=Object(u.e)(e),n=Object(u.d)(t),i=Object(u.d)(r.type);Object(d.b)(r.type===t,"Running a "+n+" requires a graphql "+n+", but a "+i+" was used instead.")},e}());function f(e,t,r){void 0===r&&(r=!1);var n=Object(i.useContext)(Object(u.c)()),o=Object(i.useReducer)(function(e){return e+1},0),a=o[0],s=o[1],l=t?c.a({},t,{query:e}):{query:e},d=Object(i.useRef)();d.current||(d.current=new b({options:l,context:n,forceUpdate:s}));var f=d.current;f.setOptions(l),f.context=n;var y=function(e,t){var r=Object(i.useRef)();return r.current&&Object(p.a)(t,r.current.key)||(r.current={key:t,value:e()}),r.current.value}(function(){return r?f.executeLazy():f.execute()},{options:l,context:n,tick:a});return Object(i.useEffect)(function(){return f.afterExecute({lazy:r})},[y]),y}var y=r(1930),h=r(166),v=r.n(h),m=r(423),g=r(247),O=r(4),_=r.n(O),j=r(28),E=r(90);function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},D=function(e){return i.createElement(E.a,null,function(t){var r,n,o=t.getPrefixCls,a=e.prefixCls,s=e.className,c=e.color,u=void 0===c?"":c,l=e.children,p=e.pending,d=e.dot,b=w(e,["prefixCls","className","color","children","pending","dot"]),f=o("timeline",a),y=_()((S(r={},"".concat(f,"-item"),!0),S(r,"".concat(f,"-item-pending"),p),r),s),h=_()((S(n={},"".concat(f,"-item-head"),!0),S(n,"".concat(f,"-item-head-custom"),d),S(n,"".concat(f,"-item-head-").concat(u),!0),n));return i.createElement("li",x({},Object(j.default)(b,["position"]),{className:y}),i.createElement("div",{className:"".concat(f,"-item-tail")}),i.createElement("div",{className:h,style:{borderColor:/blue|red|green|gray/.test(u)?void 0:u}},d),i.createElement("div",{className:"".concat(f,"-item-content")},l))})};D.defaultProps={color:"blue",pending:!1,position:""};var P=D,C=r(22);function Q(e){return(Q="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function $(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function I(e){return function(){var t,r=z(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=z(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return function(e,t){if(t&&("object"===Q(t)||"function"===typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,t)}}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var T=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},A=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(a,i["Component"]);var t,r,n,o=I(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=o.apply(this,arguments)).renderTimeline=function(t){var r,n=t.getPrefixCls,o=e.props,a=o.prefixCls,s=o.pending,c=void 0===s?null:s,u=o.pendingDot,l=o.children,p=o.className,d=o.reverse,b=o.mode,f=T(o,["prefixCls","pending","pendingDot","children","className","reverse","mode"]),y=n("timeline",a),h="boolean"===typeof c?null:c,v=_()(y,(q(r={},"".concat(y,"-pending"),!!c),q(r,"".concat(y,"-reverse"),!!d),q(r,"".concat(y,"-").concat(b),!!b),r),p),m=c?i.createElement(P,{pending:!!c,dot:u||i.createElement(C.a,{type:"loading"})},h):null,g=d?[m].concat($(i.Children.toArray(l).reverse())):[].concat($(i.Children.toArray(l)),[m]),O=function(e,t){return"alternate"===b?"right"===e.props.position?"".concat(y,"-item-right"):"left"===e.props.position?"".concat(y,"-item-left"):"".concat(y,t%2===0?"-item-left":"-item-right"):"left"===b?"".concat(y,"-item-left"):"right"===b?"".concat(y,"-item-right"):"right"===e.props.position?"".concat(y,"-item-right"):""},j=g.filter(function(e){return!!e}),E=i.Children.count(j),x="".concat(y,"-item-last"),S=i.Children.map(j,function(e,t){var r=t===E-2?x:"",n=t===E-1?x:"";return i.cloneElement(e,{className:_()([e.props.className,!d&&c?r:n,O(e,t)])})});return i.createElement("ul",N({},f,{className:v}),S)},e}return t=a,(r=[{key:"render",value:function(){return i.createElement(E.a,null,this.renderTimeline)}}])&&R(t.prototype,r),n&&R(t,n),a}();A.Item=P,A.defaultProps={reverse:!1,mode:""};var M=A,U=r(424),F=r(422),G=r(284),J=r(132),B=r(337),V=m.a,W=o.a.lazy(function(){return r.e(41).then(r.bind(null,2055))}),H={0:"welcome Gizzy",50:"waiting for payment confirmation",9:"Pending",10:"Paided",11:"Booking canceled",4:"Job started",13:"Ongoing",14:"Completed"};t.default=B.a.create()(function(e){var t=s()(),r=(t.history,t.match),a=Object(i.useState)(!1),c=Object(n.a)(a,2),u=c[0],l=c[1],p=Object(i.useState)(0),d=Object(n.a)(p,2),b=(d[0],d[1],Object(i.useState)([])),h=Object(n.a)(b,2),m=h[0],O=h[1],_=Object(i.useState)({}),j=Object(n.a)(_,2),E=j[0],x=j[1];console.log("match.params.id",r.params.id);var S,w,D=(S=y.a,w={variables:{contract_id:r.params.id,location_code:"IN"}},f(S,w,!1)),P=D.data,C=D.loading;return D.error,Object(i.useEffect)(function(){O(P.get_biding_milestone)},[P]),o.a.createElement(o.a.Fragment,null,m&&m.length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement(g.a,{spinning:C},o.a.createElement(V,{className:"my-5",level:3},"Project Milestone"),o.a.createElement(M,null,m&&m.map(function(e,t){return console.log("started"!==(null===e||void 0===e?void 0:e.title)),o.a.createElement(M.Item,{key:null===e||void 0===e?void 0:e.title,color:14===(null===e||void 0===e?void 0:e.booking_status)?"green":"gray",className:"pb-4"},o.a.createElement("div",{className:"normal_font_size bold"},"Milestone ",t,": ",null===e||void 0===e?void 0:e.title),o.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},o.a.createElement("div",null,!v()(["started","Complete"],null===e||void 0===e?void 0:e.title)&&o.a.createElement("div",{className:"normal_font_size primary_color py-1"},null===e||void 0===e?void 0:e.budget),o.a.createElement("div",{className:"d-flex"},o.a.createElement("div",{className:"bold"},o.a.createElement(U.a,{status:"success"})," ",null===e||void 0===e?void 0:e.created_at),o.a.createElement("div",{className:"text-danger px-3"},H[null===e||void 0===e?void 0:e.booking_status]))),o.a.createElement("div",{className:""},o.a.createElement(F.a,{onClick:function(){x(e),l(!u)},color:"green",className:"cursor_point normal_font_size p-2"},"View Detail"))))})))),o.a.createElement(G.a,{visible:u,footer:null,onCancel:function(){l(!u)}},o.a.createElement(i.Suspense,{fallback:o.a.createElement(J.a,{active:!0})},o.a.createElement(W,{data:E}))))})}}]);
//# sourceMappingURL=6.a8512253.chunk.js.map