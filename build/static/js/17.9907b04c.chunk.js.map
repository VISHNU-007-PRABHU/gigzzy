{"version":3,"sources":["image sync /^/step.*/.png$","image/step0.png","image/step1.png","image/step2.png","image/step3.png","image/step4.png","image/step5.png","component/User/Book/contract/ContractSteper.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","Step","Steps","original_steps","title","content","status","layout","offset","span","ProjectDetail","React","lazy","ProjectBudget","ProjectImages","Form","create","props","form","useReactRouter","history","match","useState","add_address","set_add_address","page_loading","set_page_loading","address_id","set_address_id","current","setCurrent","user_id","set_user_id","contract_detail_data","set_contract_detail","user_all_address","set_user_all_address","stepsdetail","setSteps","useMutation","UPDATE_CONTRACT","update_contract","contract_detail","loading","useQuery","GET_CONTRACT","address_from","setaddress_from","useEffect","a","localStorage","getItem","JSON","parse","_id","params","refetch","contract_id","finaldata","data","get_contracts","current_page","db_current_page","parseInt","Number","stepperIcon","item","src","require","className","get_contract_category","category_type","subCategory_name","category_name","size","labelPlacement","key","icon","name","fallback","active","customform","hide_common_upload","md","Provider","value","location_change","popup_closed","popup_closed_option","type","onClick","location_edit","no_data","visible","gutter","ghost","push","pathname","button_prev_text","validateFields","err","values","input_data","Alert_msg","msg","findIndex","variables","final_data","console","log","all_completed","message","success","newItems","index","button_next_text"],"mappings":"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","file":"static/js/17.9907b04c.chunk.js","sourcesContent":["var map = {\n\t\"./step0.png\": 2032,\n\t\"./step1.png\": 2033,\n\t\"./step2.png\": 2034,\n\t\"./step3.png\": 2035,\n\t\"./step4.png\": 2036,\n\t\"./step5.png\": 2037\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 2031;","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAPCAYAAAAGRPQsAAAABHNCSVQICAgIfAhkiAAAANRJREFUOE/tkuENgjAQhXsT6Ag6gTiBjuAIOoFxAsomjqAbwATiBrqBG9T3kkKg3jX4nyYXQo/39fF6EkJonXMb1HCdROSa7PWvhqYSNIIiIkiF4ZDG0DQWzDLlALM0JuwN2ksjgrX/11kFkc9kpkVzp+UjRKsoXOJ5RrWAbTOwA3pF0r9JKgC8xt4Olb1RNQIFxhMfqA9qDYd8Tlo/zqiCO44Ff9kDxjmctCwYQcyxjNAOxiwvFlmFRXc+wkZaztkM0xPAjXIweauLwRdPRJYOa9/+AvtAZJ66X6pWAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAPCAYAAAAGRPQsAAAABHNCSVQICAgIfAhkiAAAANRJREFUOE/tkuENgjAQhXsT6Ag6gTiBjuAIOoFxAsomjqAbwATiBrqBG9T3kkKg3jX4nyYXQo/39fF6EkJonXMb1HCdROSa7PWvhqYSNIIiIkiF4ZDG0DQWzDLlALM0JuwN2ksjgrX/11kFkc9kpkVzp+UjRKsoXOJ5RrWAbTOwA3pF0r9JKgC8xt4Olb1RNQIFxhMfqA9qDYd8Tlo/zqiCO44Ff9kDxjmctCwYQcyxjNAOxiwvFlmFRXc+wkZaztkM0xPAjXIweauLwRdPRJYOa9/+AvtAZJ66X6pWAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAATCAYAAACk9eypAAAABHNCSVQICAgIfAhkiAAAATdJREFUKFN9k41RAkEMhd0OtIOzArECtQKlAo8K5CoQKvCsQOgAKgAqkA6UCsQK1u/dJDdhhzMzmUvevpdkfy5dmOWcLwmf8RofGbzn26aUls5LCiCL8BGIvu7fLcEY4TFZ5U0gq5oI6niPP5pqhWAswRTgzUBVWYGJmIl3xfqDBJrzBl9CqEOuGguwyQmHJFv1Cd9vXONFuybRFC/4Th1c0ACoWym4AptFgTZ4h3ebQr8g1vHK5niLf+IVvlaHSJgiegfT4tFEOpDa4kYCJboDN42lrrInq+xrt34PP0EwFB7oXvlNx7GGBA2CNj4NbWzIfjVa9zScUWy+FM4hzwRGQUX+dabFAWyk6icCJXRRlddC1L0vx/oOYTR/W4LWkHW0vZ0T6N/QAfQb/Vdgo+mx7am+Lff0By1fi6/SK19OAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAOCAYAAADwikbvAAAABHNCSVQICAgIfAhkiAAAAH1JREFUKFNj/A8EDCQARiCAKWeku2aghQeAtheQZTPUtY4jUjMszqAhaA/kXwRifyBWwBH9IPEFQOwIj3CoZgGoxg1A2oBA2kHRPAGouAGIQQag25oAFIuHGuYIpS/AbSaUQoEuAzk1HiV5EtKELA8yAKgZ5AowINpmbJYAALy7UvQ5VSNWAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAUCAYAAABmvqYOAAAABHNCSVQICAgIfAhkiAAAAVhJREFUOE+tlYtRwkAQhu8q0A6kBKjAUIGhAqEDrEA6QCsQKhAqMCXQgdqBVhC/P7OXiTcil0tuZieTe3y7++89fF3XB+fcHTZGO3jvFwHkgdf8PGCngfQp67fAfQyfG/ye73WmkwnrltgG+8L2IXLB5VkDQzNQbA2rCy/oKMhK30ENpSsA1SA4EMmwNRkWBNZkPRZc2l5ZmkfgZW84kUxDVF296P/g/8b69sxRJumRA1ANXrF57EBOVTiTZc24MukFV3FuMUU5C4D/Kp6kuRXspQOqgGvb/tmYv5M0F+FM0GF6x+JD9QxgHWmvOQqi1AlNgUvLxzNBrmDsTF+B3zDp7y7C8TyxqM8poMItbVBO2uxS4BULVMTeLQWumzKrxXClGAr3qbvFruFR4AWUYCqI4CpmVmP9pt0tgWBAvUi/tlmWB+eeWHdsXw075nrywkWUyW2WfWPlD6vW/x+0qGIPAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAPCAYAAADgbT9oAAAABHNCSVQICAgIfAhkiAAAALFJREFUOE9j/P///wcGBgZ+IKYmMGQEGvyfmiZCzXIEGexAA4MvgAw+ADSY2q4upGlQUNu1oJAFhzElBjeixU8BNIWhGLwQKPiAiIhUAKqJB6ljBAJk9dD4skd38QISDE6AGtiAxcUC1AgKXB5ECYqLQFWgXIgOQF6Xx2HCQTRxA2xhDAr4C1gMAHkb5nV0aQc0AVBwghxCcaogKihwKSJHHOziDUCd/uToxqHnIVDcAQAZqlEzN/1i9gAAAABJRU5ErkJggg==\"","import React, { useState, useEffect, Suspense } from 'react'\r\nimport { Icon, Button, message, Steps, Form, Skeleton, Modal, Row, Col } from 'antd';\r\nimport { Alert_msg } from '../../../Comman/alert_msg';\r\nimport { useMutation, useQuery } from '@apollo/react-hooks';\r\nimport { UPDATE_CONTRACT, GET_CONTRACT } from '../../../../graphql/User/contract';\r\nimport SetAddress from '../SetAddress';\r\nimport useReactRouter from 'use-react-router';\r\n\r\nimport { LocationContext,EditLocationContext } from '../../../context/Location'\r\nimport Address from \"../Address\";\r\nimport findIndex from 'lodash/findIndex';\r\nimport size from 'lodash/size';\r\nimport { CurrentCallContext } from 'twilio/lib/rest/preview/trusted_comms/currentCall';\r\nconst { Step } = Steps;\r\nconst original_steps = [\r\n    {\r\n        id: 1,\r\n        title: 'First',\r\n        content: 'Project Details',\r\n        status: \"wait\"\r\n    },\r\n    {\r\n        id: 2,\r\n        title: 'Second',\r\n        content: 'Project Location',\r\n        status: \"wait\"\r\n    },\r\n    {\r\n        id: 3,\r\n        title: 'Last',\r\n        content: 'Budget',\r\n        status: \"wait\"\r\n    },\r\n    {\r\n        id: 4,\r\n        title: 'final',\r\n        content: 'Document',\r\n        status: \"wait\"\r\n    },\r\n    {\r\n        id: 5,\r\n        title: 'preview',\r\n        content: 'Post Preview',\r\n        status: \"process\"\r\n    }\r\n];\r\n\r\nconst layout = { offset: 8, span: 16 };\r\nconst ProjectDetail = React.lazy(() => import('./ProjectDetail'));\r\nconst ProjectBudget = React.lazy(() => import('./ProjectBudget'));\r\nconst ProjectImages = React.lazy(() => import('./ProjectImages'));\r\nconst PostProjectSuccess = React.lazy(() => import('./PostProjectSuccess'));\r\n\r\nfunction ContractSteper(props) {\r\n    const { form } = props;\r\n    const { history, match } = useReactRouter();\r\n    const [add_address, set_add_address] = useState(false);\r\n    const [page_loading, set_page_loading] = useState(true);\r\n    const [address_id, set_address_id] = useState(\"\");\r\n    const [current, setCurrent] = useState(0);\r\n    const [contract_id, set_contract_id] = useState(\"\");\r\n    const [user_id, set_user_id] = useState(\"\");\r\n    const [contract_detail_data, set_contract_detail] = useState({});\r\n    const [user_all_address, set_user_all_address] = useState([]);\r\n    const [stepsdetail, setSteps] = useState(original_steps);\r\n    const [update_contract, { loading: removeLoading }] = useMutation(UPDATE_CONTRACT)\r\n    const contract_detail = useQuery(GET_CONTRACT);\r\n    const [address_from, setaddress_from] = useState({});\r\n\r\n    useEffect(async () => {\r\n        if (localStorage.getItem('user')) {\r\n            set_user_id(JSON.parse(localStorage.getItem(\"user\"))._id)\r\n        }\r\n        if (match.params.id) {\r\n            let finaldata = await contract_detail.refetch({ contract_id: match.params.id })\r\n            finaldata.data.get_contracts[0].current_page = finaldata.data.get_contracts[0].current_page || -1\r\n            var db_current_page = parseInt(finaldata.data.get_contracts[0].current_page)+1\r\n                \r\n            let update_steps = original_steps.map(data => {\r\n                if(db_current_page>=data.id)\r\n                {\r\n                    return data.status = \"finish\"\r\n                }\r\n            })\r\n            // setSteps(update_steps)\r\n            \r\n            set_contract_detail(finaldata.data.get_contracts[0])\r\n            set_address_id(finaldata.data.get_contracts[0]?.address_id)\r\n            setCurrent(Number(finaldata.data.get_contracts[0].current_page) + 1)\r\n            set_page_loading(false)\r\n            \r\n        }\r\n    }, [match.params.id])\r\n    const next = (id) => {\r\n        const { form } = props;\r\n        form.validateFields(async (err, values) => {\r\n            if (!err) {\r\n                let input_data = {}\r\n                if (match.params.id) {\r\n                    input_data['_id'] = match.params.id\r\n                }\r\n                values['current_page'] = (current>=4)?4:current\r\n                switch (current) {\r\n                    case 2:\r\n                        if ((!values['budget'] || values['budget']<=0 )) {\r\n                            Alert_msg({ status: 'failed', msg: \"Please Enter the budget\" })\r\n                            return false\r\n                        }\r\n                        if(values['timeline_type']==\"2\" || values['timeline_type']==\"3\")\r\n                        {\r\n                            if(values['timeline']<=0)\r\n                            {\r\n                                Alert_msg({ status: 'failed', msg: \"Enter Timeline more than 1\" })\r\n                                return false\r\n                            }\r\n                        }\r\n                        break;\r\n                    case 1:\r\n                        if (address_id==\"\" || address_id==null) {\r\n                            Alert_msg({ status: 'failed', msg: \"Select any one address\" })\r\n                            return false\r\n                        } \r\n                        else if (address_id) {\r\n                            let index = findIndex(user_all_address, ['_id', address_id]);\r\n                            if(index==-1)\r\n                            {\r\n                                Alert_msg({ status: 'failed', msg: \"Select any one address\" })\r\n                                return false;\r\n                            }\r\n                            else\r\n                            {\r\n                                values['address_id'] = address_id\r\n                            }\r\n                        }\r\n                        break;\r\n                    case 5:\r\n                        values['contract_status'] = \"12\"\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n                if (values && size(values)) {\r\n                    input_data['contract_data'] = [values]\r\n                }\r\n                let final_data = await update_contract({ variables: input_data });\r\n                Alert_msg(final_data.data.update_contract)\r\n                console.log(current)\r\n                if(current === 5 || current === 6)\r\n                {\r\n                    let all_completed = original_steps.map(data => {\r\n                        return data.status = \"finish\"\r\n                    })\r\n                    setSteps(all_completed)\r\n                    setCurrent(4);\r\n                    message.success('Processing complete!')\r\n                    history.push({ pathname: `/contract/view/${match.params.id}` })\r\n                }\r\n                else {\r\n                    const newItems = [...stepsdetail];\r\n                    let index = findIndex(newItems, ['id', current+1]);\r\n                    newItems[index]['status'] = \"finish\";\r\n                    setSteps(newItems)\r\n                    setCurrent(current + 1);\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const prev = () => {\r\n        if (current === 0) {\r\n            history.push({ pathname: `/bookings` })\r\n        } else {\r\n            setCurrent(current - 1);\r\n        }\r\n    }\r\n    const done = () => {\r\n        let all_completed = original_steps.map(data => {\r\n            return data.status = \"finish\"\r\n        })\r\n        setSteps(all_completed)\r\n        setCurrent(4);\r\n\r\n        message.success('Processing complete!')\r\n    }\r\n \r\n    const edit_location = (item) => {\r\n        setaddress_from(item)\r\n        set_add_address(true);\r\n    }\r\n    const all_address = (data) => {\r\n        set_user_all_address(data);\r\n    }\r\n    const on_popup_closed = () => {\r\n        set_add_address(false);\r\n    }\r\n    const on_location_change = (item) => {\r\n        set_address_id(item._id);\r\n    }\r\n    const stepperIcon = (item) =>{\r\n        return <img src={require('../../../../image/step'+item.id+'.png')}/>;\r\n    }\r\n    const button_prev_text = (item) =>{\r\n        switch(item) {\r\n            case 0:\r\n                return \"Cancel\";\r\n          default:\r\n            return \"Back\";\r\n        }\r\n    }\r\n    const button_next_text = (item) =>{\r\n        switch(item) {\r\n            case 3:\r\n                return \"Save and Preview\";\r\n            case 4:\r\n                return \"Publish\";\r\n            case 5:\r\n                return \"Publish\";\r\n          default:\r\n            return \"Next\";\r\n        }\r\n    }\r\n    return (\r\n        \r\n        <div>\r\n        { !page_loading && <>    \r\n            <h4 className=\"text-center mb-5\">\r\n                {(contract_detail_data?.get_contract_category?.[0]?.category_type==2)?contract_detail_data?.get_contract_category?.[0]?.subCategory_name:contract_detail_data?.get_contract_category?.[0]?.category_name}\r\n            </h4>\r\n            <Steps size=\"large\" className=\"contract_steper\" labelPlacement=\"vertical\" current={current}>\r\n                {stepsdetail && stepsdetail.map(item =>\r\n                    <Step key={item.title} status={item.status} icon={stepperIcon(item)} title={item.content} />\r\n                )}\r\n            </Steps>\r\n            <div className=\"d-flex justify-content-center my-5\">\r\n                <Form  {...layout} name=\"nest-messages\" className=\"w-100\">\r\n                    <Suspense fallback={<Skeleton active />}>\r\n                        <div className={current === 4 || current === 5 ? '' : 'd-none'}>\r\n                            <h4 className=\"text-center\">Review and publish your project</h4>\r\n                            <ProjectDetail contract_detail_data={contract_detail_data} current={current} customform={form} />\r\n                            <ProjectBudget contract_detail_data={contract_detail_data} current={current} customform={form} />\r\n                            <ProjectImages hide_common_upload={true} contract_detail_data={contract_detail_data} current={current} customform={form} />\r\n                        </div>\r\n                        <div className={current === 3 ? 'contract_images_section' : 'd-none'}>\r\n                            <Col md={{ span: 18, offset: 3 }}>\r\n                                <ProjectImages contract_detail_data={contract_detail_data} current={current} customform={form} />\r\n                            </Col>\r\n                        </div>\r\n                        <div className={current === 2 ? '' : 'd-none'}>\r\n                            <Col md={{ span: 18, offset: 3 }}>\r\n                                <ProjectBudget contract_detail_data={contract_detail_data} current={current} customform={form} />\r\n                            </Col>\r\n                        </div>\r\n                        <div className={current === 0 ? '' : 'd-none'}>\r\n                            <Col md={{ span: 18, offset: 3 }}>\r\n                                <ProjectDetail contract_detail_data={contract_detail_data} current={current} customform={form} />\r\n                            </Col>\r\n                        </div>\r\n                        <div className={current === 1 ? '' : 'd-none'}>\r\n                            <LocationContext.Provider value={{\r\n                                location_change: on_location_change,\r\n                                popup_closed: on_popup_closed,\r\n                                popup_closed_option:true\r\n                            }}>\r\n                                <Button type=\"primary\" className=\"mb-3 h-50x\" onClick={() => {setaddress_from({}); set_add_address(true) }}>\r\n                                    <div className=\"normal_font_size d-flex justify-content-around align-items-center\">\r\n                                        <div className=\"mr-3\">\r\n                                            Add New Address\r\n                                        </div>\r\n                                        <Icon type=\"plus\" />\r\n                                    </div>\r\n                                </Button>\r\n                                <h4 className=\"text-center mb-5\">My Saved Address</h4>\r\n                                <Col md={{ span: 18, offset: 3 }} className=\"extra_radius_input shadow-lg\">\r\n                                    <EditLocationContext.Provider value={{ location_edit: edit_location,no_data:all_address}}>\r\n                                        <SetAddress user_id={user_id} address_id={address_id} />\r\n                                    </EditLocationContext.Provider>\r\n                                </Col>\r\n                                <Address address_from={address_from} visible={add_address}  />\r\n                            </LocationContext.Provider>\r\n                        </div>\r\n                    </Suspense>\r\n                    \r\n                </Form>\r\n            </div>\r\n            <div className=\"steps-action justify-content-between d-flex mb-5\">\r\n                <Col md={{ span: 18, offset: 3 }}>\r\n                    <Row gutter={[12, 24]} >\r\n                        <Col md={12}>\r\n                            <Button type=\"primary\" ghost className=\"contract_actions w-100\" onClick={() => prev()}>\r\n                                {button_prev_text(current)}\r\n                            </Button>\r\n                        </Col>\r\n                        <Col md={12}>\r\n                            <Button type=\"primary\" className=\"contract_actions w-100\" onClick={() => next()}>\r\n                                {button_next_text(current)}\r\n                            </Button>\r\n                        </Col>\r\n                    </Row>\r\n                </Col>\r\n            </div>\r\n            </>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Form.create()(ContractSteper);\r\n"],"sourceRoot":""}