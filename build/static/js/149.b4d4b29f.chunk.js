(window.webpackJsonp=window.webpackJsonp||[]).push([[149],{1370:function(e,t,a){e.exports=a.p+"static/media/bookLater.3e207467.png"},1979:function(e,t,a){"use strict";a.r(t);var n=a(709),c=a.n(n),r=a(990),o=a(712),i=a(148),l=a(0),s=a.n(l),u=a(979),d=a(1220),m=a.n(d),b=a(682),f=a(1071),p=a.n(f),v=a(901),_=a.n(v),g=a(1204),j=a.n(g),O=(a(1370),s.a.lazy(function(){return a.e(148).then(a.bind(null,1984))}));t.default=s.a.memo(function(e){var t=_()(),a=t.history,n=(t.match,Object(l.useState)("61306d9257602fcea82c5fb3")),d=Object(i.a)(n,2),f=d[0],v=d[1],g=Object(l.useState)(1),w=Object(i.a)(g,2),E=w[0],h=w[1],S=Object(l.useState)(0),x=Object(i.a)(S,2),N=(x[0],x[1]),k=Object(l.useState)(10),y=Object(i.a)(k,2),I=y[0],J=(y[1],Object(l.useState)(!1)),z=Object(i.a)(J,2),C=z[0],L=z[1],M=Object(l.useState)(!1),D=Object(i.a)(M,2),G=D[0],W=D[1],q=Object(l.useState)([]),A=Object(i.a)(q,2),B=A[0],F=A[1],H=Object(b.b)(u.i,{variables:{limit:I,page:E,user_id:f,role:1}});Object(l.useEffect)(function(){console.log(H),localStorage.getItem("user")?v("61306d9257602fcea82c5fb3"):v(JSON.parse(localStorage.getItem("user"))._id),K()},[localStorage.getItem("user")]);var K=function(){var e=Object(o.a)(c.a.mark(function e(){var t,a,n,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return W(!0),t={limit:I,page:E,user_id:f,role:1},e.next=4,H.refetch(t);case 4:(a=e.sent).data&&a.data.get_contracts_pagination&&(n=a.data.get_contracts_pagination.pageInfo.totalDocs,o=[].concat(Object(r.a)(B),Object(r.a)(a.data.get_contracts_pagination.data)),F(o.reverse()),N(n),W(!1),n&&n>E*I?(h(E+1),L(!0)):L(!1));case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(o.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:C&&K();case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return s.a.createElement("div",{className:"booking_infinite_container"},!B&&s.a.createElement(l.Suspense,null,s.a.createElement(O,null)),s.a.createElement(j.a,{initialLoad:!1,pageStart:1,loadMore:P,hasMore:C,useWindow:!0},G&&s.a.createElement("div",{className:"d-flex justify-content-center my-4"},s.a.createElement(p.a,null)),B.map(function(t){var n;return s.a.createElement(m.a.Grid,{key:t._id,hoverable:!1,className:"p-0 w-100 col-12 col-sm-6 cursor_point box_shadow_none"},s.a.createElement("div",{className:"d-flex justify-content-between m-2 border br_10",onClick:function(){!function(t){e.view_booking&&e.view_booking(!0,t._id),a.push("/contract/user_view/".concat(t._id))}(t)}},s.a.createElement("div",{className:"d-flex flex-column w-100 justify-content-around px-2"},s.a.createElement("div",{className:"normal_font_size bold"},t.name),s.a.createElement("div",null,t.contract_ref),s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("div",null,t.created_at),s.a.createElement("div",null,t.budget))),s.a.createElement("div",{className:"position-relative"},s.a.createElement("img",{className:"br_10",height:"90",width:"100",alt:"",src:null===t||void 0===t?void 0:null===(n=t.get_contract_all_files[0])||void 0===n?void 0:n.small_image}),s.a.createElement("div",{className:"contract_tag"},"Contract"))))})))})}}]);
//# sourceMappingURL=149.b4d4b29f.chunk.js.map