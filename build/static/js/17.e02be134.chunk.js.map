{"version":3,"sources":["image/bookLater.png","component/User/Book/Appointments.js"],"names":["module","exports","__webpack_require__","p","AppiontmentsEmpty","React","lazy","e","then","bind","memo","props","_useState","useState","_useState2","Object","_home_waioz_gigzzy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","user_id","set_user_id","useEffect","localStorage","getItem","JSON","parse","_id","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","react_apollo__WEBPACK_IMPORTED_MODULE_2__","query","My_APPOINTMENTS","variables","limit","page","role","booking_status","Number","status","fetchPolicy","pollInterval","_ref","loading","error","data","startPolling","stopPolling","antd_lib_skeleton__WEBPACK_IMPORTED_MODULE_8___default","concat","console","log","Fragment","antd_lib_card__WEBPACK_IMPORTED_MODULE_7___default","className","extra","antd_lib_pagination__WEBPACK_IMPORTED_MODULE_9___default","simple","current","onChange","pagesize","handleInfiniteOnLoad","total","get_my_appointments","pageInfo","totalDocs","title","heading","length","map","_data$booking_categor","_data$booking_categor2","_data$booking_categor3","_data$booking_categor4","_data$booking_categor5","_data$booking_categor6","_data$booking_categor7","Grid","onClick","view_booking","antd_lib_row__WEBPACK_IMPORTED_MODULE_5___default","antd_lib_col__WEBPACK_IMPORTED_MODULE_6___default","xs","sm","booking_ref","booking_type","antd_lib_tooltip__WEBPACK_IMPORTED_MODULE_10___default","placement","src","timer_icon","alt","height","antd_lib_badge__WEBPACK_IMPORTED_MODULE_4___default","count","user_msg_count","style","fontSize","booking_category","category_type","category_name","subCategory_name","booking_date","base_price","borderRadius","boxShadow","width","img_url","booking_parent_category","react__WEBPACK_IMPORTED_MODULE_1__","fallback"],"mappings":"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","file":"static/js/17.e02be134.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bookLater.3e207467.png\";","import React, { Suspense,useState,useEffect } from 'react'\nimport { Query } from \"react-apollo\";\nimport { My_APPOINTMENTS } from '../../../graphql/User/booking';\nimport Badge from 'antd/lib/badge';\nimport Row from 'antd/lib/row';\nimport Col from 'antd/lib/col';\nimport Card from 'antd/lib/card';\nimport Skeleton from 'antd/lib/skeleton';\nimport Pagination from 'antd/lib/pagination';\nimport Tooltip from 'antd/lib/tooltip';\nimport timer_icon from '../../../image/bookLater.png';\nconst AppiontmentsEmpty = React.lazy(() => import('./AppiontmentsEmpty'));\nfunction Appointments(props) {\n    const [user_id, set_user_id] = useState('');\n  \n    useEffect(() => {\n        if(localStorage.getItem('user')){\n            set_user_id(JSON.parse(localStorage.getItem('user'))._id,)\n        }else{\n            set_user_id('6136fd283765fd3febbcc435')\n        }\n    }, [localStorage.getItem('user')])\n    return (\n        <Query\n            query={My_APPOINTMENTS}\n            variables={{\n                limit: 10,\n                page: props.page,\n                _id:user_id,\n                role: 1,\n                booking_status: Number(props.status)\n            }}\n            fetchPolicy='no-cache'\n            pollInterval={25000}\n        >\n            {({ loading, error, data, startPolling, stopPolling }) => {\n                if (loading) return <Skeleton />;\n                if (error) return `Error! ${error}`;\n                console.log(data);\n                const handleInfiniteOnLoad = (page, pagesize) => {\n                    props.handleInfiniteOnLoad(page);\n                }\n                return (\n                    <>\n                        <Card\n                            className=\"row m-0 booking_view booking_view_showdow\"\n                            extra={\n                                <Pagination\n                                    simple={true}\n                                    current={props.page}\n                                    onChange={(page) => { handleInfiniteOnLoad(page) }}\n                                    total={data.get_my_appointments.pageInfo.totalDocs} />\n                            }\n                            title={props.heading}\n                            loading={loading}>\n                            {data.get_my_appointments.data.length > 0 ?\n                                <>\n                                    {data.get_my_appointments.data.map(data => (\n                                        <Card.Grid className='p-1 w-100 col-12 col-sm-6 cursor_point'>\n                                            <div className=\"\" onClick={() => { props.view_booking(true, data._id) }}>\n                                                <Row>\n                                                    <Col xs={24} sm={24} className=\"d-flex justify-content-between\">\n                                                        <div className=\"d-block\">\n                                                            <div>{data.booking_ref}\n                                                                {data?.booking_type === 2 && data?.booking_status === 10 ?\n                                                                    <Tooltip placement=\"right\" title='Booking Later'>\n                                                                        <span className=\"primary_color mx-2\">\n                                                                            <img src={timer_icon} alt=\"\" height='18' />\n                                                                        </span>\n                                                                    </Tooltip>\n                                                                    : \"\"}\n                                                                <Badge className=\"px-1\" count={data?.user_msg_count} />\n                                                            </div>\n                                                            <div className=\"bold\" style={{ fontSize: '16px' }}>\n                                                                {data.booking_category[0]?.category_type === 1 ? data.booking_category[0]?.category_name : data.booking_category[0]?.subCategory_name}\n                                                            </div>\n                                                            <div className=\"m-0\">\n                                                                {data.booking_date}\n                                                            </div>\n                                                            <div className=\"primary_color\">\n                                                                {data.base_price}\n                                                            </div>\n                                                        </div>\n                                                        <div>\n                                                            <img style={{ borderRadius: '1em', boxShadow: '1px 1px 9px grey' }} height=\"90\" width=\"100\" alt='' src={data.booking_category[0]?.category_type === 1 ? data.booking_category[0]?.img_url : data.booking_category[0]?.booking_parent_category[0]?.img_url} />\n                                                        </div>\n                                                    </Col>\n                                                </Row>\n                                            </div>\n                                        </Card.Grid>\n                                    ))\n                                    }</> :\n                                <>\n                                    <Suspense fallback={<Skeleton />}>\n                                        <AppiontmentsEmpty />\n                                    </Suspense>\n                                </>\n                            }\n                        </Card>\n                    </>\n                );\n            }}\n        </Query >\n    )\n};\n\n\nexport default React.memo(Appointments);"],"sourceRoot":""}