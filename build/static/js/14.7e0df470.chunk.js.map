{"version":3,"sources":["component/Admin/Roles/AdminRoles.js"],"names":["AdminRoles","props","_this","Object","_home_waioz_gigzzy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","this","_super","call","handleTableChange","_ref","_home_waioz_gigzzy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","_home_waioz_gigzzy_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","pagination","pager","wrap","_context","prev","next","_home_waioz_gigzzy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__","current","setState","loading","client","query","GET_ADMIN_ROLES","variables","limit","pageSize","page","role","fetchPolicy","then","result","console","log","data","state","total","get_admin_roles","pageInfo","totalDocs","dataSource","stop","_x","apply","arguments","fetch_user","_ref2","_callee2","visible","_context2","_x2","search_user","simple","_this2","columns","title","width","render","text","record","react__WEBPACK_IMPORTED_MODULE_7___default","createElement","name","className","style","wordBreak","key","dataIndex","length","onClick","history","push","concat","_id","antd__WEBPACK_IMPORTED_MODULE_11__","type","theme","twoToneColor","antd__WEBPACK_IMPORTED_MODULE_12__","onConfirm","handleDelete","antd_es_input_Search__WEBPACK_IMPORTED_MODULE_15__","size","placeholder","onKeyUp","event","onFilter","id","antd__WEBPACK_IMPORTED_MODULE_13__","rowClassName","onChange","React","Component","withRouter"],"mappings":"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","file":"static/js/14.7e0df470.chunk.js","sourcesContent":["import React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { GET_ADMIN_ROLES } from '../../../graphql/Admin/roles';\nimport { client } from \"../../../apollo\";\nimport { Table, Button, Icon, Popconfirm } from 'antd';\nimport { Alert_msg } from '../../Comman/alert_msg';\nimport Search from \"antd/es/input/Search\";\nclass AdminRoles extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            dataSource: [],\n            search_user: [],\n            loading: false,\n            pagination: {\n                pageSize: 10,\n                current: 1,\n                total: 0,\n                simple: true,\n            }\n        };\n    }\n    componentDidMount() {\n        this.fetch_user();\n    }\n    handleTableChange = async pagination => {\n        const pager = { ...pagination };\n        pager.current = pagination.current;\n        this.setState({ loading: true });\n\n        await client.query({\n            query: GET_ADMIN_ROLES,\n            variables: { limit: pager.pageSize, page: pager.current, role: \"1\" },\n            fetchPolicy: 'no-cache',\n        }).then(result => {\n            console.log(result.data);\n            const pagination = { ...this.state.pagination };\n            pagination.total = result.data.get_admin_roles.pageInfo.totalDocs;\n            pagination.current = result.data.get_admin_roles.pageInfo.page;\n            console.log(pagination);\n            this.setState({ pagination, loading: false, dataSource: result.data.get_admin_roles.data });\n        });\n    };\n\n    fetch_user = async (visible) => {\n        this.setState({ loading: true });\n\n        await client.query({\n            query: GET_ADMIN_ROLES,\n            variables: { limit: this.state.pagination.pageSize, page: this.state.pagination.current, role: \"1\" },\n            fetchPolicy: 'no-cache',\n        }).then(result => {\n            const pagination = { ...this.state.pagination };\n            pagination.total = result.data.get_admin_roles.pageInfo.totalDocs;\n            this.setState({ loading: false, pagination, dataSource: result.data.get_admin_roles.data });\n        });\n    }\n\n    // handleDelete = async (_id) => {\n    //     console.log(_id);\n    //     await client.mutate({\n    //         mutation: DELETE_USER,\n    //         variables: { _id: _id },\n    //     }).then((result, loading, error) => {\n    //         Alert_msg(result.data.deleteDetails);\n    //         if (result.data.deleteDetails.status === 'success') {\n    //             this.fetch_user();\n    //         }\n    //     });\n    // }\n\n    // onFilter = async (value) => {\n    //     console.log(value.target.value);\n    //     var datas = { delete: 0, role: 1, $or: [{ 'name': { $regex: '.*' + value.target.value + '.*',$options:'i'  } }, { 'email': { $regex: '.*' + value.target.value + '.*',$options:'i'  } }, { 'phone_no': { $regex: '.*' + value.target.value + '.*',$options:'i'  } }] }\n    //     await client.query({\n    //         query: USER_EMAIL_QUERY,\n    //         variables: { data: datas },\n    //         fetchPolicy: 'no-cache',\n    //     }).then(result => {\n    //         this.setState({ dataSource: result?.data?.user_search });\n    //     });\n    // }\n    render() {\n        const { dataSource } = this.state;\n\n        const columns = [\n            {\n                title: \"Roles Name\",\n                width: '20%',\n                render: (text, record) => {\n                    return <span title=\"Roles Name\">{record?.name}</span>;\n                }\n\n            },\n            {\n                title: () => {\n                    return <div>\n                        <div className=\"d-block\">\n                            <div>\n                                Key Roles\n                             </div>\n                        </div>\n                    </div>\n                },\n                width: '20%',\n                render: (text, record) => {\n                    return <span title=\"Key Roles\" style={{ wordBreak: \"keep-all\" }}>{record?.key}</span>;\n                }\n\n            },\n            {\n                title: \"Action\",\n                dataIndex: 'operation',\n                render: (text, record) =>\n                    this.state.dataSource.length >= 1 ? (\n                        <span title=\"....\" className=\"d-flex d-sm-inline justify-content-around\">\n                            <span className='cursor_point' onClick={() => { this.props.history.push(`/admin-user/add/${record._id}`); }}><Icon type=\"edit\" theme=\"twoTone\" twoToneColor=\"#52c41a\" className='mx-3 f_25' /></span>\n                            <Popconfirm title=\"Sure to delete the user ?\" onConfirm={() => this.handleDelete(record._id)}>\n                                <Icon type=\"delete\" theme=\"twoTone\" twoToneColor=\"#52c41a\" className='f_25' />\n                            </Popconfirm>\n                        </span>\n                    ) : null,\n            },\n        ];\n\n\n        return (\n            <div>\n                <div className='mx-2 mx-sm-0 mb-3'>\n                    <Search size=\"large\" placeholder=\"search\" onKeyUp={(event) => { this.onFilter(event) }} loading={false} />\n                </div>\n                <div id=\"no-more-tables\">\n                    <Table\n                        rowClassName={() => 'editable-row'}\n                        className='table_shadow'\n                        dataSource={dataSource}\n                        columns={columns}\n                        size=\"middle\"\n                        pagination={this.state.pagination}\n                        onChange={this.handleTableChange}\n                        loading={this.state.loading}\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(AdminRoles);"],"sourceRoot":""}