(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{1929:function(e,t,n){e.exports=n(1930)},1930:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(1),s=i(r),a=i(n(2));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.scrollListener=n.scrollListener.bind(n),n.eventListenerOptions=n.eventListenerOptions.bind(n),n.mousewheelListener=n.mousewheelListener.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),o(t,[{key:"componentDidMount",value:function(){this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()}},{key:"componentDidUpdate",value:function(){if(this.props.isReverse&&this.loadMore){var e=this.getParentElement(this.scrollComponent);e.scrollTop=e.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()}},{key:"componentWillUnmount",value:function(){this.detachScrollListener(),this.detachMousewheelListener()}},{key:"isPassiveSupported",value:function(){var e=!1,t={get passive(){e=!0}};try{document.addEventListener("test",null,t),document.removeEventListener("test",null,t)}catch(n){}return e}},{key:"eventListenerOptions",value:function(){var e=this.props.useCapture;return this.isPassiveSupported()&&(e={useCapture:this.props.useCapture,passive:!0}),e}},{key:"setDefaultLoader",value:function(e){this.defaultLoader=e}},{key:"detachMousewheelListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.scrollComponent.parentNode),e.removeEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture)}},{key:"detachScrollListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.getParentElement(this.scrollComponent)),e.removeEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),e.removeEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture)}},{key:"getParentElement",value:function(e){var t=this.props.getScrollParent&&this.props.getScrollParent();return null!=t?t:e&&e.parentNode}},{key:"filterProps",value:function(e){return e}},{key:"attachScrollListener",value:function(){var e=this.getParentElement(this.scrollComponent);if(this.props.hasMore&&e){var t=window;!1===this.props.useWindow&&(t=e),t.addEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture),t.addEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),t.addEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}}},{key:"mousewheelListener",value:function(e){1!==e.deltaY||this.isPassiveSupported()||e.preventDefault()}},{key:"scrollListener",value:function(){var e=this.scrollComponent,t=window,n=this.getParentElement(e),o=void 0;if(this.props.useWindow){var r=document.documentElement||document.body.parentNode||document.body,s=void 0!==t.pageYOffset?t.pageYOffset:r.scrollTop;o=this.props.isReverse?s:this.calculateOffset(e,s)}else o=this.props.isReverse?n.scrollTop:e.scrollHeight-n.scrollTop-n.clientHeight;o<Number(this.props.threshold)&&e&&null!==e.offsetParent&&(this.detachScrollListener(),this.beforeScrollHeight=n.scrollHeight,this.beforeScrollTop=n.scrollTop,"function"===typeof this.props.loadMore&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))}},{key:"calculateOffset",value:function(e,t){return e?this.calculateTopPosition(e)+(e.offsetHeight-t-window.innerHeight):0}},{key:"calculateTopPosition",value:function(e){return e?e.offsetTop+this.calculateTopPosition(e.offsetParent):0}},{key:"render",value:function(){var e=this,t=this.filterProps(this.props),n=t.children,o=t.element,r=t.hasMore,a=(t.initialLoad,t.isReverse),i=t.loader,l=(t.loadMore,t.pageStart,t.ref),c=(t.threshold,t.useCapture,t.useWindow,t.getScrollParent,function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(t,["children","element","hasMore","initialLoad","isReverse","loader","loadMore","pageStart","ref","threshold","useCapture","useWindow","getScrollParent"]));c.ref=function(t){e.scrollComponent=t,l&&l(t)};var u=[n];return r&&(i?a?u.unshift(i):u.push(i):this.defaultLoader&&(a?u.unshift(this.defaultLoader):u.push(this.defaultLoader))),s.default.createElement(o,c,u)}}]),t}();l.propTypes={children:a.default.node.isRequired,element:a.default.node,hasMore:a.default.bool,initialLoad:a.default.bool,isReverse:a.default.bool,loader:a.default.node,loadMore:a.default.func.isRequired,pageStart:a.default.number,ref:a.default.func,getScrollParent:a.default.func,threshold:a.default.number,useCapture:a.default.bool,useWindow:a.default.bool},l.defaultProps={element:"div",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null},t.default=l,e.exports=t.default},2010:function(e,t,n){"use strict";n.r(t);var o=n(3),r=n.n(o),s=n(148),a=n(5),i=n(38),l=n(1),c=n.n(l),u=n(70),p=n(278),d=n.n(p),h=n(102),f=n(260),v=n.n(f),m=n(140),b=n.n(m),g=n(1929),w=n.n(g),_=(n(101),c.a.lazy(function(){return n.e(28).then(n.bind(null,2015))}));t.default=c.a.memo(function(e){var t=b()(),n=t.history,o=(t.match,Object(l.useState)("61306d9257602fcea82c5fb3")),p=Object(i.a)(o,2),f=p[0],m=p[1],g=Object(l.useState)(1),y=Object(i.a)(g,2),L=y[0],O=y[1],S=Object(l.useState)(0),E=Object(i.a)(S,2),j=(E[0],E[1]),k=Object(l.useState)(10),P=Object(i.a)(k,2),C=P[0],M=(P[1],Object(l.useState)(!1)),N=Object(i.a)(M,2),x=N[0],T=N[1],R=Object(l.useState)(!1),W=Object(i.a)(R,2),H=W[0],D=W[1],z=Object(l.useState)([]),I=Object(i.a)(z,2),J=I[0],Y=I[1],q=Object(l.useState)(9),U=Object(i.a)(q,2),G=U[0],A=U[1],B=Object(h.b)(u.i);Object(l.useEffect)(function(){localStorage.getItem("user")&&m(JSON.parse(localStorage.getItem("user"))._id),F()},[e]);var F=function(){var t=Object(a.a)(r.a.mark(function t(){var n,o,a,i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return D(!0),n={limit:C,page:L,booking_status:Number(e.parent_data.status),user_id:f,role:1},t.next=4,B.refetch(n);case 4:o=t.sent,D(!1),o.data&&o.data.get_contracts_pagination&&(a=o.data.get_contracts_pagination.pageInfo.totalDocs,console.log("fetch_data -> booking_status",G),G===e.parent_data.status?(i=[].concat(Object(s.a)(J),Object(s.a)(o.data.get_contracts_pagination.data)),Y(i.reverse())):Y(o.data.get_contracts_pagination.data),A(e.parent_data.status),j(a),a&&a>L*C?(O(L+1),T(!0)):T(!1));case 7:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),K=function(){var e=Object(a.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:x&&F();case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"booking_infinite_container"},!J.length&&c.a.createElement(l.Suspense,null,c.a.createElement(_,null)),c.a.createElement(w.a,{initialLoad:!1,pageStart:1,loadMore:K,hasMore:x,useWindow:!0},H&&c.a.createElement("div",{className:"d-flex justify-content-center my-4"},c.a.createElement(v.a,null)),J.map(function(t){var o;return c.a.createElement(d.a.Grid,{key:t._id,hoverable:!1,className:"p-0 w-100 col-12 col-sm-6 cursor_point box_shadow_none"},c.a.createElement("div",{className:"d-flex justify-content-between m-2 border br_10",onClick:function(){!function(t){e.view_booking&&e.view_booking(!0,t._id),n.push("/contract/user_view/".concat(t._id))}(t)}},c.a.createElement("div",{className:"d-flex flex-column w-100 justify-content-around px-2"},c.a.createElement("div",{className:"normal_font_size bold"},t.name),c.a.createElement("div",null,t.contract_ref),c.a.createElement("div",{className:"d-flex justify-content-between"},c.a.createElement("div",null,t.created_at),c.a.createElement("div",null,t.budget))),c.a.createElement("div",{className:"position-relative"},c.a.createElement("img",{className:"br_10",height:"90",width:"100",alt:"",src:null===t||void 0===t?void 0:null===(o=t.get_contract_all_files[0])||void 0===o?void 0:o.small_image}),c.a.createElement("div",{className:"contract_tag"},"Contract"))))})))})}}]);
//# sourceMappingURL=23.c61eec98.chunk.js.map