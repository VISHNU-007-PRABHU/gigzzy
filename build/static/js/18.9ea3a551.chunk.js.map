{"version":3,"sources":["graphql/User/contract.js","graphql/User/biding.js","graphql/User/milestone.js","component/Admin/Booking/ContractInvoice.js"],"names":["UPDATE_CONTRACT","gql","_templateObject","Object","_home_waioz_gigzzy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__","UPDATE_CONTRACT_FILE","_templateObject2","DELETE_CONTRACT_FILE","_templateObject3","GET_CONTRACT_FILES","_templateObject4","GET_CONTRACT","_templateObject5","GET_BIDING_PAGINATION","GET_BIDING_DETAIL","UPDATE_BIDING","GET_MILESTONE_PAGINATION","UPDATE_MILESTONE","C2B_CONTENT","React","lazy","__webpack_require__","e","then","bind","payment_status","0","50","9","10","11","4","13","14","milestone_payment_status","ContractInvoice","_booking_user$","_booking_category$","_booking_category$2","_booking_category$3","_booking_user$2","_booking_user$3","_booking_user$4","_booking_provider$","_booking_provider$2","_booking_provider$3","detectMobile","useMobileDetect","_useReactRouter","useReactRouter","match","history","_useState","useState","_useState2","_home_waioz_gigzzy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","booking_category","set_booking_category","_useState3","_useState4","booking_user","set_booking_user","_useState5","_useState6","booking_biding","set_booking_biding","_useState7","_useState8","booking_provider","set_booking_provider","_useState9","_useState10","booking","set_booking","_useState11","_useState12","booking_milestone","set_booking_milestone","_useState13","_useState14","mpeas_payment_callback","contract_detail","useQuery","get_biding_detail","get_biding_milestone","useEffect","fetch_contract","_ref","_home_waioz_gigzzy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_home_waioz_gigzzy_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","finaldata","accept_biding_data","accept_milestone_data","wrap","_context","prev","next","refetch","contract_id","params","id","sent","data","get_contracts","get_provider_user","get_user","get_contract_category","biding_id","_id","stop","apply","this","arguments","react__WEBPACK_IMPORTED_MODULE_3___default","createElement","Fragment","className","isMobile","href","antd__WEBPACK_IMPORTED_MODULE_4__","placement","title","antd__WEBPACK_IMPORTED_MODULE_5__","type","style","fontSize","src","main","alt","contract_ref","booking_date","antd__WEBPACK_IMPORTED_MODULE_6__","color","booking_status","payment_type","react__WEBPACK_IMPORTED_MODULE_3__","fallback","class","role","BusinessNumber","ctob_shotcode","AmountNumber","ctob_billRef","Amount","extra_price","base_price","name","budget","admin_fee","service_fee","category_type","category_name","subCategory_name","created_at","length","map","m_data","m_i","email","phone_number"],"mappings":"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","file":"static/js/18.9ea3a551.chunk.js","sourcesContent":["import gql from \"graphql-tag\";\n\nexport const UPDATE_CONTRACT = gql`\n    mutation UPDATECONTRACT($_id:ID,$contract_data:JSON){\n        update_contract(_id:$_id,contract_data:$contract_data){\n            msg\n            status\n            _id\n        }\n    }\n`\n\n\nexport const UPDATE_CONTRACT_FILE = gql`\n    mutation UPDATECONTRACTFILE($contract_id:ID,$file:[Upload],$category:String,$image_tag:String,$_id:ID){\n        ContractJobFileUpload(contract_id:$contract_id,file:$file,category:$category,image_tag:$image_tag,_id:$_id){\n            msg\n            status\n            _id\n        }\n    }\n`\nexport const DELETE_CONTRACT_FILE = gql`\n    mutation DELETECONTRACTFILE($_id:ID){\n        DeleteContractJobFile(_id:$_id){\n            msg\n            status\n        }\n    }\n`\n\nexport const GET_CONTRACT_FILES = gql`\n    query GETCONTRACTFILES($contract_id:ID){\n        get_contract_files(contract_id:$contract_id) {\n            _id\n            images{\n                small_image\n                image_tag\n                doc_category\n                _id\n            }\n        }\n    }\n`\n\nexport const GET_CONTRACT = gql`\n    query GETCONTRACT($contract_id:ID,$location_code:String){\n        get_contracts(contract_id:$contract_id,location_code:$location_code){\n            name\n            description\n            current_page\n            address_id\n            booking_status\n            budget(code:$location_code)\n            timeline\n            biding_id\n            timeline_type\n            terms_condition\n            contract_ref\n            biding_count\n            created_at\n            get_contract_category{\n                category_name\n                subCategory_name\n                category_type\n            }\n            get_contract_all_files(contract_id:$contract_id){\n                small_image\n            }\n            get_contract_files(contract_id:$contract_id) {\n                _id\n                images{\n                    small_image\n                    large_image\n                    image_tag\n                }\n            }\n            get_provider_user {\n                img_url\n                first_name\n                email\n                phone_no\n                user_type\n                last_name\n                _id\n                get_company_root_detail(root: true) {\n                    company_name\n                    company_website\n                    company_category\n                    get_company_images {\n                    small_image\n                    }\n                }\n            }\n            get_user {\n                img_url\n                first_name\n                user_type\n                last_name\n                email\n                phone_no\n                _id\n                get_company_root_detail(root: true) {\n                    company_name\n                    company_website\n                    company_category\n                    get_company_images {\n                        small_image\n                    }\n                }\n            }\n        }\n    }\n`\n\n\n\n\n\n","import gql from \"graphql-tag\";\n\nexport const GET_BIDING_PAGINATION = gql`\n    query GETBIDINGPAGINATION($limit: Int,$page:Int,$data:JSON,$contract_id:ID,$location_code:String) {\n        get_biding_pagination(limit:$limit,page:$page,data:$data,contract_id:$contract_id,location_code:$location_code) {\n            pageInfo{\n                totalDocs\n                page\n            }\n            data{\n                _id\n                budget(code:$location_code)\n                service_fee\n                admin_fee(code:$location_code)\n                ref: biding_ref\n                created_at\n                user_id\n                contract_id\n                description\n                experience\n                timeline\n                timeline_type\n                payment_option(code:$location_code)\n                add_to_shortlist\n                provider_rating_by_category(root: true) {\n                    rating\n                }\n                get_biding_all_files {\n                    small_image\n                }\n                get_user(root_parent:true) {\n                    img_url\n                    first_name\n                    user_type\n                    last_name\n                    _id\n                    get_company_root_detail(root: true) {\n                        company_name\n                        company_website\n                        company_category\n                        get_company_images {\n                            small_image\n                        }\n                    }\n                }\n            }\n        }\n    }\n`;\n\nexport const GET_BIDING_DETAIL = gql`\n    query GETBIDINGDETAIL($_id:ID){\n        get_biding_detail(_id:$_id){\n            _id\n                budget(code:\"IN\")\n                admin_fee(code:\"IN\")\n                service_fee\n                ref: biding_ref\n                created_at\n                user_id\n                contract_id\n                description\n                experience\n                timeline\n                timeline_type\n                add_to_shortlist\n                get_biding_all_files {\n                    small_image\n                }\n                get_user {\n                    img_url\n                    first_name\n                    user_type\n                    last_name\n                    _id\n                    get_company_root_detail(root: true) {\n                        company_name\n                        company_website\n                        company_category\n                        get_company_images {\n                            small_image\n                        }\n                    }\n                }\n        }\n    }\n`\n\nexport const UPDATE_BIDING = gql`\nmutation UPDATEBIDING($_id:ID,$biding_data:[JSON]){ \n    update_biding(\n    _id: $_id\n    biding_data: $biding_data\n  ) {\n    msg\n    status\n  }\n}`\n\n\n","\nimport gql from \"graphql-tag\";\n\nexport const GET_MILESTONE_PAGINATION = gql`\n    query GETMILESTONEPAGINATION($_id:ID,$contract_id:ID,$biding_id:ID,$location_code:String){\n        get_biding_milestone(_id:$_id,contract_id:$contract_id,biding_id:$biding_id){\n                _id\n                budget(code:$location_code)\n                ref: milestone_ref\n                created_at\n                user_id\n                contract_id\n                timeline\n                timeline_type\n                payment_option(code:$location_code)\n                booking_status\n        }\n    }\n`;\n\nexport const GET_MILESTONE_DETAIL = gql`\n    query GETMILESTONEDETAIL($_id:ID,$contract_id:ID,$biding_id:ID){\n        get_biding_milestone_detail(_id:$_id,contract_id:$contract_id,biding_id:$biding_id){\n            _id\n            budget\n            ref: milestone_ref\n            created_at\n            user_id\n            contract_id\n            description\n            timeline\n            timeline_type\n        }\n    }\n`\n\n\nexport const UPDATE_MILESTONE = gql`\nmutation UPDATEMILESTONE($option:String  \n    $_id:ID\n    $user_id: String\n    $provider_id:ID\n    $biding_id:ID\n    $contract_id:ID\n    $file:[Upload]\n    $milestone_data:JSON){ \n    update_milestone(\n        option:$option  \n        _id:$_id\n        user_id: $user_id\n        provider_id:$provider_id\n        biding_id:$biding_id\n        contract_id:$contract_id\n        file:$file\n        milestone_data:$milestone_data\n  ) {\n    msg\n    status\n  }\n}`","\nimport React, { Suspense, useState, useEffect } from \"react\";\nimport { Icon, Tooltip, Tag } from \"antd\"\nimport useMobileDetect from 'use-mobile-detect-hook';\nimport main from '../../../image/main.png';\nimport useReactRouter from \"use-react-router\";\nimport { useQuery } from '@apollo/react-hooks';\nimport { GET_CONTRACT } from '../../../graphql/User/contract';\nimport { GET_BIDING_DETAIL } from '../../../graphql/User/biding';\nimport { GET_MILESTONE_PAGINATION } from '../../../graphql/User/milestone';\nimport _ from 'lodash'\nconst C2B_CONTENT = React.lazy(() => import('./C2B_CONTENT'));\n\nconst payment_status = {\n    0: \"welcome Gizzy\",\n    50: \"waiting for payment confirmation\",\n    9: \"Provider accept job\",\n    10: \"Base price paid\",\n    11: \"Booking canceled\",\n    4: \"Job started\",\n    13: \"Ongoing\",\n    14: \"Completed\"\n}\n\nconst milestone_payment_status = {\n    0: \"welcome Gizzy\",\n    50: \"waiting for payment confirmation\",\n    9: \"Pending\",\n    4: \"Job started\",\n    13: \"Ongoing\",\n    14: \"Completed\"\n}\n\nfunction ContractInvoice() {\n    const detectMobile = useMobileDetect();\n    const { history, match } = useReactRouter();\n    const [booking_category, set_booking_category] = useState([])\n    const [booking_user, set_booking_user] = useState([])\n    const [booking_biding, set_booking_biding] = useState({})\n    const [booking_provider, set_booking_provider] = useState([])\n    const [booking, set_booking] = useState([])\n    const [booking_milestone, set_booking_milestone] = useState([])\n    const [mpeas_payment_callback, set_mpeas_payment_callback] = useState(false)\n    const contract_detail = useQuery(GET_CONTRACT);\n    const get_biding_detail = useQuery(GET_BIDING_DETAIL);\n    const get_biding_milestone = useQuery(GET_MILESTONE_PAGINATION);\n\n    useEffect(() => {\n        fetch_contract()\n    }, [])\n\n    const fetch_contract = async () => {\n        let finaldata = await contract_detail.refetch({ contract_id: match.params.id })\n        set_booking(finaldata.data.get_contracts[0])\n        set_booking_provider(finaldata.data.get_contracts[0].get_provider_user)\n        set_booking_user(finaldata.data.get_contracts[0].get_user)\n        set_booking_category(finaldata.data.get_contracts[0].get_contract_category)\n        if (finaldata.data.get_contracts[0].biding_id) {\n            let accept_biding_data = await get_biding_detail.refetch({ _id: finaldata.data.get_contracts[0].biding_id })\n            set_booking_biding(accept_biding_data.data.get_biding_detail)\n            let accept_milestone_data = await get_biding_milestone.refetch({ biding_id: finaldata.data.get_contracts[0].biding_id })\n            set_booking_milestone(accept_milestone_data.data.get_biding_milestone)\n        }\n    }\n\n    return (\n        <>\n            <div className=\" col-xs-12 col-md-12 col-sm-12 invoice_body_color  \" >\n                <div className=\"col-xs-12 col-md-12 col-sm-12 col-lg-6 main_content mx-lg-auto\">\n                    <div className=\"invoice_header mt-1\">\n                        <div className={detectMobile.isMobile() ? \"d-none\" : \"\"}>\n                            <a href=\"/bookings\">\n                                <Tooltip placement=\"left\" title=\"Back to Booking\">\n                                    <Icon className=\"ml-2 cursor_point\" type=\"arrow-left\" style={{ fontSize: \"26px\" }} />\n                                </Tooltip>\n                            </a>\n                        </div>\n                        <div>\n                            <img src={main} alt={'gigzzy'} className='w-50x object_fit cursor_point' />\n                        </div>\n                        <div className=\"invoice_info\">\n                            <div>INVOICE NO <b>{booking?.contract_ref}</b></div>\n                            <div> <small>{booking?.booking_date}</small></div>\n                            <div className=\"py-2\">\n                                <Tag color=\"green\">\n                                    {payment_status[booking.booking_status]}\n                                </Tag>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={(booking.booking_status == 50 || mpeas_payment_callback == true) && booking?.payment_type == \"c2b\" ? \"jumbotron p-1 mb-3 mx-3\" : \"d-none\"}>\n                        <Suspense fallback={\n                            <div class=\"spinner-border text-success\" role=\"status\">\n                                <span class=\"sr-only\">Loading...</span>\n                            </div>\n                        }>\n                            <C2B_CONTENT\n                                BusinessNumber={booking?.ctob_shotcode}\n                                AmountNumber={booking?.ctob_billRef}\n                                Amount={mpeas_payment_callback ? booking?.extra_price : booking?.base_price} />\n                        </Suspense>\n                    </div>\n                    <div className=\"user_batch mx-3\">\n                        <p><b>{booking_user?.[0]?.name}</b></p>\n                        <p>Thanks for using gigzzy.</p>\n                    </div>\n                    <div className=\"total_fare\">\n                        <h5>TOTAL COST</h5>\n                        <h1><small></small>{booking?.budget}</h1>\n                        {/* <h6>TOTAL HOURS : asd</h6> */}\n                    </div>\n                    <div className=\"fare_estimation col-xs-12 col-md-12 col-sm-12 nopad d-print-block d-md-flex\">\n                        <div className=\"fare_breakup mr-sm-3\">\n                            <p className=\"title\">Fare Breakup</p>\n                            <ul>\n                                <li>\n                                    <label>Base Price</label>\n                                    <span>{booking_biding?.admin_fee}</span>\n                                </li>\n                            </ul>\n                        </div>\n                        <div className=\"tax_breakup \">\n                            <p className=\"title\">Service Breakup</p>\n                            <ul>\n                                <li>\n                                    <label className=\"d-flex align-items-center\">\n                                        Service Fee\n                                        <span className=\"ml-auto\">\n                                            {booking_biding?.service_fee}%\n                                        </span>\n                                    </label>\n                                </li>\n                                {/* <li>\n                                    <label>( added to your total fare)</label>\n                                </li> */}\n                            </ul>\n                        </div>\n                    </div>\n                    <div className=\"booking_details col-xs-12 col-md-12 col-sm-12\">\n                        <p className=\"title\">Booking Details</p>\n                        <ul>\n                            <li>\n                                <label>Service Type</label>\n                                <span>{booking_category?.[0]?.category_type === 1 ? booking_category?.[0]?.category_name : booking_category?.[0]?.subCategory_name}</span>\n                            </li>\n                            <li>\n                                <label>Booking Date</label>\n                                <span>{booking?.created_at}</span>\n                            </li>\n                        </ul>\n                    </div>\n                    {booking_milestone.length > 1 && <div className=\"booking_details col-xs-12 col-md-12 col-sm-12\">\n                        <p className=\"title\">Milestone Details</p>\n                        {booking_milestone.map((m_data, m_i) => {\n                            return (\n                                <>\n                                    <div className=\"jumbotron p-3 \">\n                                        <div>Milestone {m_i}</div>\n                                        <div className=\"justify-content-between d-flex\">\n                                            <div className=\"d-flex\">\n                                                Milestone Status\n                                            </div>\n                                            <div className='d-flex flex-grow-0'>\n                                                <Tag color=\"green\">{milestone_payment_status[m_data?.booking_status]}</Tag>\n                                            </div>\n                                        </div>\n                                        <div className=\"justify-content-between d-flex\">\n                                            <div className=\"d-flex\">\n                                                Budget\n                                            </div>\n                                            <div className=\"d-flex flex-grow-0\">\n                                                {m_data?.budget}\n                                            </div>\n                                        </div>\n                                    </div>\n                                </>\n                            )\n                        })}\n\n                    </div>}\n                    <div className=\"member_section col-xs-12 col-md-12 col-sm-12 nopad d-print-block d-md-flex\">\n                        <div className=\"user_details mr-sm-3\">\n                            <p className=\"title\">User Details</p>\n                            <ul>\n                                <li>\n                                    <label>Name</label>\n                                    <span>{booking_user?.[0]?.name}</span>\n                                </li>\n                                <li>\n                                    <label>Email</label>\n                                    <span>{booking_user?.[0]?.email}</span>\n                                </li>\n                                <li>\n                                    <label>Phone</label>\n                                    <span>{booking_user?.[0]?.phone_number}</span>\n                                </li>\n                            </ul>\n                        </div>\n                        <div className=\"provider_details\">\n                            <p className=\"title\">Provider Details</p>\n                            <ul>\n                                <li>\n                                    <label>Name</label>\n                                    <span>{booking_provider?.[0]?.name}</span>\n                                </li>\n                                <li>\n                                    <label>Email</label>\n                                    <span>{booking_provider?.[0]?.email}</span>\n                                </li>\n                                <li>\n                                    <label>Phone</label>\n                                    <span>{booking_provider?.[0]?.phone_number}</span>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                    <div className=\"invoice_footer col-xs-12 m-3\">\n                        <hr />\n                        <p>\tThanks,</p>\n                        gigzzy Team\n                    </div>\n                </div>\n            </div>\n        </>\n    )\n}\n\nexport default ContractInvoice\n"],"sourceRoot":""}