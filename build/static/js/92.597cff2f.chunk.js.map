{"version":3,"sources":["component/Admin/Booking/invoice.js","graphql/User/booking.js","image/main.png"],"names":["C2B_CONTENT","React","lazy","__webpack_require__","e","then","bind","payment_status","0","50","10","11","4","13","14","SEND_ACCEPT_MSG","gql","_templateObject","Invoice","state","currency_symbol","collapsed","booking","booking_user","booking_provider","booking_category","booking_status","payment_type","mpeas_payment_callback","base_price","extra_price","ctob_shotcode","ctob_billRef","onToggle","val","console","log","_this","setState","isMobile","test","navigator","userAgent","vendor","window","opera","substr","fetch_booking","_id","client","query","GET_PARTICULAR_BOOKING","variables","fetchPolicy","result","_result$data$booking$","_result$data$booking$2","_result$data$booking$3","_result$data$booking$4","_result$data$booking$5","_result$data$booking$6","current_booking_status","props","match","params","id","data","message","get_booking_message","_callee","b_id","that","_home_waioz_gigzzy_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","wrap","_context","prev","next","Object","_home_waioz_gigzzy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__","subscribe","JSON","parse","localStorage","getItem","booking_id","loading","error","_data$data$send_accep","send_accept_msg","stop","this","_booking$","_this$state","react__WEBPACK_IMPORTED_MODULE_8___default","createElement","className","href","antd__WEBPACK_IMPORTED_MODULE_9__","placement","title","antd__WEBPACK_IMPORTED_MODULE_10__","type","style","fontSize","src","main","alt","booking_ref","booking_date","antd__WEBPACK_IMPORTED_MODULE_11__","color","react__WEBPACK_IMPORTED_MODULE_8__","fallback","class","role","BusinessNumber","AmountNumber","Amount","name","total","concat","service_fee","admin_fee","category_type","category_name","subCategory_name","email","phone_number","Component","_templateObject2","_templateObject3","ADD_BOOKING","_templateObject4","ACCEPT_JOB_MSG","_templateObject5","My_APPOINTMENTS","_templateObject6","_templateObject7","GET_MSG","_templateObject8","ADD_MSG","_templateObject9","UPDATE_MANUAL_PAYMENT","_templateObject10","UPDATE_MSG_COUNT","_templateObject11","MSG_SUB","_templateObject12","ADD_COMMENTS","_templateObject13","module","exports","p"],"mappings":"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","file":"static/js/92.597cff2f.chunk.js","sourcesContent":["\nimport React, { Suspense } from \"react\";\nimport { Icon, Tooltip, Tag } from \"antd\"\nimport 'antd/dist/antd.css';\nimport '../../../scss/template.scss';\nimport { client } from \"../../../apollo\";\nimport gql from 'graphql-tag';\nimport '../../../scss/template.scss';\nimport { GET_PARTICULAR_BOOKING } from '../../../graphql/User/booking';\nimport main from '../../../image/main.png';\n\nconst C2B_CONTENT = React.lazy(() => import('./C2B_CONTENT')); // Lazy-loaded\n\nconst payment_status = {\n    0: \"welcome Gizzy\",\n    50: \"waiting for payment confirmation\",\n    10: \"Base price paid\",\n    11: \"Booking canceled\",\n    4: \"Job started\",\n    13: \"Ongoing\",\n    14: \"Completed\"\n}\n\n\nconst SEND_ACCEPT_MSG = gql`\nsubscription SENDACCEPTMSG($_id:ID,$booking_id:ID){\n    send_accept_msg (_id:$_id,booking_id:$booking_id){\n      _id\n      status\n      booking_status\n      payment_type\n      mpeas_payment_callback\n      base_price(code:\"symbol\")\n      extra_price(code:\"symbol\")\n      ctob_shotcode\n      ctob_billRef\n    }\n}`\nclass Invoice extends React.Component {\n    state = {\n        currency_symbol: 'Ksh',\n        collapsed: false,\n        booking: [],\n        booking_user: [],\n        booking_provider: [],\n        booking_category: [],\n        booking_status: 0,\n        payment_type: \"\",\n        mpeas_payment_callback: false,\n        base_price: \"0.00\",\n        extra_price: \"0.00\",\n        ctob_shotcode: \"\",\n        ctob_billRef: \"\",\n\n    };\n    onToggle = (val) => {\n        console.log(val);\n        this.setState({\n            collapsed: val,\n        });\n    };\n    isMobile = () => {\n        return (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i.test(navigator.userAgent || navigator.vendor || window.opera) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test((navigator.userAgent || navigator.vendor || window.opera).substr(0, 4)))\n    }\n    componentDidMount() {\n        console.log(this.isMobile());\n        this.fetch_booking(this.props.match.params.id);\n    }\n\n    fetch_booking = (_id) => {\n        client.query({\n            query: GET_PARTICULAR_BOOKING,\n            variables: { _id },\n            fetchPolicy: 'no-cache',\n        }).then(result => {\n            console.log(result);\n            this.current_booking_status(this.props.match.params.id)\n            this.setState({\n                booking: result.data.booking,\n                booking_category: result.data.booking[0].booking_category,\n                booking_user: result.data.booking[0].booking_user,\n                booking_provider: result.data.booking[0].booking_provider,\n                message: result.data.booking[0].get_booking_message,\n                booking_status: result.data.booking[0].booking_status,\n                payment_type: result.data.booking[0]?.payment_type || \"\",\n                base_price: result.data.booking[0]?.base_price || \"\",\n                extra_price: result.data.booking[0]?.extra_price || \"\",\n                ctob_shotcode: result.data.booking[0]?.ctob_shotcode || \"\",\n                ctob_billRef: result.data.booking[0]?.ctob_billRef || \"\",\n                mpeas_payment_callback: result.data.booking[0]?.mpeas_payment_callback,\n            })\n        });\n    }\n\n    current_booking_status = async (b_id) => {\n        console.log(\"Invoice -> current_booking_status -> b_id\", b_id)\n        var that = this;\n        await client.subscribe({\n            query: SEND_ACCEPT_MSG,\n            variables: { _id: JSON.parse(localStorage.getItem('user'))._id, booking_id: b_id },\n        }).subscribe({\n            next(data, loading, error) {\n                console.log(\"Invoice -> next -> error\", error)\n                if (loading) {\n                    console.log('load');\n                }\n                if (data) {\n                    console.log(data.data.send_accept_msg);\n                    that.setState({\n                        booking_status: data.data.send_accept_msg.booking_status,\n                        payment_type: data.data.send_accept_msg?.payment_type || \"\",\n                    });\n                }\n\n            }\n        });\n    };\n\n    render() {\n        const { ctob_billRef,ctob_shotcode,mpeas_payment_callback,base_price,extra_price,booking, booking_category, booking_provider, booking_user, payment_type, booking_status } = this.state;\n        console.log(\"Invoice -> render -> booking_status\", booking_status)\n        console.log(\"Invoice -> render -> mpeas_payment_callback\", mpeas_payment_callback)\n        console.log(\"Invoice -> render -> payment_option\", payment_type)\n\n        return (\n            <div className=\" col-xs-12 col-md-12 col-sm-12 invoice_body_color  \" >\n                <div className=\"col-xs-12 col-md-12 col-sm-12 col-lg-6 main_content mx-lg-auto\">\n                    <div className=\"invoice_header mt-1\">\n                        <div className={this.isMobile() ? \"d-none\" : \"\"}>\n                            <a href=\"/bookings\">\n                                <Tooltip placement=\"left\" title=\"Back to Booking\">\n                                    <Icon className=\"ml-2 cursor_point\" type=\"arrow-left\" style={{ fontSize: \"26px\" }} />\n                                </Tooltip>\n                            </a>\n                        </div>\n                        <div>\n                            <img src={main} alt={'gigzzy'} className='w-50x object_fit cursor_point' />\n                        </div>\n                        <div className=\"invoice_info\">\n                            <div>INVOICE NO <b>{booking[0] ? booking[0].booking_ref : \"\"}</b></div>\n                            <div> <small>{booking[0] ? booking[0].booking_date : \"\"}</small></div>\n                            <div className=\"py-2\">\n                                <Tag color=\"green\">\n                                    {payment_status[this.state.booking_status]}\n                                </Tag>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={ (booking_status == 50 || mpeas_payment_callback == true)  && payment_type == \"c2b\" ? \"jumbotron p-1 mb-3 mx-3\" : \"d-none\"}>\n                        <Suspense fallback={\n                            <div class=\"spinner-border text-success\" role=\"status\">\n                                <span class=\"sr-only\">Loading...</span>\n                            </div>\n                        }>\n                            <C2B_CONTENT BusinessNumber={ctob_shotcode} AmountNumber={ctob_billRef} Amount={mpeas_payment_callback ? extra_price : base_price} />\n                        </Suspense>\n                    </div>\n                    <div className=\"user_batch mx-3\">\n                        <p><b>{booking_user[0] ? booking_user[0].name : \"\"}</b></p>\n                        <p>Thanks for using gigzzy</p>\n                    </div>\n                    <div className=\"total_fare\">\n                        <h5>TOTAL COST</h5>\n                        <h1><small></small>{booking[0] ? booking[0].total : \"\"}</h1>\n                        {/* <h6>TOTAL HOURS : asd</h6> */}\n                    </div>\n                    <div className=\"fare_estimation col-xs-12 col-md-12 col-sm-12 nopad d-print-block d-md-flex\">\n                        <div className=\"fare_breakup mr-sm-3\">\n                            <p className=\"title\">Fare Breakup</p>\n                            <ul>\n                                <li>\n                                    <label>Base Price</label>\n                                    <span>{booking[0] ? booking[0].base_price : \"\"}</span>\n                                </li>\n                                {/* <li>\n                                            <label>Hour Fare</label>\n                                            <span>ad</span>\n                                        </li> */}\n                                <li>\n                                    <label>Extra Price </label>\n                                    <span>{booking[0] ? booking[0].extra_price : \"\"}</span>\n                                </li>\n                            </ul>\n                        </div>\n                        <div className=\"tax_breakup \">\n                            <p className=\"title\">Service Breakup</p>\n                            <ul>\n                                <li>\n                                    <label className=\"d-flex align-items-center\">\n                                        Service Fee\n                                        <Tooltip placement=\"right\" title={`${booking[0]?.service_fee} %`}>\n                                            <Icon className=\"ml-2 cursor_point\" type=\"info-circle\" />\n                                        </Tooltip>\n\n                                        <span className=\"ml-auto\">\n                                            {booking[0] ? booking[0].admin_fee : \"\"}\n                                        </span>\n                                    </label>\n                                </li>\n                                {/* <li>\n                                    <label>( added to your total fare)</label>\n                                </li> */}\n                            </ul>\n                        </div>\n                    </div>\n                    <div className=\"booking_details col-xs-12 col-md-12 col-sm-12\">\n                        <p className=\"title\">Booking Details</p>\n                        <ul>\n                            <li>\n                                <label>Service Type</label>\n                                <span>{booking_category[0] ? booking_category[0].category_type === 1 ? booking_category[0].category_name : booking_category[0].subCategory_name : ''}</span>\n                            </li>\n                            <li>\n                                <label>Booking Date</label>\n                                <span>{booking[0] ? booking[0].booking_date : \"\"}</span>\n                            </li>\n                            <li>\n                                <label>Scheduled Date</label>\n                                <span>{booking[0] ? booking[0].booking_date : \"\"}</span>\n                            </li>\n                        </ul>\n                    </div>\n                    <div className=\"member_section col-xs-12 col-md-12 col-sm-12 nopad d-print-block d-md-flex\">\n                        <div className=\"user_details mr-sm-3\">\n                            <p className=\"title\">User Details</p>\n                            <ul>\n                                <li>\n                                    <label>Name</label>\n                                    <span>{booking_user[0] ? booking_user[0].name : \"\"}</span>\n                                </li>\n                                <li>\n                                    <label>Email</label>\n                                    <span>{booking_user[0] ? booking_user[0].email : \"\"}</span>\n                                </li>\n                                <li>\n                                    <label>Phone</label>\n                                    <span>{booking_user[0] ? booking_user[0].phone_number : \"\"}</span>\n                                </li>\n                            </ul>\n                        </div>\n                        <div className=\"provider_details\">\n                            <p className=\"title\">Provider Details</p>\n                            <ul>\n                                <li>\n                                    <label>Name</label>\n                                    <span>{booking_provider[0] ? booking_provider[0].name : \"\"}</span>\n                                </li>\n                                <li>\n                                    <label>Email</label>\n                                    <span>{booking_provider[0] ? booking_provider[0].email : \"\"}</span>\n                                </li>\n                                <li>\n                                    <label>Phone</label>\n                                    <span>{booking_provider[0] ? booking_provider[0].phone_number : \"\"}</span>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                    <div className=\"invoice_footer col-xs-12 m-3\">\n                        <hr />\n                        <p>\tThanks,</p>\n                        gigzzy Team\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Invoice;\n","import gql from \"graphql-tag\";\n\nexport const SEND_ACCEPT_MSG = gql`\nsubscription SENDACCEPTMSG($_id:ID,$booking_id:ID){\n    send_accept_msg (_id:$_id,booking_id:$booking_id){\n      _id\n      status\n      description\n      booking_ref\n      booking_date\n      base_price(code:\"symbol\")\n      ctob\n      extra_price\n      msg_date\n      msg_time\n      booking_provider {\n        _id\n        name\n        lat\n        lng\n        img_url\n        rating\n      }\n    }\n}`\n\nexport const PENDING_DATA = gql`\nsubscription getPendingDataSubscription($_id: ID\n$role: Int\n$booking_status: Int\n){\n  get_my_appointments(_id: $_id, role: $role, booking_status: $booking_status)\n  {\n    _id\n    status\n    description\n    base_price(code:\"symbol\")\n    ctob\n    booking_date\n    jobStart_time\n    jobEnd_time\n    booking_status\n    user_image_url\n    start_job_image_url\n    end_job_image_url\n    booking_type\n    user_msg_count\n    provider_msg_count\n    user_msg_is_read\n    provider_msg_is_read\n    booking_category {\n      category_name\n      subCategory_name\n      category_type\n      description\n      _id\n      base_price\n      hour_price\n      hour_limit\n      img_url\n      booking_parent_category{\n        category_name\n      }\n    }\n    booking_user {\n      name\n      lat\n      lng\n      phone_no\n      phone_number\n      _id\n      img_url\n    }\n    booking_provider {\n      name\n      lat\n      lng\n      phone_no\n      _id\n      img_url\n    }\n    # find_kilometre(lat: $lat, lng: $lng) {\n    #   kilometre\n    # }\n  }\n}`\n\nexport const TSET = gql`\nsubscription TESTS($online:String){\n    test (online:$online){\n      status\n      msg\n    }\n}`\n\n\nexport const ADD_BOOKING = gql`\n mutation ADDBOOKING($user_id:ID,$local_location_code:String,$location_code:String,$booking_time:String,$booking_hour:String,$booking_type:Int,$category_id:ID,$category_type:Int,$lat:Float,$lng:Float,$hours:String,$description:String,$booking_status:Int,$booking_date:String,$file:[Upload]) {\n    add_booking(\n      user_id: $user_id,\n      category_id: $category_id\n      location_code:$location_code\n      local_location_code:$local_location_code\n      category_type: $category_type\n      lat: $lat\n      lng: $lng\n      hours: $hours\n      description: $description\n      booking_status: $booking_status,\n      booking_type:$booking_type,\n      booking_date:$booking_date,\n      booking_time:$booking_time,\n      booking_hour:$booking_hour,\n      file:$file\n    ) {\n      id\n      description\n      location\n      lat\n      lng\n      user_image_url\n      user(_id:$user_id) {\n        name\n      }\n      provider {\n        name\n        _id\n      }\n      category(_id: $category_id, category_type: $category_type) {\n        category_name\n        subCategory_name\n        base_price\n        hour_price\n        hour_limit\n        description\n        img_url\n        ParentCategoryCurrency(root: true,location_code:$location_code) {\n          base_price(code:\"symbol\")\n        }\n      }\n      hours\n    }\n  }\n  `\n\nexport const ACCEPT_JOB_MSG = gql`\nmutation AcceptJobMutation($role: Int\n  $booking_id: ID\n  $provider_id: ID\n  $booking_status:Int\n  $phone_number : String\n  $payment_type : String\n){\n  manage_booking(\n    role:$role\n    booking_id: $booking_id\n    provider_id: $provider_id\n    booking_status: $booking_status\n    phone_number : $phone_number\n    payment_type:$payment_type\n  ){\n    status\n    msg\n  }\n}`\n\nexport const My_APPOINTMENTS = gql`\nquery My_appointments($_id : ID,$role : Int,$booking_status : Int,$limit:Int,$page:Int)\n{\n  get_my_appointments(_id:$_id,role:$role,booking_status:$booking_status,limit:$limit,page:$page){\n    pageInfo{\n      totalDocs\n      page\n    }\n    data{\n            _id\n          booking_status\n          booking_date\n          base_price(code:\"symbol\")\n          ctob\n          booking_ref\n          booking_type\n          booking_date\n          user_msg_count\n          provider_msg_count\n          user_msg_is_read\n          provider_msg_is_read\n          booking_category{\n          img_url\n          category_type\n          category_name\n          subCategory_name\n          is_parent\n            booking_parent_category{\n              category_name\n              img_url\n            }\n          }\n          booking_provider{\n            name\n            img_url\n            phone_number\n          }\n        }\n    }\n}`\n\nexport const GET_PARTICULAR_BOOKING = gql`\nquery GETPARTICULARBOOKING($_id : ID) {\n  booking(_id:$_id) {\n        _id\n        description\n        user_image_url\n        booking_status\n        booking_date\n        created_at\n        job_start_time\n        job_end_time\n        start_job_image_url\n        end_job_image_url\n        booking_ref\n        base_price(code:\"symbol\")\n        extra_price(code:\"symbol\")\n        extra_hour_price(code:\"symbol\")\n        total(code:\"symbol\")\n        final_payment(code:\"symbol\")\n        admin_fee(code:\"symbol\")\n        charge_id\n        MpesaReceiptNumber\n        mpeas_payment_callback\n        ctob\n        ctob_shotcode\n        ctob_billRef\n        service_fee\n        lat\n        lng\n        provider_fee\n        payment_status\n        payment_type\n        user_rating\n        user_rating_status\n        actual_time\n        user_msg_count\n          provider_msg_count\n          user_msg_is_read\n          provider_msg_is_read\n      user_comments\n      provider_rating\n      provider_comments\n      booking_type\n      get_booking_message(booking_id:$_id){\n          message\n          createdAt\n          role\n          msg_date\n          msg_time\n        }\n        booking_category {\n          category_name\n          category_type\n          subCategory_name\n          description\n          _id\n          base_price\n          hour_price\n          hour_limit\n          img_url\n          booking_parent_category {\n            category_name\n            category_name\n          }\n        }\n        booking_provider{\n          name\n          email\n          phone_number\n          _id\n          img_url\n          lat\n          lng\n        }\n        booking_user {\n          name\n          phone_number\n          email\n          img_url\n          location\n        }\n      }\n    }`\n\nexport const GET_MSG = gql`\n  query GETMSG($booking_id : ID,$user_id:ID,$provider_id:ID) {\n    get_message(booking_id:$booking_id){\n      message\n      createdAt\n      role\n      msg_date\n      msg_time\n      user(_id:$user_id){\n        name\n        img_url\n      }\n      provider(_id:$provider_id){\n        name\n        img_url\n      }\n    }\n  }`\n\nexport const ADD_MSG = gql`\nmutation ADDMSG($booking_id : ID,$user_id:ID,$data:String){ \n  add_message(\n    role:1\n    booking_id: $booking_id\n    user_id: $user_id\n    message: $data\n  ) {\n    message\n  }\n}`\n\nexport const UPDATE_MANUAL_PAYMENT = gql`\nmutation UPDATE_MANUAL_PAYMENT($booking_id : ID,$role:Int,){ \n  update_manual_payment(role:$role,booking_id: $booking_id) {\n    msg\n    status\n  }\n}`\n\nexport const UPDATE_MSG_COUNT = gql`\nmutation UPDATE_MSG_COUNT($booking_id : ID,$role:Int,){ \n  update_msg_is_read(role:$role,booking_id: $booking_id) {\n    msg\n    status\n  }\n}`\n\n\nexport const MSG_SUB = gql`\nsubscription MSGSUB($booking_id : ID,$user_id:ID,$provider_id:ID){ \n\tmessageSent(booking_id:$booking_id){\n    \tmessage\n      createdAt\n      msg_date\n      msg_time\n      role\n      user(_id:$user_id){\n        name\n        img_url\n      }\n      provider(_id:$provider_id){\n        name\n        img_url\n      }\n  }\n}`\n\n\nexport const ADD_COMMENTS = gql`\nmutation ADDCOMMENTS($booking_id : ID,$user_id:ID,$rating:Int,$comments:String){ \n  addRating(\n    role:1\n    booking_id: $booking_id\n    user_id: $user_id\n    rating: $rating\n    comments:$comments\n  ) {\n    user_rating_status\n    msg\n    status\n  }\n}`\n\n\n\n\n\n\n","module.exports = __webpack_public_path__ + \"static/media/main.c57228a8.png\";"],"sourceRoot":""}