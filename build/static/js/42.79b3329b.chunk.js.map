{"version":3,"sources":["component/Admin/Contract/biderDetail.js"],"names":["Title","Typography","Paragraph","Modal","confirm","BiderDetail","props","useReactRouter","history","useState","isStripePayment","price_visible","set_price_visible","company_visible","set_company_visible","data","set_data","user_data","set_user_data","useMutation","UPDATE_BIDING","update_biding","useEffect","current_data","get_user","size","update_biding_data","a","input_data","_id","biding_data","add_to_shortlist","variables","final_data","Alert_msg","status","className","gutter","span","src","img_url","level","first_name","last_name","user_type","get_company_root_detail","company_name","count","value","provider_rating_by_category","rating","ellipsis","rows","expandable","about_company","type","onClick","color","timeline","timeline_type","budget","description","experience","get_biding_all_files","map","i","loading","alt","small_image","title","visible","footer","onCancel","placement","service_fee","admin_fee","booking_type","current_booking_status","header","company_website","get_company_images"],"mappings":"uUAUQA,EAAqBC,IAArBD,MAAOE,EAAcD,IAAdC,UACKC,IAAZC,QAqPOC,UAnPf,SAAqBC,GACGC,MAAZC,QADiB,IAAD,cAExB,EAA+BC,oBAAS,GAAxC,mBACA,GADA,UAC8CA,oBAAS,IAAvD,mBAAOC,EAAP,KACA,GADA,KAC2CD,oBAAS,IAApD,mBAAOE,EAAP,KAAsBC,EAAtB,KACA,EAA+CH,oBAAS,GAAxD,mBAAOI,EAAP,KAAwBC,EAAxB,KACA,EAAyBL,mBAAS,IAAlC,mBAAOM,EAAP,KAAaC,EAAb,KACA,EAAmCP,mBAAS,IAA5C,mBAAOQ,EAAP,KAAkBC,EAAlB,KACA,EAAwBC,YAAYC,KAA7BC,EAAP,oBAGAC,qBAAU,WACFhB,EAAMiB,eACNP,EAASV,EAAMiB,cACXjB,EAAMiB,aAAaC,UAAYC,IAAKnB,EAAMiB,aAAaC,WACvDN,EAAcZ,EAAMiB,aAAaC,SAAS,OAGnD,CAAClB,IAEJ,IAIMoB,EAAkB,uCAAG,8BAAAC,EAAA,6DACnBC,EAAa,CACbC,IAAKd,EAAKc,IACVC,YAAa,CAAC,CAAEC,mBAAkB,OAAChB,QAAD,IAACA,OAAD,EAACA,EAAMgB,qBAHtB,SAKAV,EAAc,CAAEW,UAAWJ,IAL3B,OAKnBK,EALmB,OAMvBC,YAAUD,EAAWlB,KAAKM,eACtBY,EAAWlB,KAAKM,cAAcc,OAPX,2CAAH,qDAWxB,OACI,yBAAKC,UAAU,OACX,kBAAC,IAAD,CAAKC,OAAQ,CAAC,GAAI,KACd,kBAAC,IAAD,CAAKC,KAAM,IACP,yBAAKF,UAAU,kCACX,6BACI,kBAAC,IAAD,CAAQA,UAAU,gBAAgBX,KAAM,GAAIc,KAAc,OAATtB,QAAS,IAATA,OAAA,EAAAA,EAAWuB,UAAW,MAE3E,yBAAKJ,UAAU,cACX,yBAAKA,UAAU,qDACX,kBAACpC,EAAD,CAAOyC,MAAO,EAAGL,UAAU,2CACvB,8BACc,OAATnB,QAAS,IAATA,OAAA,EAAAA,EAAWyB,aAAc,IAAa,OAATzB,QAAS,IAATA,OAAA,EAAAA,EAAW0B,YAAa,IAE1D,yBAAKP,UAAU,oCACVnB,EAAU2B,WAAqC,YAAxB3B,EAAU2B,UAAjC,OAA2D3B,QAA3D,IAA2DA,GAA3D,UAA2DA,EAAW4B,+BAAtE,aAA2D,EAAoCC,aAAe,oBAGvH,6BACI,kBAAC,IAAD,CAAMC,MAAO,EAAGC,MAAO,EAAGZ,UAAU,UAC/B,OAAJrB,QAAI,IAAJA,GAAA,UAAAA,EAAMkC,mCAAN,eAAmCC,SAAU,MAGrDjC,EAAU2B,WAAqC,YAAxB3B,EAAU2B,UAC9B,6BACI,kBAAC1C,EAAD,CAAWiD,SAAU,CAAEC,KAAM,EAAGC,YAAY,IAA5C,OACKpC,QADL,IACKA,GADL,UACKA,EAAW4B,+BADhB,aACK,EAAoCS,gBAG3C,qCACN,yBAAKlB,UAAoC,aAAhB,OAATnB,QAAS,IAATA,OAAA,EAAAA,EAAW2B,WAA0B,GAAK,UACtD,kBAAC,IAAD,CAAQW,KAAK,UAAUC,QAAS,WAAQ1C,GAAqBD,KAA7D,wBAMpB,kBAAC,IAAD,CAAKwB,OAAQ,CAAC,GAAI,KACd,kBAAC,IAAD,KACI,kBAACrC,EAAD,CAAOyC,MAAO,EAAGL,UAAU,sBAA3B,cAA2D,kBAAC,IAAD,CAAKqB,MAAM,SAAX,aACvD,kBAAC,IAAD,CAAKA,MAAM,SAAX,aACA,kBAAC,IAAD,CAAKA,MAAM,SAAX,gBAIZ,kBAAC,IAAD,CAAKpB,OAAQ,CAAC,GAAI,KACd,kBAAC,IAAD,KACI,yBAAKD,UAAU,uDAAf,qBAAiFrB,QAAjF,IAAiFA,OAAjF,EAAiFA,EAAM2C,SAAvF,OAAiG3C,QAAjG,IAAiGA,OAAjG,EAAiGA,EAAM4C,eACvG,kBAAC3D,EAAD,CAAOyC,MAAO,EAAGL,UAAU,iEACvB,yBAAKA,UAAU,yCACX,oCACKrB,QADL,IACKA,OADL,EACKA,EAAM6C,QAEX,yBAAKxB,UAAU,QACV,cAMrB,kBAAC,IAAD,CAAKC,OAAQ,CAAC,GAAI,KACd,kBAAC,IAAD,KACI,kBAACrC,EAAD,CAAOyC,MAAO,GAAI,0BAClB,6BACI,kBAACvC,EAAD,CAAWiD,SAAU,CAAEC,KAAM,EAAGC,YAAY,IAA5C,OACKtC,QADL,IACKA,OADL,EACKA,EAAM8C,gBAMvB,kBAAC,IAAD,CAAKxB,OAAQ,CAAC,GAAI,KACd,kBAAC,IAAD,KACI,kBAACrC,EAAD,CAAOyC,MAAO,EAAGL,UAAU,sBAA3B,iBAAkE,OAAJrB,QAAI,IAAJA,OAAA,EAAAA,EAAM+C,aAAc,KAGzF7C,EAAU8C,sBAAwB9C,EAAU8C,qBAAqBC,KAAI,SAACjD,EAAMkD,GACzE,OACI,kBAAC,IAAD,CAAK5B,OAAQ,CAAC,GAAI,KACd,kBAAC,IAAD,KACI,kBAACrC,EAAD,CAAOyC,MAAO,EAAGL,UAAU,sBAAsB6B,EAAjD,qBACA,yBAAKC,QAAQ,OAAOC,IAAI,UAAU/B,UAAU,eAAeG,IAAKxB,EAAKqD,mBAMrF,kBAAC,IAAD,CAAK/B,OAAQ,CAAC,GAAI,KACd,kBAAC,IAAD,CAAKC,KAAM,IACP,yBAAKF,UAAU,sCACX,kBAAC,IAAD,CAAQmB,KAAK,UAAUC,QAAS,WAAQ9B,OAC/B,OAAJX,QAAI,IAAJA,OAAA,EAAAA,EAAMgB,kBAAmB,wBAA0B,uBAKpE,kBAAC,IAAD,CAAKM,OAAQ,CAAC,GAAI,KACd,kBAAC,IAAD,CAAKC,KAAM,IACP,yBAAKF,UAAU,iCACX,kBAAC,IAAD,CAAQX,KAAM,SAAd,aAGR,kBAAC,IAAD,CAAKa,KAAM,IACP,yBAAKF,UAAU,iCACX,kBAAC,IAAD,CAAQX,KAAM,QAAS8B,KAAK,UAAUC,QAAS,WAAQ5C,GAAmBD,KAA1E,cAIZ,kBAAC,IAAD,CACI0D,MAAM,0BACNC,QAAS3D,EACT4D,OAAQ,KACRC,SAAU,WAAQ5D,GAAmBD,KAErC,kBAAC,IAAD,CAAK0B,OAAQ,CAAC,GAAI,KACd,kBAAC,IAAD,CAAKC,KAAM,IACP,yBAAKF,UAAU,mDACX,yBAAKA,UAAU,IAAf,kBAGA,oCACKrB,QADL,IACKA,OADL,EACKA,EAAM6C,WAKvB,kBAAC,IAAD,CAAKvB,OAAQ,CAAC,GAAI,KACd,kBAAC,IAAD,CAAKC,KAAM,IACP,yBAAKF,UAAU,mDACX,yBAAKA,UAAU,6BAAf,cAEI,kBAAC,IAAD,CAASqC,UAAU,QAAQJ,MAAK,6CAAiCtD,QAAjC,IAAiCA,OAAjC,EAAiCA,EAAM2D,cACnE,kBAAC,IAAD,CAAMnB,KAAK,kBAAkBnB,UAAU,WAG/C,oCACKrB,QADL,IACKA,OADL,EACKA,EAAM4D,eAMrBjE,GAAmB,oCAAE,yBAAK0B,UAAU,IAClC,kBAAC,UAAD,CAAcrB,KAAMA,EAAM6D,aAAc,WAAYC,uBAAwB,QAIpF,kBAAC,IAAD,CACIP,QAASzD,EACT0D,OAAQ,KACRO,OAAQ,KACR1C,UAAU,uBACVoC,SAAU,WAAQ1D,GAAqBD,KAEvC,kBAAC,IAAD,CAAKwB,OAAQ,CAAC,GAAI,IAAKD,UAAU,QAC7B,kBAAC,IAAD,CAAKE,KAAM,IACP,yBAAKF,UAAU,sEACX,6BACI,yBAAKA,UAAU,QAAf,OACKnB,QADL,IACKA,GADL,UACKA,EAAW4B,+BADhB,aACK,EAAoCC,cAEzC,oCACK7B,QADL,IACKA,GADL,UACKA,EAAW4B,+BADhB,aACK,EAAoCkC,kBAI7C,kBAAC,IAAD,CAAQ3C,UAAU,gBAAgBX,KAAM,GAAIc,IAAG,OAAEtB,QAAF,IAAEA,OAAF,EAAEA,EAAWuB,aAMxE,kBAAC,IAAD,CAAKH,OAAQ,CAAC,GAAI,KACd,kBAAC,IAAD,KACI,6BACI,kBAACnC,EAAD,CAAWiD,SAAU,CAAEC,KAAM,EAAGC,YAAY,IAA5C,OACKpC,QADL,IACKA,GADL,UACKA,EAAW4B,+BADhB,aACK,EAAoCS,mBAM3C,OAATrC,QAAS,IAATA,GAAA,UAAAA,EAAW4B,+BAAX,eAAoCmC,sBAApC,OAA0D/D,QAA1D,IAA0DA,OAA1D,EAA0DA,EAAW4B,wBAAwBmC,mBAAmBhB,KAAI,SAAAjD,GACjH,OAEI,kBAAC,IAAD,CAAKsB,OAAQ,CAAC,GAAI,KACd,kBAAC,IAAD,KACI,kBAACrC,EAAD,CAAOyC,MAAO,EAAGL,UAAU,sBAA3B,0BACA,yBAAK8B,QAAQ,OAAOC,IAAI,UAAU/B,UAAU,eAAeG,IAAG,OAAExB,QAAF,IAAEA,OAAF,EAAEA,EAAMqD,oBAKtF,kBAAC,IAAD,CAAK/B,OAAQ,CAAC,GAAI,KACd,kBAAC,IAAD,CAAKC,KAAM,IACP,6BACI,kBAAC,IAAD,CAAQiB,KAAK,OAAOnB,UAAU,gCAC1B,yBAAKA,UAAU,6BAAf,qBACsB,kBAAC,IAAD,CAAMmB,KAAK,WAAWnB,UAAU","file":"static/js/42.79b3329b.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport useReactRouter from 'use-react-router';\r\nimport { Icon } from 'antd';\r\nimport Tooltip from 'antd/lib/tooltip'\r\nimport size from 'lodash'\r\nimport { UPDATE_BIDING } from '../../../graphql/User/biding'\r\nimport { Alert_msg } from '../../Comman/alert_msg';\r\nimport { useMutation, useQuery } from '@apollo/react-hooks';\r\nimport { Modal, Avatar, Button, Skeleton, Col, Tag, Row, Typography, Rate } from 'antd';\r\nimport StripePayout from \"../../User/Book/payment/stripe_payment\";\r\nconst { Title, Paragraph } = Typography;\r\nconst { confirm } = Modal;\r\n\r\nfunction BiderDetail(props) {\r\n    const { history } = useReactRouter();\r\n    const [loading, set_loading] = useState(false);\r\n    const [isStripePayment, setisStripePayment] = useState(false);\r\n    const [price_visible, set_price_visible] = useState(false);\r\n    const [company_visible, set_company_visible] = useState(false);\r\n    const [data, set_data] = useState({});\r\n    const [user_data, set_user_data] = useState({});\r\n    const [update_biding] = useMutation(UPDATE_BIDING);\r\n\r\n\r\n    useEffect(() => {\r\n        if (props.current_data) {\r\n            set_data(props.current_data)\r\n            if (props.current_data.get_user && size(props.current_data.get_user)) {\r\n                set_user_data(props.current_data.get_user[0])\r\n            }\r\n        }\r\n    }, [props])\r\n\r\n    const gotoPage = () => {\r\n        set_price_visible(!price_visible)\r\n    }\r\n\r\n    const update_biding_data = async () => {\r\n        let input_data = {\r\n            _id: data._id,\r\n            biding_data: [{ add_to_shortlist: !data?.add_to_shortlist }]\r\n        }\r\n        let final_data = await update_biding({ variables: input_data });\r\n        Alert_msg(final_data.data.update_biding)\r\n        if (final_data.data.update_biding.status === \"success\") {\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"p-3\">\r\n            <Row gutter={[12, 24]}>\r\n                <Col span={24}>\r\n                    <div className=\"d-flex justify-content-between\">\r\n                        <div>\r\n                            <Avatar className=\"biding_avatar\" size={64} src={user_data?.img_url || \"\"} />\r\n                        </div>\r\n                        <div className=\"w-100 px-1\">\r\n                            <div className=\"d-flex justify-content-between align-items-center\">\r\n                                <Title level={4} className=\"d-flex flex-column align-items-baseline\">\r\n                                    <div>\r\n                                        {user_data?.first_name || \"\"}{user_data?.last_name || \"\"}\r\n                                    </div>\r\n                                    <div className=\"font-weight-light figure-caption\">\r\n                                        {user_data.user_type && user_data.user_type === \"company\" ? user_data?.get_company_root_detail?.company_name : \"Individual User\"}\r\n                                    </div>\r\n                                </Title>\r\n                                <div>\r\n                                    <Rate count={1} value={1} className=\"mr-2\" />\r\n                                    {data?.provider_rating_by_category?.rating || \"0\"}\r\n                                </div>\r\n                            </div>\r\n                            {user_data.user_type && user_data.user_type === \"company\" ?\r\n                                <div>\r\n                                    <Paragraph ellipsis={{ rows: 3, expandable: true }}>\r\n                                        {user_data?.get_company_root_detail?.about_company}\r\n                                    </Paragraph>\r\n                                </div>\r\n                                : <></>}\r\n                            <div className={user_data?.user_type === \"company\" ? \"\" : \"d-none\"}>\r\n                                <Button type=\"primary\" onClick={() => { set_company_visible(!company_visible) }}> Company Detail</Button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </Col>\r\n            </Row>\r\n            <Row gutter={[12, 24]}>\r\n                <Col>\r\n                    <Title level={4} className=\"font-weight-normal\">Category : <Tag color=\"green\">gradening</Tag>\r\n                        <Tag color=\"green\">gradening</Tag>\r\n                        <Tag color=\"green\">gradening</Tag>\r\n                    </Title>\r\n                </Col>\r\n            </Row>\r\n            <Row gutter={[12, 24]}>\r\n                <Col>\r\n                    <div className=\"d-flex justify-content-around normal_font_size bold\">Duration : {data?.timeline}{data?.timeline_type}</div>\r\n                    <Title level={2} className=\"font-weight-normal text-success d-flex justify-content-around\">\r\n                        <div className=\"align-items-center d-flex flex-column\">\r\n                            <div>\r\n                                {data?.budget}\r\n                            </div>\r\n                            <div className=\"f_25\">\r\n                                {\"Budget\"}\r\n                            </div>\r\n                        </div>\r\n                    </Title>\r\n                </Col>\r\n            </Row>\r\n            <Row gutter={[12, 24]}>\r\n                <Col>\r\n                    <Title level={4}>{\"Description about bids\"}</Title>\r\n                    <div>\r\n                        <Paragraph ellipsis={{ rows: 3, expandable: true }}>\r\n                            {data?.description}\r\n                        </Paragraph>\r\n                    </div>\r\n\r\n                </Col>\r\n            </Row>\r\n            <Row gutter={[12, 24]}>\r\n                <Col>\r\n                    <Title level={4} className=\"font-weight-normal\">Experience : {data?.experience || 0}</Title>\r\n                </Col>\r\n            </Row>\r\n            {user_data.get_biding_all_files && user_data.get_biding_all_files.map((data, i) => {\r\n                return (\r\n                    <Row gutter={[12, 24]}>\r\n                        <Col>\r\n                            <Title level={4} className=\"font-weight-normal\">{i}Biding Documents:</Title>\r\n                            <img loading=\"lazy\" alt=\"example\" className=\"h_200x w-100\" src={data.small_image} />\r\n                        </Col>\r\n                    </Row>\r\n                )\r\n            })}\r\n\r\n            <Row gutter={[12, 24]}>\r\n                <Col span={24}>\r\n                    <div className=\"d-flex justify-content-around mt-4\">\r\n                        <Button type=\"primary\" onClick={() => { update_biding_data() }}>\r\n                            {data?.add_to_shortlist ? \"Remove from shortlist\" : \"Add to shortlist\"}\r\n                        </Button>\r\n                    </div>\r\n                </Col>\r\n            </Row>\r\n            <Row gutter={[12, 24]}>\r\n                <Col span={12}>\r\n                    <div className=\"d-flex justify-content-around\">\r\n                        <Button size={'large'} > Reject</Button>\r\n                    </div>\r\n                </Col>\r\n                <Col span={12}>\r\n                    <div className=\"d-flex justify-content-around\">\r\n                        <Button size={'large'} type=\"primary\" onClick={() => { set_price_visible(!price_visible) }}> Adward</Button>\r\n                    </div>\r\n                </Col>\r\n            </Row>\r\n            <Modal\r\n                title=\"Please fund the Project\"\r\n                visible={price_visible}\r\n                footer={null}\r\n                onCancel={() => { set_price_visible(!price_visible) }}\r\n            >\r\n                <Row gutter={[12, 24]}>\r\n                    <Col span={24}>\r\n                        <div className=\"d-flex normal_font_size justify-content-between\">\r\n                            <div className=\"\">\r\n                                Project Budget\r\n                            </div>\r\n                            <div >\r\n                                {data?.budget}\r\n                            </div>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n                <Row gutter={[12, 24]}>\r\n                    <Col span={24}>\r\n                        <div className=\"d-flex normal_font_size justify-content-between\">\r\n                            <div className=\"align-items-center d-flex\">\r\n                                Service Fee\r\n                                <Tooltip placement=\"right\" title={`Service fee has been apiled ${data?.service_fee}`}>\r\n                                    <Icon type=\"question-circle\" className=\"px-2\" />\r\n                                </Tooltip>\r\n                            </div>\r\n                            <div >\r\n                                {data?.admin_fee}\r\n                            </div>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n\r\n                {!isStripePayment && <><div className=\"\">\r\n                    <StripePayout data={data} booking_type={\"contract\"} current_booking_status={10} />\r\n                </div></>\r\n                }\r\n            </Modal>\r\n            <Modal\r\n                visible={company_visible}\r\n                footer={null}\r\n                header={null}\r\n                className=\"company_detail_modal\"\r\n                onCancel={() => { set_company_visible(!company_visible) }}\r\n            >\r\n                <Row gutter={[12, 24]} className=\"mt-5\">\r\n                    <Col span={24}>\r\n                        <div className=\"d-flex normal_font_size justify-content-between align-items-center\">\r\n                            <div>\r\n                                <div className=\"bold\">\r\n                                    {user_data?.get_company_root_detail?.company_name}\r\n                                </div>\r\n                                <div >\r\n                                    {user_data?.get_company_root_detail?.company_website}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <Avatar className=\"biding_avatar\" size={64} src={user_data?.img_url} />\r\n                        </div>\r\n\r\n                    </Col>\r\n                </Row>\r\n\r\n                <Row gutter={[12, 24]}>\r\n                    <Col>\r\n                        <div>\r\n                            <Paragraph ellipsis={{ rows: 3, expandable: true }}>\r\n                                {user_data?.get_company_root_detail?.about_company}\r\n                            </Paragraph>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n\r\n                {user_data?.get_company_root_detail?.get_company_images && user_data?.get_company_root_detail.get_company_images.map(data => {\r\n                    return (\r\n\r\n                        <Row gutter={[12, 24]}>\r\n                            <Col>\r\n                                <Title level={4} className=\"font-weight-normal\">Company Legal Document</Title>\r\n                                <img loading=\"lazy\" alt=\"example\" className=\"h_200x w-100\" src={data?.small_image} />\r\n                            </Col>\r\n                        </Row>\r\n                    )\r\n                })}\r\n                <Row gutter={[12, 24]}>\r\n                    <Col span={24}>\r\n                        <div>\r\n                            <Button type=\"link\" className=\"option_blue normal_font_size\">\r\n                                <div className=\"d-flex align-items-center\">\r\n                                    Dowwnload Profile <Icon type=\"download\" className=\"px-2\" />\r\n                                </div>\r\n                            </Button>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n            </Modal>\r\n        </div>\r\n    );\r\n}\r\nexport default BiderDetail;"],"sourceRoot":""}