{"version":3,"sources":["image/bookLater.png","component/User/Book/Appointments.js"],"names":["module","exports","__webpack_require__","p","AppiontmentsEmpty","React","lazy","e","then","bind","AppointmentDetail","memo","props","_useState","useState","_useState2","Object","_home_waioz_gigzzy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","user_id","set_user_id","useEffect","localStorage","getItem","JSON","parse","_id","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","react_apollo__WEBPACK_IMPORTED_MODULE_2__","query","MY_CONTRACT_APPOINTMENTS","variables","limit","page","role","booking_status","Number","status","fetchPolicy","_ref","_data$get_contracts_p","_data$get_contracts_p2","loading","error","data","startPolling","stopPolling","antd_lib_skeleton__WEBPACK_IMPORTED_MODULE_5___default","concat","Fragment","antd_lib_card__WEBPACK_IMPORTED_MODULE_4___default","className","extra","antd_lib_pagination__WEBPACK_IMPORTED_MODULE_6___default","simple","current","onChange","pagesize","handleInfiniteOnLoad","total","get_contracts_pagination","pageInfo","totalDocs","title","heading","length","react__WEBPACK_IMPORTED_MODULE_1__","fallback"],"mappings":"gFAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,wLCWlCC,WAAoBC,IAAMC,KAAK,kBAAMJ,EAAAK,EAAA,IAAAC,KAAAN,EAAAO,KAAA,eACrCC,EAAoBL,IAAMC,KAAK,kBAAMJ,EAAAK,EAAA,KAAAC,KAAAN,EAAAO,KAAA,cAkE5BJ,cAAMM,KAjErB,SAAsBC,GAClB,IAAAC,EAA+BC,mBAAS,IAAxCC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAAOK,EAAPH,EAAA,GAAgBI,EAAhBJ,EAAA,GASA,OAPAK,oBAAU,WACDC,aAAaC,QAAQ,QAGtBH,EAAY,4BAFZA,EAAYI,KAAKC,MAAMH,aAAaC,QAAQ,SAASG,MAI1D,CAACJ,aAAaC,QAAQ,UAErBI,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACIC,MAAOC,IACPC,UAAW,CACPC,MAAO,GACPC,KAAMtB,EAAMsB,KACZT,IAAIP,EACJA,QAASA,EACTiB,KAAM,EACNC,eAAgBC,OAAOzB,EAAM0B,SAEjCC,YAAY,YAGX,SAAAC,GAAyD,IAAAC,EAAAC,EAAtDC,EAAsDH,EAAtDG,QAASC,EAA6CJ,EAA7CI,MAAOC,EAAsCL,EAAtCK,KAChB,OADsDL,EAAhCM,aAAgCN,EAAlBO,YAChCJ,EAAgBjB,EAAAC,EAAAC,cAACoB,EAAArB,EAAD,MAChBiB,EAAO,UAAAK,OAAiBL,GAKxBlB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuB,SAAA,KACIxB,EAAAC,EAAAC,cAACuB,EAAAxB,EAAD,CACIyB,UAAU,4CACVC,MACI3B,EAAAC,EAAAC,cAAC0B,EAAA3B,EAAD,CACI4B,QAAQ,EACRC,QAAS5C,EAAMsB,KACfuB,SAAU,SAACvB,IAXF,SAACA,EAAMwB,GAChC9C,EAAM+C,qBAAqBzB,GAUWyB,CAAqBzB,IAC3C0B,MAAK,QAAAnB,EAAEI,EAAKgB,gCAAP,IAAApB,OAAA,UAAAC,EAAED,EAA+BqB,gBAAjC,IAAApB,OAAA,EAAEA,EAAyCqB,YAExDC,MAAOpD,EAAMqD,QACbtB,QAASA,GACRE,EAAKgB,yBAAyBhB,KAAKqB,OAAS,EACzCxC,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuB,SAAA,KACIxB,EAAAC,EAAAC,cAACuC,EAAA,SAAD,CAAUC,SAAU1C,EAAAC,EAAAC,cAACoB,EAAArB,EAAD,OAChBD,EAAAC,EAAAC,cAAClB,EAAD,CAAmBmC,KAAMA,EAAKgB,yBAAyBhB,SAI/DnB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuB,SAAA,KACIxB,EAAAC,EAAAC,cAACuC,EAAA,SAAD,CAAUC,SAAU1C,EAAAC,EAAAC,cAACoB,EAAArB,EAAD,OAChBD,EAAAC,EAAAC,cAACxB,EAAD","file":"static/js/153.c5dbd68d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bookLater.3e207467.png\";","import React, { Suspense, useState, useEffect } from 'react'\nimport { Query } from \"react-apollo\";\nimport { My_APPOINTMENTS, MY_CONTRACT_APPOINTMENTS } from '../../../graphql/User/booking';\nimport Badge from 'antd/lib/badge';\nimport Row from 'antd/lib/row';\nimport Col from 'antd/lib/col';\nimport Card from 'antd/lib/card';\nimport Skeleton from 'antd/lib/skeleton';\nimport Pagination from 'antd/lib/pagination';\nimport Tooltip from 'antd/lib/tooltip';\nimport timer_icon from '../../../image/bookLater.png';\nconst AppiontmentsEmpty = React.lazy(() => import('./AppiontmentsEmpty'));\nconst AppointmentDetail = React.lazy(() => import('./AppointmentDetail'));\nfunction Appointments(props) {\n    const [user_id, set_user_id] = useState('');\n\n    useEffect(() => {\n        if (!localStorage.getItem('user')) {\n            set_user_id(JSON.parse(localStorage.getItem('user'))._id)\n        } else {\n            set_user_id('61306d9257602fcea82c5fb3')\n        }\n    }, [localStorage.getItem('user')])\n    return (\n        <Query\n            query={MY_CONTRACT_APPOINTMENTS}\n            variables={{\n                limit: 10,\n                page: props.page,\n                _id:user_id,\n                user_id: user_id,\n                role: 1,\n                booking_status: Number(props.status)\n            }}\n            fetchPolicy='no-cache'\n        // pollInterval={25000}\n        >\n            {({ loading, error, data, startPolling, stopPolling }) => {\n                if (loading) return <Skeleton />;\n                if (error) return `Error! ${error}`;\n                const handleInfiniteOnLoad = (page, pagesize) => {\n                    props.handleInfiniteOnLoad(page);\n                }\n                return (\n                    <>\n                        <Card\n                            className=\"row m-0 booking_view booking_view_showdow\"\n                            extra={\n                                <Pagination\n                                    simple={true}\n                                    current={props.page}\n                                    onChange={(page) => { handleInfiniteOnLoad(page) }}\n                                    total={data.get_contracts_pagination?.pageInfo?.totalDocs} />\n                            }\n                            title={props.heading}\n                            loading={loading}>\n                            {data.get_contracts_pagination.data.length > 0 ?\n                                <>\n                                    <Suspense fallback={<Skeleton />}>\n                                        <AppointmentDetail data={data.get_contracts_pagination.data} />\n                                    </Suspense>\n                                </>\n                                :\n                                <>\n                                    <Suspense fallback={<Skeleton />}>\n                                        <AppiontmentsEmpty />\n                                    </Suspense>\n                                </>\n                            }\n                        </Card>\n                    </>\n                );\n            }}\n        </Query >\n    )\n};\n\n\nexport default React.memo(Appointments);"],"sourceRoot":""}