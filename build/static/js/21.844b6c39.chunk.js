(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{1930:function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return s});var a,l,i,c=n(16),o=n(17),r=n.n(o),d=r()(a||(a=Object(c.a)(["\n    query GETMILESTONEPAGINATION($_id:ID,$contract_id:ID,$biding_id:ID,$location_code:String){\n        get_biding_milestone(_id:$_id,contract_id:$contract_id,biding_id:$biding_id){\n                _id\n                budget(code:$location_code)\n                ref: milestone_ref\n                created_at\n                user_id\n                contract_id\n                timeline\n                timeline_type\n                payment_option(code:$location_code)\n                booking_status\n                description\n                title\n                pro_description\n                extra_fare\n                extra_fare_reason\n                total(code:$location_code)\n                get_milestone_all_images(root:true){\n                    small_image\n                }\n        }\n    }\n"]))),s=(r()(l||(l=Object(c.a)(["\n    query GETMILESTONEDETAIL($_id:ID,$contract_id:ID,$biding_id:ID){\n        get_biding_milestone_detail(_id:$_id,contract_id:$contract_id,biding_id:$biding_id){\n            _id\n            budget\n            ref: milestone_ref\n            created_at\n            user_id\n            contract_id\n            description\n            timeline\n            timeline_type\n        }\n    }\n"]))),r()(i||(i=Object(c.a)(["\nmutation UPDATEMILESTONE($option:String  \n    $_id:ID\n    $user_id: String\n    $provider_id:ID\n    $biding_id:ID\n    $contract_id:ID\n    $file:[Upload]\n    $milestone_data:JSON){ \n    update_milestone(\n        option:$option  \n        _id:$_id\n        user_id: $user_id\n        provider_id:$provider_id\n        biding_id:$biding_id\n        contract_id:$contract_id\n        file:$file\n        milestone_data:$milestone_data\n  ) {\n    msg\n    status\n  }\n}"]))))},1932:function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return s}),n.d(t,"c",function(){return m});var a,l,i,c=n(16),o=n(17),r=n.n(o),d=r()(a||(a=Object(c.a)(["\n    query GETBIDINGPAGINATION($limit: Int,$page:Int,$data:JSON,$contract_id:ID,$location_code:String) {\n        get_biding_pagination(limit:$limit,page:$page,data:$data,contract_id:$contract_id,location_code:$location_code) {\n            pageInfo{\n                totalDocs\n                page\n            }\n            data{\n                _id\n                budget(code:$location_code)\n                service_fee\n                admin_fee(code:$location_code)\n                ref: biding_ref\n                created_at\n                user_id\n                contract_id\n                description\n                experience\n                timeline\n                timeline_type\n                payment_option(code:$location_code)\n                add_to_shortlist\n                provider_rating_by_category(root: true) {\n                    rating\n                }\n                get_biding_all_files {\n                    small_image\n                }\n                get_user(root_parent:true) {\n                    img_url\n                    first_name\n                    user_type\n                    last_name\n                    _id\n                    get_company_root_detail(root: true) {\n                        company_name\n                        company_website\n                        company_category\n                        get_company_images {\n                            small_image\n                        }\n                    }\n                }\n            }\n        }\n    }\n"]))),s=r()(l||(l=Object(c.a)(['\n    query GETBIDINGDETAIL($_id:ID){\n        get_biding_detail(_id:$_id){\n            _id\n                budget(code:"IN")\n                admin_fee(code:"IN")\n                service_fee\n                ref: biding_ref\n                created_at\n                user_id\n                contract_id\n                description\n                experience\n                timeline\n                timeline_type\n                add_to_shortlist\n                payment_type\n                ctob_shotcode\n                ctob_billRef\n                get_biding_all_files {\n                    small_image\n                }\n                get_user {\n                    img_url\n                    first_name\n                    user_type\n                    last_name\n                    _id\n                    get_company_root_detail(root: true) {\n                        company_name\n                        company_website\n                        company_category\n                        get_company_images {\n                            small_image\n                        }\n                    }\n                }\n        }\n    }\n']))),m=r()(i||(i=Object(c.a)(["\nmutation UPDATEBIDING($_id:ID,$biding_data:[JSON]){ \n    update_biding(\n    _id: $_id\n    biding_data: $biding_data\n  ) {\n    msg\n    status\n  }\n}"])))},2053:function(e,t,n){"use strict";n.r(t);var a=n(3),l=n.n(a),i=n(5),c=n(38),o=n(1),r=n.n(o),d=n(167),s=n(22),m=n(422),_=n(613),u=n.n(_),g=n(213),b=n.n(g),v=n(144),p=n.n(v),E=n(104),f=n(612),N=n(1932),y=n(1930),$=n(352),O=n.n($),I=r.a.lazy(function(){return n.e(3).then(n.bind(null,1944))}),x={0:"welcome Gizzy",50:"waiting for payment confirmation",9:"Provider accept job",10:"Base price paid",11:"Booking canceled",4:"Job started",13:"Ongoing",14:"Completed"},j={0:"welcome Gizzy",50:"waiting for payment confirmation",9:"Pending",4:"Job started",13:"Ongoing",14:"Completed"};t.default=function(){var e,t,n,a,_,g,v,$,k,h,D=u()(),S=p()(),w=(S.history,S.match),T=Object(o.useState)([]),B=Object(c.a)(T,2),z=B[0],A=B[1],G=Object(o.useState)([]),P=Object(c.a)(G,2),J=P[0],L=P[1],M=Object(o.useState)({}),C=Object(c.a)(M,2),q=C[0],F=C[1],U=Object(o.useState)([]),R=Object(c.a)(U,2),V=R[0],H=R[1],K=Object(o.useState)([]),Q=Object(c.a)(K,2),W=Q[0],X=Q[1],Y=Object(o.useState)([]),Z=Object(c.a)(Y,2),ee=Z[0],te=Z[1],ne=Object(o.useState)(!1),ae=Object(c.a)(ne,2),le=(ae[0],ae[1],Object(o.useState)({})),ie=Object(c.a)(le,2),ce=ie[0],oe=ie[1],re=Object(E.b)(f.b),de=Object(E.b)(N.a),se=Object(E.b)(y.a);Object(o.useEffect)(function(){me()},[]);var me=function(){var e=Object(i.a)(l.a.mark(function e(){var t,n,a,i,c;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.refetch({contract_id:w.params.id});case 2:if(t=e.sent,X(t.data.get_contracts[0]),H(t.data.get_contracts[0].get_provider_user),L(t.data.get_contracts[0].get_user),A(t.data.get_contracts[0].get_contract_category),!t.data.get_contracts[0].biding_id){e.next=17;break}return e.next=10,de.refetch({_id:t.data.get_contracts[0].biding_id});case 10:return n=e.sent,F(n.data.get_biding_detail),e.next=14,se.refetch({biding_id:t.data.get_contracts[0].biding_id});case 14:a=e.sent,te(a.data.get_biding_milestone),50===t.data.get_contracts[0].booking_status?oe(n.data.get_biding_detail):t.data.get_contracts[0].currenct_milestone_status&&(i=t.data.get_contracts[0].currenct_milestone_id,c=O.a.find(ee,["_id",i]),O.a.size(c)&&oe(c));case 17:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:" col-xs-12 col-md-12 col-sm-12 invoice_body_color  "},r.a.createElement("div",{className:"col-xs-12 col-md-12 col-sm-12 col-lg-6 main_content mx-lg-auto"},r.a.createElement("div",{className:"invoice_header mt-1"},r.a.createElement("div",{className:D.isMobile()?"d-none":""},r.a.createElement("a",{href:"/bookings"},r.a.createElement(d.a,{placement:"left",title:"Back to Booking"},r.a.createElement(s.a,{className:"ml-2 cursor_point",type:"arrow-left",style:{fontSize:"26px"}})))),r.a.createElement("div",null,r.a.createElement("img",{src:b.a,alt:"gigzzy",className:"w-50x object_fit cursor_point"})),r.a.createElement("div",{className:"invoice_info"},r.a.createElement("div",null,"INVOICE NO ",r.a.createElement("b",null,null===W||void 0===W?void 0:W.contract_ref)),r.a.createElement("div",null," ",r.a.createElement("small",null,null===W||void 0===W?void 0:W.booking_date)),r.a.createElement("div",{className:"py-2"},r.a.createElement(m.a,{color:"green"},x[W.booking_status])))),r.a.createElement("div",{className:50===(null===ce||void 0===ce?void 0:ce.booking_status)&&"c2b"==(null===ce||void 0===ce?void 0:ce.payment_type)?"jumbotron p-1 mb-3 mx-3":"d-none"},r.a.createElement(o.Suspense,{fallback:r.a.createElement("div",{class:"spinner-border text-success",role:"status"},r.a.createElement("span",{class:"sr-only"},"Loading..."))},r.a.createElement(I,{BusinessNumber:null===ce||void 0===ce?void 0:ce.ctob_shotcode,AmountNumber:null===ce||void 0===ce?void 0:ce.ctob_billRef,Amount:null===ce||void 0===ce?void 0:ce.budget}))),r.a.createElement("div",{className:"user_batch mx-3"},r.a.createElement("p",null,r.a.createElement("b",null,null===J||void 0===J?void 0:null===(e=J[0])||void 0===e?void 0:e.name)),r.a.createElement("p",null,"Thanks for using gigzzy.")),r.a.createElement("div",{className:"total_fare"},r.a.createElement("h5",null,"TOTAL COST"),r.a.createElement("h1",null,r.a.createElement("small",null),null===q||void 0===q?void 0:q.budget)),r.a.createElement("div",{className:"fare_estimation col-xs-12 col-md-12 col-sm-12 nopad d-print-block d-md-flex"},r.a.createElement("div",{className:"fare_breakup mr-sm-3"},r.a.createElement("p",{className:"title"},"Fare Breakup"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("label",null,"Base Price"),r.a.createElement("span",null,null===q||void 0===q?void 0:q.admin_fee)))),r.a.createElement("div",{className:"tax_breakup "},r.a.createElement("p",{className:"title"},"Service Breakup"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("label",{className:"d-flex align-items-center"},"Service Fee",r.a.createElement("span",{className:"ml-auto"},null===q||void 0===q?void 0:q.service_fee,"%")))))),r.a.createElement("div",{className:"booking_details col-xs-12 col-md-12 col-sm-12"},r.a.createElement("p",{className:"title"},"Booking Details"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("label",null,"Service Type"),r.a.createElement("span",null,1===(null===z||void 0===z?void 0:null===(t=z[0])||void 0===t?void 0:t.category_type)?null===z||void 0===z?void 0:null===(n=z[0])||void 0===n?void 0:n.category_name:null===z||void 0===z?void 0:null===(a=z[0])||void 0===a?void 0:a.subCategory_name)),r.a.createElement("li",null,r.a.createElement("label",null,"Booking Date"),r.a.createElement("span",null,null===W||void 0===W?void 0:W.created_at)))),ee.length>0&&r.a.createElement("div",{className:"booking_details col-xs-12 col-md-12 col-sm-12"},r.a.createElement("p",{className:"title"},"Milestone Details"),ee.map(function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"jumbotron p-3 "},r.a.createElement("div",null,"Milestone ",t),r.a.createElement("div",{className:"justify-content-between d-flex"},r.a.createElement("div",{className:"d-flex"},"Milestone Status"),r.a.createElement("div",{className:"d-flex flex-grow-0"},r.a.createElement(m.a,{color:"green"},j[null===e||void 0===e?void 0:e.booking_status]))),r.a.createElement("div",{className:"justify-content-between d-flex"},r.a.createElement("div",{className:"d-flex"},"Budget"),r.a.createElement("div",{className:"d-flex flex-grow-0"},null===e||void 0===e?void 0:e.budget))))})),r.a.createElement("div",{className:"member_section col-xs-12 col-md-12 col-sm-12 nopad d-print-block d-md-flex"},r.a.createElement("div",{className:"user_details mr-sm-3"},r.a.createElement("p",{className:"title"},"User Details"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("label",null,"Name"),r.a.createElement("span",null,null===J||void 0===J?void 0:null===(_=J[0])||void 0===_?void 0:_.name)),r.a.createElement("li",null,r.a.createElement("label",null,"Email"),r.a.createElement("span",null,null===J||void 0===J?void 0:null===(g=J[0])||void 0===g?void 0:g.email)),r.a.createElement("li",null,r.a.createElement("label",null,"Phone"),r.a.createElement("span",null,null===J||void 0===J?void 0:null===(v=J[0])||void 0===v?void 0:v.phone_number)))),r.a.createElement("div",{className:"provider_details"},r.a.createElement("p",{className:"title"},"Provider Details"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("label",null,"Name"),r.a.createElement("span",null,null===V||void 0===V?void 0:null===($=V[0])||void 0===$?void 0:$.name)),r.a.createElement("li",null,r.a.createElement("label",null,"Email"),r.a.createElement("span",null,null===V||void 0===V?void 0:null===(k=V[0])||void 0===k?void 0:k.email)),r.a.createElement("li",null,r.a.createElement("label",null,"Phone"),r.a.createElement("span",null,null===V||void 0===V?void 0:null===(h=V[0])||void 0===h?void 0:h.phone_number))))),r.a.createElement("div",{className:"invoice_footer col-xs-12 m-3"},r.a.createElement("hr",null),r.a.createElement("p",null," Thanks,"),"gigzzy Team"))))}}}]);
//# sourceMappingURL=21.844b6c39.chunk.js.map