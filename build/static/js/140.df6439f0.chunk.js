(window.webpackJsonp=window.webpackJsonp||[]).push([[140],{1036:function(e,t,a){"use strict";var n,l,r=a(148),o=a(760),s=a(0),c=a.n(s),i=a(48),d=a(682),u=a(685),m=a(89),g=a(1123),p=a(707),f=a(74),E=a(761),b=a.n(E),y=a(343),_=a(738),O=a(228),v=a.n(O),j=a(952),A=a.n(j),S=b()(n||(n=Object(o.a)(["\nquery ADDRESS($user_id: ID) {\n  user_address(user_id: $user_id) {\n      _id\n    title\n    flat_no\n    landmark\n    address\n    lat\n    lng\n    location_code\n  }\n}\n"]))),N=b()(l||(l=Object(o.a)(["\n  mutation delete_address($option: Int,$_id: ID) {\n     modified_address(option:$option,_id:$_id ) {\n        msg\n        status\n    }\n  }\n"])));t.a=function(e){var t=Object(i.useLocation)(),a=Object(s.useState)(""),n=Object(r.a)(a,2),l=n[0],o=n[1];Object(s.useEffect)(function(){console.log("SetAddress -> props",e),e.user_id?o(e.user_id):JSON.parse(localStorage.getItem("user"))&&o(JSON.parse(localStorage.getItem("user"))._id)},[e]);var E=Object(d.b)(S,{variables:{user_id:l}}),b=E.loading,O=E.error,j=E.data,h=Object(d.a)(N,{refetchQueries:[{query:S,variables:{user_id:l}}],awaitRefetchQueries:!0}),k=Object(r.a)(h,2),C=k[0],w=k[1].loading;if(b)return c.a.createElement(u.a,null);if(w)return c.a.createElement(u.a,null);if(O)return"Error! ".concat(O.message);return console.log("SetAddress -> props-<oapdsujikl",e),c.a.createElement(y.c.Consumer,null,function(a){return c.a.createElement(y.a.Consumer,null,function(n){return c.a.createElement(c.a.Fragment,null,0===j.user_address.length?c.a.createElement(c.a.Fragment,null,function(e){e&&v()(e)&&e.no_data()}(n),c.a.createElement(m.a,{className:"m-5",description:!1})):c.a.createElement(c.a.Fragment,null,c.a.createElement(g.a,{itemLayout:"horizontal",dataSource:j.user_address,renderItem:function(l){return c.a.createElement(g.a.Item,{className:e&&e.address_id?"cursor_point table-active":"cursor_point",actions:[c.a.createElement(p.a,{type:"link primary_color d-flex",size:"small",onClick:function(){n.location_edit(l)}},c.a.createElement(f.a,{type:"edit"})," edit"),c.a.createElement(p.a,{type:"link primary_color d-flex",size:"small",onClick:function(){!function(e){console.log(e);var t={option:3,_id:e._id};C({variables:t}).then(function(e){console.log(e),"success"===e.data.modified_address.status?Object(_.a)({msg:"Delete success",status:"success"}):Object(_.a)({msg:"Delete failed",status:"failed"})})}(l)}},c.a.createElement(f.a,{type:"delete"})," delete")]},c.a.createElement(u.a,{avatar:!0,title:!0,loading:l.loading,active:!0},c.a.createElement(g.a.Item.Meta,{onClick:function(){A()(["profile"],t.pathname.split("/")[1])||a.location_change(j)},avatar:"Work"===l.title?c.a.createElement(f.a,{className:"f_25 ml-3 mt-1",type:"shop"}):"Home"===l.title?c.a.createElement(f.a,{className:"f_25 ml-3 mt-1",type:"home"}):c.a.createElement(f.a,{className:"f_25 ml-3 mt-1",type:"security-scan"}),title:l.title,description:l.address})))}})))})})}},1058:function(e,t,a){"use strict";a.r(t);var n,l,r=a(709),o=a.n(r),s=a(714),c=a(148),i=a(760),d=a(0),u=a.n(d),m=a(48),g=a(981),p=a(707),f=a(929),E=a(74),b=a(993),y=a.n(b),_=a(954),O=a.n(_),v=a(955),j=a.n(v),A=a(682),S=a(761),N=a.n(S),h=a(1036),k=a(1049),C=a(738),w=a(952),I=a.n(w),L=a(343),x=N()(n||(n=Object(i.a)(["\n  mutation add_address($company_id:ID,$location_code:String,$option: Int,$_id:ID,$user_id: String,$title: String,$flat_no: String ,$landmark: String,$address: String,$lat: String,$lng: String ) {\n     modified_address(company_id:$company_id,location_code:$location_code,option: $option,_id:$_id,user_id: $user_id,title: $title,flat_no: $flat_no, landmark: $landmark,address: $address,lat: $lat,lng: $lng ) {\n        msg\n        status\n    }\n  }\n"]))),z=N()(l||(l=Object(i.a)(["\nquery ADDRESS($user_id: ID) {\n  user_address(user_id: $user_id) {\n      _id\n    title\n    flat_no\n    landmark\n    address\n    lat\n    lng\n    location_code\n  }\n}\n"])));t.default=function(e){var t=Object(m.useLocation)(),n=Object(d.useState)(""),l=Object(c.a)(n,2),r=l[0],i=l[1],b=Object(d.useState)(""),v=Object(c.a)(b,2),S=v[0],N=v[1],w=Object(d.useState)(!1),W=Object(c.a)(w,2),R=W[0],T=W[1],J=Object(d.useState)(!0),H=Object(c.a)(J,2),Q=H[0],F=H[1],D=Object(d.useState)(15),M=Object(c.a)(D,2),Z=M[0],U=M[1],K=Object(d.useState)(""),P=Object(c.a)(K,2),Y=P[0],X=P[1],B=Object(d.useState)(""),G=Object(c.a)(B,2),q=G[0],V=G[1],$=Object(d.useState)(9.9619289),ee=Object(c.a)($,2),te=ee[0],ae=ee[1],ne=Object(d.useState)(78.1288218),le=Object(c.a)(ne,2),re=le[0],oe=le[1],se=Object(d.useState)(""),ce=Object(c.a)(se,2),ie=ce[0],de=ce[1],ue=Object(d.useState)(""),me=Object(c.a)(ue,2),ge=me[0],pe=me[1],fe=Object(d.useState)("Others"),Ee=Object(c.a)(fe,2),be=Ee[0],ye=Ee[1],_e=Object(d.useState)(""),Oe=Object(c.a)(_e,2),ve=Oe[0],je=Oe[1],Ae=Object(d.useState)([9.9619289,78.1288218]),Se=Object(c.a)(Ae,2),Ne=Se[0],he=Se[1],ke=Object(d.useState)(!1),Ce=Object(c.a)(ke,2),we=Ce[0],Ie=Ce[1],Le=Object(d.useState)(!1),xe=Object(c.a)(Le,2),ze=xe[0],We=xe[1];Object(d.useEffect)(function(){var t="";JSON.parse(localStorage.getItem("user"))&&(t=JSON.parse(localStorage.getItem("user"))._id),e.user_id?i(e.user_id):t&&i(t),e.address_id&&N(e.address_id)},[e]);var Re=Object(A.a)(x,{refetchQueries:[{query:z,variables:{user_id:r}}],awaitRefetchQueries:!0}),Te=Object(c.a)(Re,1)[0];Object(d.useEffect)(function(){console.log(e),T(e.visible),Ie(!1)},[e]);var Je=function(){Ie(!0),We(!1),de(""),ye("Others"),pe(""),X("")},He=function(){Ie(!1)},Qe=function(e){X(e)},Fe=function(e){X(e),Object(_.geocodeByAddress)(e).then(function(e){e[0]&&e[0].address_components.map(function(e){e.types.includes("country")&&V(e.short_name)}),Object(_.getLatLng)(e[0])}).then(function(e){ae(e.lat),oe(e.lng),he([e.lat,e.lng])}).catch(function(e){return console.error("Error",e)})},De=function(e){var t=e.center,a=e.zoom;he(t),U(a)},Me=function(){var e=Object(s.a)(o.a.mark(function e(t,a,n){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return F(!1),ae(n.lat),oe(n.lng),j.a.setApiKey("AIzaSyDYRYnxipjEBUNazDUwUa_8BDvm8ON7TIk"),e.next=6,j.a.fromLatLng(n.lat,n.lng).then(function(e){console.log("onCircleInteraction -> response",e),e.results[0].address_components&&e.results[0].address_components.map(function(e){e.types.includes("country")&&V(e.short_name)});var t=e.results[0].formatted_address;X(t)},function(e){console.error(e)});case 6:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),Ze=function(e,t,a){F(!0)},Ue=function(e){console.log(e),je(e._id),Ie(!0),We(!0),X(e.address),ae(e.lat),oe(e.lng),ye(e.title),pe(e.landmark),de(e.flat_no),ae(Number(e.lat)),oe(Number(e.lng)),he([Number(e.lat),Number(e.lng)])};return u.a.createElement(L.c.Consumer,null,function(n){return u.a.createElement(L.a.Provider,{value:{location_edit:Ue,no_data:Je}},u.a.createElement("div",null,u.a.createElement(g.a,{title:"Set Location",className:"new_modal maping",centered:!0,visible:R,onOk:function(){return T(!1)},onCancel:function(){return T(!1)},footer:!1===we?u.a.createElement(p.a,{value:"large",type:"dashed",onClick:Je,className:"w-100",style:{borderRadius:"17px"}},"Add New Address"):u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"my-2 no_color d-flex justify-content-between"},u.a.createElement("div",null,"Set location"),u.a.createElement("div",{className:"primary_color"},u.a.createElement(p.a,{className:"primary_color",type:"link",onClick:He},u.a.createElement(k.a,null),"  skip"))),u.a.createElement("div",{className:"my-2"},u.a.createElement("div",{className:"d-flex"},u.a.createElement("span",{className:"m-1 primary_error"},"*"),u.a.createElement(O.a,{value:Y,onChange:Qe,onSelect:Fe},function(e){var t=e.getInputProps,a=e.suggestions,n=e.getSuggestionItemProps,l=e.loading;return u.a.createElement("div",{className:"position-relative w-100"},u.a.createElement("input",t({placeholder:"Location",icon:"eye",className:"location-search-input jiffy_input place_input loc_img"})),u.a.createElement("div",{className:"autocomplete-dropdown-container"},l&&u.a.createElement("div",{className:"suggest_load"},"Loading..."),a.map(function(e){var t=e.active?"suggestion-item--active":"suggestion-item",a=e.active?{backgroundColor:"#fafafa",cursor:"pointer",display:"flex"}:{backgroundColor:"#ffffff",cursor:"pointer",display:"flex"};return u.a.createElement("div",n(e,{className:t,style:a}),u.a.createElement("span",null,e.description))})))})),u.a.createElement("div",{className:"my-2 ml-3"},u.a.createElement(f.a,{size:"large",value:ie,placeholder:"Enter Flat No",onChange:function(e){de(e.target.value)}})),u.a.createElement("div",{className:"my-2 ml-3"},u.a.createElement(f.a,{size:"large",value:ge,placeholder:"Enter LandMark",onChange:function(e){pe(e.target.value)}})),u.a.createElement("div",{className:"Home"!==be&&"Work"!==be?"my-2 d-flex":"d-none"},u.a.createElement("span",{className:"m-1 primary_error"},"*"),u.a.createElement(f.a,{size:"large",value:be,placeholder:"Enter title",onChange:function(e){ye(e.target.value)}})),u.a.createElement("div",{className:"my-2 d-flex justify-content-around"},u.a.createElement(p.a,{className:"Home"===be?"d-flex primary_color":"d-flex no_color",type:"link",onClick:function(){ye("Home")}},u.a.createElement(E.a,{type:"home"})," Home"),u.a.createElement(p.a,{className:"Work"===be?"d-flex primary_color":"d-flex no_color",type:"link",onClick:function(){ye("Work")}},u.a.createElement(E.a,{type:"shop"}),"Work"),u.a.createElement(p.a,{className:"Home"!==be&&"Work"!==be?"d-flex primary_color":"d-flex no_color",type:"link",onClick:function(){ye("Others")}},u.a.createElement(E.a,{type:"security-scan"}),"Others")),u.a.createElement("div",{className:"my-2"},!0===ze?u.a.createElement(p.a,{type:"primary",block:!0,onClick:function(){!function(a){var n={option:2,_id:ve,title:be,flat_no:ie,landmark:ge,address:Y,lat:String(te),lng:String(re),location_code:q};console.log(n),e.company&&(console.log("edit_data -> props.company",e.company),n.company_id=localStorage.getItem("user_company_id")),null!==n.lat&&""!==n.lat&&""!==n.lng&&null!==n.lng&&""!==n.address&&null!==n.address&&""!==n._id&&null!==n._id&&""!==n.title&&null!==n.title?Te({variables:n}).then(function(e){"success"===e.data.modified_address.status?("/profile"!==t.pathname&&"/login"!==t.pathname&&a.location_change(n),Object(C.a)({msg:"Address update saved",status:"success"})):Object(C.a)({msg:"Address not update",status:"failed"})}):Object(C.a)({msg:"Please add mandatory field",status:"failed"})}(n)}},"Update & Proceed"):u.a.createElement(p.a,{type:"primary",block:!0,onClick:function(){!function(a){console.log(a);var n={option:1,user_id:JSON.parse(localStorage.getItem("user"))._id,title:be,flat_no:ie,landmark:ge,address:Y,lat:String(te),lng:String(re),location_code:q};console.log(n),e.company&&(n.company_id=localStorage.getItem("user_company_id")),null===n.lat||""===n.lat||""===n.lng||null===n.lng||""===n.address||null===n.address||""===n.user_id||null===n.user_id||""===n.title||null===n.title?Object(C.a)({msg:"Please add mandatory field",status:"failed"}):Te({variables:n}).then(function(e){"success"===e.data.modified_address.status?(I()(["/profile","/login"],t.pathname.split("/")[1])||a.location_change(n),Object(C.a)({msg:"Address saved",status:"success"})):Object(C.a)({msg:"Address not saved",status:"failed"})})}(n)}},"Save & Proceed"))))},!1===we?u.a.createElement("div",{className:"d-block map_modal"},u.a.createElement(h.a,{user_id:r,address_id:S})):u.a.createElement("div",{className:"d-block maps_modal"},u.a.createElement("div",{style:{height:"30vh",width:"100%"}},u.a.createElement(y.a,{draggable:Q,onChange:De,center:Ne,zoom:Z,onChildMouseDown:Me,onChildMouseUp:Ze,onChildMouseMove:Me},u.a.createElement("div",{className:"place",lat:te,lng:re},u.a.createElement("img",{src:a(994),alt:"your Place"}))))))))})}},994:function(e,t){e.exports="data:image/png;base64,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"}}]);
//# sourceMappingURL=140.df6439f0.chunk.js.map