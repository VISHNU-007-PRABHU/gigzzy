(this.webpackJsonpjiffy=this.webpackJsonpjiffy||[]).push([[17],{2031:function(e,t,a){var n={"./step0.png":2032,"./step1.png":2033,"./step2.png":2034,"./step3.png":2035,"./step4.png":2036,"./step5.png":2037};function r(e){var t=c(e);return a(t)}function c(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=c,e.exports=r,r.id=2031},2032:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAPCAYAAAAGRPQsAAAABHNCSVQICAgIfAhkiAAAANRJREFUOE/tkuENgjAQhXsT6Ag6gTiBjuAIOoFxAsomjqAbwATiBrqBG9T3kkKg3jX4nyYXQo/39fF6EkJonXMb1HCdROSa7PWvhqYSNIIiIkiF4ZDG0DQWzDLlALM0JuwN2ksjgrX/11kFkc9kpkVzp+UjRKsoXOJ5RrWAbTOwA3pF0r9JKgC8xt4Olb1RNQIFxhMfqA9qDYd8Tlo/zqiCO44Ff9kDxjmctCwYQcyxjNAOxiwvFlmFRXc+wkZaztkM0xPAjXIweauLwRdPRJYOa9/+AvtAZJ66X6pWAAAAAElFTkSuQmCC"},2033:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAPCAYAAAAGRPQsAAAABHNCSVQICAgIfAhkiAAAANRJREFUOE/tkuENgjAQhXsT6Ag6gTiBjuAIOoFxAsomjqAbwATiBrqBG9T3kkKg3jX4nyYXQo/39fF6EkJonXMb1HCdROSa7PWvhqYSNIIiIkiF4ZDG0DQWzDLlALM0JuwN2ksjgrX/11kFkc9kpkVzp+UjRKsoXOJ5RrWAbTOwA3pF0r9JKgC8xt4Olb1RNQIFxhMfqA9qDYd8Tlo/zqiCO44Ff9kDxjmctCwYQcyxjNAOxiwvFlmFRXc+wkZaztkM0xPAjXIweauLwRdPRJYOa9/+AvtAZJ66X6pWAAAAAElFTkSuQmCC"},2034:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAATCAYAAACk9eypAAAABHNCSVQICAgIfAhkiAAAATdJREFUKFN9k41RAkEMhd0OtIOzArECtQKlAo8K5CoQKvCsQOgAKgAqkA6UCsQK1u/dJDdhhzMzmUvevpdkfy5dmOWcLwmf8RofGbzn26aUls5LCiCL8BGIvu7fLcEY4TFZ5U0gq5oI6niPP5pqhWAswRTgzUBVWYGJmIl3xfqDBJrzBl9CqEOuGguwyQmHJFv1Cd9vXONFuybRFC/4Th1c0ACoWym4AptFgTZ4h3ebQr8g1vHK5niLf+IVvlaHSJgiegfT4tFEOpDa4kYCJboDN42lrrInq+xrt34PP0EwFB7oXvlNx7GGBA2CNj4NbWzIfjVa9zScUWy+FM4hzwRGQUX+dabFAWyk6icCJXRRlddC1L0vx/oOYTR/W4LWkHW0vZ0T6N/QAfQb/Vdgo+mx7am+Lff0By1fi6/SK19OAAAAAElFTkSuQmCC"},2035:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAOCAYAAADwikbvAAAABHNCSVQICAgIfAhkiAAAAH1JREFUKFNj/A8EDCQARiCAKWeku2aghQeAtheQZTPUtY4jUjMszqAhaA/kXwRifyBWwBH9IPEFQOwIj3CoZgGoxg1A2oBA2kHRPAGouAGIQQag25oAFIuHGuYIpS/AbSaUQoEuAzk1HiV5EtKELA8yAKgZ5AowINpmbJYAALy7UvQ5VSNWAAAAAElFTkSuQmCC"},2036:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAUCAYAAABmvqYOAAAABHNCSVQICAgIfAhkiAAAAVhJREFUOE+tlYtRwkAQhu8q0A6kBKjAUIGhAqEDrEA6QCsQKhAqMCXQgdqBVhC/P7OXiTcil0tuZieTe3y7++89fF3XB+fcHTZGO3jvFwHkgdf8PGCngfQp67fAfQyfG/ye73WmkwnrltgG+8L2IXLB5VkDQzNQbA2rCy/oKMhK30ENpSsA1SA4EMmwNRkWBNZkPRZc2l5ZmkfgZW84kUxDVF296P/g/8b69sxRJumRA1ANXrF57EBOVTiTZc24MukFV3FuMUU5C4D/Kp6kuRXspQOqgGvb/tmYv5M0F+FM0GF6x+JD9QxgHWmvOQqi1AlNgUvLxzNBrmDsTF+B3zDp7y7C8TyxqM8poMItbVBO2uxS4BULVMTeLQWumzKrxXClGAr3qbvFruFR4AWUYCqI4CpmVmP9pt0tgWBAvUi/tlmWB+eeWHdsXw075nrywkWUyW2WfWPlD6vW/x+0qGIPAAAAAElFTkSuQmCC"},2037:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAPCAYAAADgbT9oAAAABHNCSVQICAgIfAhkiAAAALFJREFUOE9j/P///wcGBgZ+IKYmMGQEGvyfmiZCzXIEGexAA4MvgAw+ADSY2q4upGlQUNu1oJAFhzElBjeixU8BNIWhGLwQKPiAiIhUAKqJB6ljBAJk9dD4skd38QISDE6AGtiAxcUC1AgKXB5ECYqLQFWgXIgOQF6Xx2HCQTRxA2xhDAr4C1gMAHkb5nV0aQc0AVBwghxCcaogKihwKSJHHOziDUCd/uToxqHnIVDcAQAZqlEzN/1i9gAAAABJRU5ErkJggg=="},2093:function(e,t,a){"use strict";a.r(t);var n=a(158),r=a(3),c=a.n(r),A=a(5),s=a(42),i=a(1),o=a.n(i),u=a(2094),l=a(481),m=a(351),d=a(140),g=a(128),f=a(68),p=a(22),b=a(201),E=a(20),k=a(107),O=a(655),v=a(444),C=a(153),h=a.n(C),j=a(124),w=a(282),N=a(400),x=a.n(N),_=a(95),F=a.n(_),Q=(a(2008),u.a.Step),y=[{id:1,title:"First",content:"Project Details",status:"wait"},{id:2,title:"Second",content:"Project Location",status:"wait"},{id:3,title:"Last",content:"Budget",status:"wait"},{id:4,title:"final",content:"Document",status:"wait"},{id:5,title:"preview",content:"Post Preview",status:"process"}],B={offset:8,span:16},S=o.a.lazy((function(){return a.e(53).then(a.bind(null,2055))})),I=o.a.lazy((function(){return a.e(52).then(a.bind(null,2056))})),R=o.a.lazy((function(){return a.e(29).then(a.bind(null,2057))}));o.a.lazy((function(){return a.e(28).then(a.bind(null,2058))}));t.default=m.a.create()((function(e){var t,r,C,N,_,U,T=e.form,G=h()(),P=G.history,J=G.match,W=Object(i.useState)(!1),K=Object(s.a)(W,2),q=K[0],D=K[1],X=Object(i.useState)(!0),z=Object(s.a)(X,2),V=z[0],Y=z[1],M=Object(i.useState)(""),L=Object(s.a)(M,2),H=L[0],Z=L[1],$=Object(i.useState)(0),ee=Object(s.a)($,2),te=ee[0],ae=ee[1],ne=Object(i.useState)(""),re=Object(s.a)(ne,2),ce=(re[0],re[1],Object(i.useState)("")),Ae=Object(s.a)(ce,2),se=Ae[0],ie=Ae[1],oe=Object(i.useState)({}),ue=Object(s.a)(oe,2),le=ue[0],me=ue[1],de=Object(i.useState)([]),ge=Object(s.a)(de,2),fe=ge[0],pe=ge[1],be=Object(i.useState)(y),Ee=Object(s.a)(be,2),ke=Ee[0],Oe=Ee[1],ve=Object(k.a)(O.d),Ce=Object(s.a)(ve,2),he=Ce[0],je=(Ce[1].loading,Object(k.b)(O.b)),we=Object(i.useState)({}),Ne=Object(s.a)(we,2),xe=Ne[0],_e=Ne[1];Object(i.useEffect)(Object(A.a)(c.a.mark((function e(){var t,a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.getItem("user")&&ie(JSON.parse(localStorage.getItem("user"))._id),!J.params.id){e.next=12;break}return e.next=4,je.refetch({contract_id:J.params.id});case 4:(a=e.sent).data.get_contracts[0].current_page=a.data.get_contracts[0].current_page||-1,n=parseInt(a.data.get_contracts[0].current_page)+1,y.map((function(e){if(n>=e.id)return e.status="finish"})),me(a.data.get_contracts[0]),Z(null===(t=a.data.get_contracts[0])||void 0===t?void 0:t.address_id),ae(Number(a.data.get_contracts[0].current_page)+1),Y(!1);case 12:case"end":return e.stop()}}),e)}))),[J.params.id]);var Fe=function(e){return o.a.createElement("img",{src:a(2031)("./step"+e.id+".png")})};return o.a.createElement("div",null,!V&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h4",{className:"text-center mb-5"},2==(null===le||void 0===le||null===(t=le.get_contract_category)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.category_type)?null===le||void 0===le||null===(C=le.get_contract_category)||void 0===C||null===(N=C[0])||void 0===N?void 0:N.subCategory_name:null===le||void 0===le||null===(_=le.get_contract_category)||void 0===_||null===(U=_[0])||void 0===U?void 0:U.category_name),o.a.createElement(u.a,{size:"large",className:"contract_steper",labelPlacement:"vertical",current:te},ke&&ke.map((function(e){return o.a.createElement(Q,{key:e.title,status:e.status,icon:Fe(e),title:e.content})}))),o.a.createElement("div",{className:"d-flex justify-content-center my-5"},o.a.createElement(m.a,Object.assign({},B,{name:"nest-messages",className:"w-100"}),o.a.createElement(i.Suspense,{fallback:o.a.createElement(d.a,{active:!0})},o.a.createElement("div",{className:4===te||5===te?"":"d-none"},o.a.createElement("h4",{className:"text-center"},"Review and publish your project"),o.a.createElement(S,{contract_detail_data:le,current:te,customform:T}),o.a.createElement(I,{contract_detail_data:le,current:te,customform:T}),o.a.createElement(R,{hide_common_upload:!0,contract_detail_data:le,current:te,customform:T})),o.a.createElement("div",{className:3===te?"contract_images_section":"d-none"},o.a.createElement(g.a,{md:{span:18,offset:3}},o.a.createElement(R,{contract_detail_data:le,current:te,customform:T}))),o.a.createElement("div",{className:2===te?"":"d-none"},o.a.createElement(g.a,{md:{span:18,offset:3}},o.a.createElement(I,{contract_detail_data:le,current:te,customform:T}))),o.a.createElement("div",{className:0===te?"":"d-none"},o.a.createElement(g.a,{md:{span:18,offset:3}},o.a.createElement(S,{contract_detail_data:le,current:te,customform:T}))),o.a.createElement("div",{className:1===te?"":"d-none"},o.a.createElement(j.c.Provider,{value:{location_change:function(e){Z(e._id)},popup_closed:function(){D(!1)},popup_closed_option:!0}},o.a.createElement(f.a,{type:"primary",className:"mb-3 h-50x",onClick:function(){_e({}),D(!0)}},o.a.createElement("div",{className:"normal_font_size d-flex justify-content-around align-items-center"},o.a.createElement("div",{className:"mr-3"},"Add New Address"),o.a.createElement(p.a,{type:"plus"}))),o.a.createElement("h4",{className:"text-center mb-5"},"My Saved Address"),o.a.createElement(g.a,{md:{span:18,offset:3},className:"extra_radius_input shadow-lg"},o.a.createElement(j.a.Provider,{value:{location_edit:function(e){_e(e),D(!0)},no_data:function(e){pe(e)}}},o.a.createElement(v.a,{user_id:se,address_id:H}))),o.a.createElement(w.default,{address_from:xe,visible:q})))))),o.a.createElement("div",{className:"steps-action justify-content-between d-flex mb-5"},o.a.createElement(g.a,{md:{span:18,offset:3}},o.a.createElement(b.a,{gutter:[12,24]},o.a.createElement(g.a,{md:12},o.a.createElement(f.a,{type:"primary",ghost:!0,className:"contract_actions w-100",onClick:function(){0===te?P.push({pathname:"/bookings"}):ae(te-1)}},function(e){switch(e){case 0:return"Cancel";default:return"Back"}}(te))),o.a.createElement(g.a,{md:12},o.a.createElement(f.a,{type:"primary",className:"contract_actions w-100",onClick:function(){e.form.validateFields(function(){var e=Object(A.a)(c.a.mark((function e(t,a){var r,A,s,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=39;break}r={},J.params.id&&(r._id=J.params.id),a.current_page=te>=4?4:te,e.t0=te,e.next=2===e.t0?7:1===e.t0?15:5===e.t0?29:31;break;case 7:if(a.budget&&!(a.budget<=0)){e.next=10;break}return Object(E.a)({status:"failed",msg:"Please Enter the budget"}),e.abrupt("return",!1);case 10:if("2"!=a.timeline_type&&"3"!=a.timeline_type){e.next=14;break}if(!(a.timeline<=0)){e.next=14;break}return Object(E.a)({status:"failed",msg:"Enter Timeline more than 1"}),e.abrupt("return",!1);case 14:return e.abrupt("break",32);case 15:if(""!=H&&null!=H){e.next=20;break}return Object(E.a)({status:"failed",msg:"Select any one address"}),e.abrupt("return",!1);case 20:if(!H){e.next=28;break}if(-1!=x()(fe,["_id",H])){e.next=27;break}return Object(E.a)({status:"failed",msg:"Select any one address"}),e.abrupt("return",!1);case 27:a.address_id=H;case 28:return e.abrupt("break",32);case 29:return a.contract_status="12",e.abrupt("break",32);case 31:return e.abrupt("break",32);case 32:return a&&F()(a)&&(r.contract_data=[a]),e.next=35,he({variables:r});case 35:A=e.sent,Object(E.a)(A.data.update_contract),console.log(te),5===te||6===te?(s=y.map((function(e){return e.status="finish"})),Oe(s),ae(4),l.a.success("Processing complete!"),P.push({pathname:"/contract/view/".concat(J.params.id)})):(i=Object(n.a)(ke),o=x()(i,["id",te+1]),i[o].status="finish",Oe(i),ae(te+1));case 39:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}},function(e){switch(e){case 3:return"Save and Preview";case 4:case 5:return"Publish";default:return"Next"}}(te))))))))}))}}]);
//# sourceMappingURL=17.9907b04c.chunk.js.map