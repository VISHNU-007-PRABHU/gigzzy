{"version":3,"sources":["image/main.png","graphql/User/contract.js","component/Admin/Booking/ContractInvoice.js"],"names":["module","exports","__webpack_require__","p","UPDATE_CONTRACT","gql","_templateObject","Object","_home_waioz_gigzzy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__","UPDATE_CONTRACT_FILE","_templateObject2","DELETE_CONTRACT_FILE","_templateObject3","GET_CONTRACT_FILES","_templateObject4","GET_CONTRACT","_templateObject5","C2B_CONTENT","React","lazy","e","then","bind","payment_status","0","50","10","11","4","13","14","SEND_ACCEPT_MSG","_home_waioz_gigzzy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_7__","ContractInvoice","state","currency_symbol","collapsed","booking","booking_user","booking_provider","booking_category","booking_status","payment_type","mpeas_payment_callback","base_price","extra_price","ctob_shotcode","ctob_billRef","onToggle","val","console","log","_this","setState","isMobile","test","navigator","userAgent","vendor","window","opera","substr","fetch_booking","_id","client","query","variables","contract_id","fetchPolicy","result","_result$data$get_cont","_result$data$get_cont2","_result$data$get_cont3","_result$data$get_cont4","_result$data$get_cont5","_result$data$get_cont6","_result$data$get_cont7","_result$data$get_cont8","_result$data$get_cont9","_result$data$get_cont10","current_booking_status","props","match","params","id","data","get_contracts","get_user","get_contract_category","get_provider_user","_callee","b_id","that","_home_waioz_gigzzy_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","wrap","_context","prev","next","_home_waioz_gigzzy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__","subscribe","JSON","parse","localStorage","getItem","booking_id","loading","error","_data$data$send_accep","send_accept_msg","stop","this","_booking_user$","_this$state","react__WEBPACK_IMPORTED_MODULE_8___default","createElement","className","href","antd__WEBPACK_IMPORTED_MODULE_9__","placement","title","antd__WEBPACK_IMPORTED_MODULE_10__","type","style","fontSize","src","main","alt","contract_ref","created_at","antd__WEBPACK_IMPORTED_MODULE_11__","color","react__WEBPACK_IMPORTED_MODULE_8__","fallback","class","role","BusinessNumber","AmountNumber","Amount","name","total","budget","concat","service_fee","category_type","category_name","subCategory_name","first_name","last_name","email","phone_number","Component"],"mappings":"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","file":"static/js/133.6e4ee469.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/main.c57228a8.png\";","import gql from \"graphql-tag\";\n\nexport const UPDATE_CONTRACT = gql`\n    mutation UPDATECONTRACT($_id:ID,$contract_data:JSON){\n        update_contract(_id:$_id,contract_data:$contract_data){\n            msg\n            status\n            _id\n        }\n    }\n`\n\n\nexport const UPDATE_CONTRACT_FILE = gql`\n    mutation UPDATECONTRACTFILE($contract_id:ID,$file:[Upload],$category:String,$image_tag:String,$_id:ID){\n        ContractJobFileUpload(contract_id:$contract_id,file:$file,category:$category,image_tag:$image_tag,_id:$_id){\n            msg\n            status\n            _id\n        }\n    }\n`\nexport const DELETE_CONTRACT_FILE = gql`\n    mutation DELETECONTRACTFILE($_id:ID){\n        DeleteContractJobFile(_id:$_id){\n            msg\n            status\n        }\n    }\n`\n\nexport const GET_CONTRACT_FILES = gql`\n    query GETCONTRACTFILES($contract_id:ID){\n        get_contract_files(contract_id:$contract_id) {\n            _id\n            images{\n                small_image\n                image_tag\n                doc_category\n                _id\n            }\n        }\n    }\n`\n\nexport const GET_CONTRACT = gql`\n    query GETCONTRACT($contract_id:ID,$location_code:String){\n        get_contracts(contract_id:$contract_id,location_code:$location_code){\n            name\n            description\n            current_page\n            address_id\n            budget(code:$location_code)\n            timeline\n            timeline_type\n            terms_condition\n            contract_ref\n            biding_count\n            created_at\n            get_contract_category{\n                category_name\n                subCategory_name\n                category_type\n            }\n            get_contract_all_files(contract_id:$contract_id){\n                small_image\n            }\n            get_contract_files(contract_id:$contract_id) {\n                _id\n                images{\n                    small_image\n                    large_image\n                    image_tag\n                }\n            }\n            get_provider_user {\n                img_url\n                first_name\n                email\n                phone_no\n                user_type\n                last_name\n                _id\n                get_company_root_detail(root: true) {\n                    company_name\n                    company_website\n                    company_category\n                    get_company_images {\n                    small_image\n                    }\n                }\n            }\n            get_user {\n                img_url\n                first_name\n                user_type\n                last_name\n                email\n                phone_no\n                _id\n                get_company_root_detail(root: true) {\n                    company_name\n                    company_website\n                    company_category\n                    get_company_images {\n                        small_image\n                    }\n                }\n            }\n        }\n    }\n`\n\n\n\n\n\n","\nimport React, { Suspense } from \"react\";\nimport { Icon, Tooltip, Tag } from \"antd\"\nimport 'antd/dist/antd.css';\nimport '../../../scss/template.scss';\nimport { client } from \"../../../apollo\";\nimport gql from 'graphql-tag';\nimport '../../../scss/template.scss';\nimport { GET_CONTRACT } from '../../../graphql/User/contract';\nimport main from '../../../image/main.png';\n\nconst C2B_CONTENT = React.lazy(() => import('./C2B_CONTENT')); // Lazy-loaded\n\nconst payment_status = {\n    0: \"welcome Gizzy\",\n    50: \"waiting for payment confirmation\",\n    10: \"Base price paid\",\n    11: \"Booking canceled\",\n    4: \"Job started\",\n    13: \"Ongoing\",\n    14: \"Completed\"\n}\n\n\nconst SEND_ACCEPT_MSG = gql`\nsubscription SENDACCEPTMSG($_id:ID,$booking_id:ID){\n    send_accept_msg (_id:$_id,booking_id:$booking_id){\n      _id\n      status\n      booking_status\n      payment_type\n      mpeas_payment_callback\n      base_price(code:\"symbol\")\n      extra_price(code:\"symbol\")\n      ctob_shotcode\n      ctob_billRef\n    }\n}`\nclass ContractInvoice extends React.Component {\n    state = {\n        currency_symbol: 'Ksh',\n        collapsed: false,\n        booking: {},\n        booking_user: [],\n        booking_provider: [],\n        booking_category: [],\n        booking_status: 0,\n        payment_type: \"\",\n        mpeas_payment_callback: false,\n        base_price: \"0.00\",\n        extra_price: \"0.00\",\n        ctob_shotcode: \"\",\n        ctob_billRef: \"\",\n\n    };\n    onToggle = (val) => {\n        console.log(val);\n        this.setState({\n            collapsed: val,\n        });\n    };\n    isMobile = () => {\n        return (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i.test(navigator.userAgent || navigator.vendor || window.opera) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test((navigator.userAgent || navigator.vendor || window.opera).substr(0, 4)))\n    }\n    componentDidMount() {\n        console.log(this.isMobile());\n        this.fetch_booking(this.props.match.params.id);\n    }\n\n    fetch_booking = (_id) => {\n        client.query({\n            query: GET_CONTRACT,\n            variables: { contract_id:_id },\n            fetchPolicy: 'no-cache',\n        }).then(result => {\n            console.log(result);\n            this.current_booking_status(this.props.match.params.id)\n            console.log(\"ContractInvoice -> fetch_booking ->result.data.get_contracts?.get_user\",  result.data.get_contracts?.get_user)\n            this.setState({\n                booking: result.data.get_contracts[0],\n                booking_category: result.data.get_contracts[0]?.get_contract_category,\n                booking_user: result.data.get_contracts[0]?.get_user,\n                booking_provider: result.data.get_contracts[0]?.get_provider_user,\n                booking_status: result.data.get_contracts[0]?.booking_status,\n                payment_type: result.data.get_contracts[0]?.payment_type || \"\",\n                base_price: result.data.get_contracts[0]?.base_price || \"\",\n                ctob_shotcode: result.data.get_contracts[0]?.ctob_shotcode || \"\",\n                ctob_billRef: result.data.get_contracts[0]?.ctob_billRef || \"\",\n                mpeas_payment_callback: result.data.get_contracts[0]?.mpeas_payment_callback,\n            })\n        });\n    }\n\n    current_booking_status = async (b_id) => {\n        var that = this;\n        await client.subscribe({\n            query: SEND_ACCEPT_MSG,\n            variables: { _id: JSON.parse(localStorage.getItem('user'))._id, booking_id: b_id },\n        }).subscribe({\n            next(data, loading, error) {\n                if (loading) {\n                    console.log('load');\n                }\n                if (data) {\n                    console.log(data.data.send_accept_msg);\n                    that.setState({\n                        booking_status: data.data.send_accept_msg.booking_status,\n                        payment_type: data.data.send_accept_msg?.payment_type || \"\",\n                    });\n                }\n\n            }\n        });\n    };\n\n    render() {\n        const { ctob_billRef,ctob_shotcode,mpeas_payment_callback,base_price,extra_price,booking, booking_category, booking_provider, booking_user, payment_type, booking_status } = this.state;\n        console.log(\"Invoice -> render -> booking_status\", booking_status)\n        console.log(\"Invoice -> render -> mpeas_payment_callback\", mpeas_payment_callback)\n        console.log(\"Invoice -> render -> payment_option\", payment_type)\n\n        return (\n            <div className=\" col-xs-12 col-md-12 col-sm-12 invoice_body_color  \" >\n                <div className=\"col-xs-12 col-md-12 col-sm-12 col-lg-6 main_content mx-lg-auto\">\n                    <div className=\"invoice_header mt-1\">\n                        <div className={this.isMobile() ? \"d-none\" : \"\"}>\n                            <a href=\"/bookings\">\n                                <Tooltip placement=\"left\" title=\"Back to Booking\">\n                                    <Icon className=\"ml-2 cursor_point\" type=\"arrow-left\" style={{ fontSize: \"26px\" }} />\n                                </Tooltip>\n                            </a>\n                        </div>\n                        <div>\n                            <img src={main} alt={'gigzzy'} className='w-50x object_fit cursor_point' />\n                        </div>\n                        <div className=\"invoice_info\">\n                            <div>INVOICE NO <b>{booking?.contract_ref }</b></div>\n                            <div> <small>{booking?.created_at}</small></div>\n                            <div className=\"py-2\">\n                                <Tag color=\"green\">\n                                    {payment_status[this.state.booking_status]}\n                                </Tag>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={ (booking_status == 50 || mpeas_payment_callback == true)  && payment_type == \"c2b\" ? \"jumbotron p-1 mb-3 mx-3\" : \"d-none\"}>\n                        <Suspense fallback={\n                            <div class=\"spinner-border text-success\" role=\"status\">\n                                <span class=\"sr-only\">Loading...</span>\n                            </div>\n                        }>\n                            <C2B_CONTENT BusinessNumber={ctob_shotcode} AmountNumber={ctob_billRef} Amount={mpeas_payment_callback ? extra_price : base_price} />\n                        </Suspense>\n                    </div>\n                    <div className=\"user_batch mx-3\">\n                        <p><b>{booking_user[0] ? booking_user[0]?.name : \"\"}</b></p>\n                        <p>Thanks for using gigzzy.</p>\n                    </div>\n                    <div className=\"total_fare\">\n                        <h5>TOTAL COST</h5>\n                        <h1><small></small>{booking?.total}</h1>\n                        {/* <h6>TOTAL HOURS : asd</h6> */}\n                    </div>\n                    <div className=\"fare_estimation col-xs-12 col-md-12 col-sm-12 nopad d-print-block d-md-flex\">\n                        <div className=\"fare_breakup mr-sm-3\">\n                            <p className=\"title\">Fare Breakup</p>\n                            <ul>\n                                <li>\n                                    <label>Base Price</label>\n                                    <span>{booking?.budget}</span>\n                                </li>\n                            </ul>\n                        </div>\n                        <div className=\"tax_breakup \">\n                            <p className=\"title\">Service Breakup</p>\n                            <ul>\n                                <li>\n                                    <label className=\"d-flex align-items-center\">\n                                        Service Fee\n                                        <Tooltip placement=\"right\" title={`${booking?.service_fee} %`}>\n                                            <Icon className=\"ml-2 cursor_point\" type=\"info-circle\" />\n                                        </Tooltip>\n\n                                        <span className=\"ml-auto\">\n                                            {booking?.service_fee}\n                                        </span>\n                                    </label>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                    <div className=\"booking_details col-xs-12 col-md-12 col-sm-12\">\n                        <p className=\"title\">Booking Details</p>\n                        <ul>\n                            <li>\n                                <label>Service Type</label>\n                                <span>{booking_category[0] ? booking_category[0].category_type === 1 ? booking_category[0].category_name : booking_category[0].subCategory_name : ''}</span>\n                            </li>\n                            <li>\n                                <label>Booking Date</label>\n                                <span>{booking?.created_at}</span>\n                            </li>\n                        </ul>\n                    </div>\n                    <div className=\"member_section col-xs-12 col-md-12 col-sm-12 nopad d-print-block d-md-flex\">\n                        <div className=\"user_details mr-sm-3\">\n                            <p className=\"title\">User Details</p>\n                            <ul>\n                                <li>\n                                    <label>Name</label>\n                                    <span>{booking_user[0] ? `${booking_user[0].first_name} ${booking_user[0].last_name}` : \"\"}</span>\n                                </li>\n                                <li>\n                                    <label>Email</label>\n                                    <span>{booking_user[0] ? booking_user[0].email : \"\"}</span>\n                                </li>\n                                <li>\n                                    <label>Phone</label>\n                                    <span>{booking_user[0] ? booking_user[0].phone_number : \"\"}</span>\n                                </li>\n                            </ul>\n                        </div>\n                        <div className=\"provider_details\">\n                            <p className=\"title\">Provider Details</p>\n                            <ul>\n                                <li>\n                                    <label>Name</label>\n                                    <span>{booking_provider[0] ?  `${booking_provider[0].first_name} ${booking_provider[0].last_name}`: \"\"}</span>\n                                </li>\n                                <li>\n                                    <label>Email</label>\n                                    <span>{booking_provider[0] ? booking_provider[0].email : \"\"}</span>\n                                </li>\n                                <li>\n                                    <label>Phone</label>\n                                    <span>{booking_provider[0] ? booking_provider[0].phone_number : \"\"}</span>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                    <div className=\"invoice_footer col-xs-12 m-3\">\n                        <hr />\n                        <p>\tThanks,</p>\n                        gigzzy Team\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default ContractInvoice;\n"],"sourceRoot":""}