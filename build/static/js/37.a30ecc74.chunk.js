(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{1526:function(e,t,a){"use strict";a.r(t);var n=a(693),r=a(694),c=a(696),i=a(695),o=a(0),s=a.n(o),l=(a(332),a(329),a(826),a(828),a(709)),u=a.n(l),p=a(832),d=a(714),m=a(48),f=a(950),g=a(74),h=a(961),v=a(948),_=a(911),y=a(938),b=a(146),w=a(738),E=a(932),k=a.n(E),S=a(213),j=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={modalVisible:!1,dataSource:[],update_data:{},update:0,loading:!1,loading_img:!1,imageUrl:"",file:{},previewVisible:!1,previewImage:"",view_img:"",pagination:{pageSize:10,total:0,current:1,simple:!0}},e.handleTableChange=function(){var t=Object(d.a)(u.a.mark(function t(a){var n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(n=Object(p.a)({},a)).current=a.current,e.setState({loading:!0}),t.next=5,b.a.query({query:y.f,variables:{limit:n.pageSize,page:n.current},fetchPolicy:"no-cache"}).then(function(t){var a=Object(p.a)({},e.state.pagination);a.total=t.data.get_company_detail.pageInfo.totalDocs,a.current=t.data.get_company_detail.pageInfo.page,e.setState({pagination:a,loading:!1,dataSource:t.data.get_company_detail.data})});case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.fetch_find_company=function(){var t=Object(d.a)(u.a.mark(function t(a){var n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={register_status:"success",register_link_status:"accepted"},"inactive"===e.props.type&&(n={$or:[{register_link_status:{$ne:"success"}},{register_status:{$ne:"accepted"}}]}),a&&(n=Object(p.a)(Object(p.a)({},n),a)),t.next=5,b.a.query({query:y.f,variables:{company_id:e.props.match.params.id,provider_search:n},fetchPolicy:"no-cache"}).then(function(t){e.setState({update:1,dataSource:t.data.get_company_detail.data[0].get_parent_company_provider})});case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.handleDelete=function(){var t=Object(d.a)(u.a.mark(function t(a){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.mutate({mutation:y.c,variables:{_id:a}}).then(function(t,a,n){Object(w.a)(t.data.deleteCompanyProvider),"success"===t.data.deleteCompanyProvider.status&&e.fetch_find_company()});case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.onFilter_Ref=function(){var t=Object(d.a)(u.a.mark(function t(a){var n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.target.value?(n={email:{$regex:".*"+a.target.value+".*",$options:"i"}},e.fetch_find_company(n)):e.fetch_find_company();case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.match.params.id&&this.fetch_find_company()}},{key:"render",value:function(){var e=this,t=[{title:"Email",render:function(e,t){return o.createElement("span",{title:"Email"},t.email)}},{title:"Link Sent Date",render:function(e,t){return o.createElement("span",{title:"Link Sent Date"},o.createElement(f.a,{color:"geekblue"},t.created_at))}},{title:"Register Link Status",render:function(e,t){return o.createElement("span",{title:"Register Link Status"},o.createElement(f.a,{color:"geekblue"},t.register_link_status))}},{title:"Provider Register Status",render:function(e,t){return o.createElement("span",{title:"Provider Register Status"},o.createElement(f.a,{color:"geekblue"},t.register_status))}},{title:"View",render:function(t,a){return e.state.dataSource.length>=1?o.createElement("span",{title:"....",className:"d-flex justify-content-around"},o.createElement(S.b,{permission:""},o.createElement("span",{className:"cursor_point"},o.createElement(g.a,{type:"eye",theme:"twoTone",twoToneColor:"#52c41a",className:"inactive"===e.props.type?"d-none":"mx-3 f_25"}))),o.createElement(S.b,{permission:""},o.createElement(h.a,{title:"Sure to delete this worker ?",onConfirm:function(){return e.handleDelete(a._id)}},o.createElement(g.a,{type:"delete",theme:"twoTone",twoToneColor:"#52c41a",className:"f_25"})))):null}}];return o.createElement(o.Fragment,null,o.createElement("div",{className:"mb-3"},o.createElement(k.a,{className:"",size:"large",placeholder:"Search Worker Email",onKeyUp:function(t){e.onFilter_Ref(t)},loading:!1})),o.createElement("div",{id:"no-more-tables"},o.createElement(v.a,{className:"table_shadow",rowKey:function(e){return e.id},loading:this.state.loading,dataSource:this.state.dataSource,columns:t,pagination:!1})))}}]),a}(o.Component),O=_.a.create()(Object(m.withRouter)(j)),x=a(684),C=a(908),P=(x.a.Content,C.a.TabPane),N=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={collapsed:!1},e.onToggle=function(t){console.log(t),e.setState({collapsed:t})},e}return Object(r.a)(a,[{key:"render",value:function(){return s.a.createElement(C.a,null,s.a.createElement(P,{tab:"Active workers",key:"1"},s.a.createElement(O,{type:"active"})),s.a.createElement(P,{tab:"Pending workers",key:"2"},s.a.createElement(O,{type:"inactive"})))}}]),a}(s.a.Component);t.default=N}}]);
//# sourceMappingURL=37.a30ecc74.chunk.js.map