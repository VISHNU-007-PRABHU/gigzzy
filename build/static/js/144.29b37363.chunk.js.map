{"version":3,"sources":["image/bookLater.png","component/User/Book/Appointments.js"],"names":["module","exports","__webpack_require__","p","TabPane","Tabs","AppiontmentsEmpty","React","lazy","e","then","bind","AppointmentDetail","memo","props","_useState","useState","_useState2","Object","_home_waioz_gigzzy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","user_id","set_user_id","useEffect","localStorage","getItem","JSON","parse","_id","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","react_apollo__WEBPACK_IMPORTED_MODULE_2__","query","MY_CONTRACT_APPOINTMENTS","variables","limit","page","role","booking_status","Number","status","fetchPolicy","_ref","loading","error","data","startPolling","stopPolling","antd_lib_skeleton__WEBPACK_IMPORTED_MODULE_5___default","concat","Fragment","antd_lib_tabs__WEBPACK_IMPORTED_MODULE_4___default","defaultActiveKey","className","tab","key","get_contracts_pagination","length","react__WEBPACK_IMPORTED_MODULE_1__","fallback"],"mappings":"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","file":"static/js/144.29b37363.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bookLater.3e207467.png\";","import React, { Suspense, useState, useEffect } from 'react'\nimport { Query } from \"react-apollo\";\nimport { My_APPOINTMENTS, MY_CONTRACT_APPOINTMENTS } from '../../../graphql/User/booking';\nimport Badge from 'antd/lib/badge';\nimport Row from 'antd/lib/row';\nimport Tabs from 'antd/lib/tabs';\nimport Card from 'antd/lib/card';\nimport Skeleton from 'antd/lib/skeleton';\nimport Pagination from 'antd/lib/pagination';\nimport Tooltip from 'antd/lib/tooltip';\nimport timer_icon from '../../../image/bookLater.png';\n\nconst { TabPane } = Tabs;\n\nconst AppiontmentsEmpty = React.lazy(() => import('./AppiontmentsEmpty'));\nconst AppointmentDetail = React.lazy(() => import('./AppointmentDetail'));\n\nfunction Appointments(props) {\n    const [user_id, set_user_id] = useState('');\n\n    useEffect(() => {\n        if (!localStorage.getItem('user')) {\n            set_user_id(JSON.parse(localStorage.getItem('user'))._id)\n        } else {\n            set_user_id('61306d9257602fcea82c5fb3')\n        }\n    }, [localStorage.getItem('user')])\n\n    return (\n        <Query\n            query={MY_CONTRACT_APPOINTMENTS}\n            variables={{\n                limit: 10,\n                page: props.page,\n                _id: user_id,\n                user_id: user_id,\n                role: 1,\n                booking_status: Number(props.status)\n            }}\n            fetchPolicy='no-cache'\n        // pollInterval={25000}\n        >\n            {({ loading, error, data, startPolling, stopPolling }) => {\n                if (loading) return <Skeleton />;\n                if (error) return `Error! ${error}`;\n                const handleInfiniteOnLoad = (page, pagesize) => {\n                    props.handleInfiniteOnLoad(page);\n                }\n                return (\n                    <>\n                        <Tabs defaultActiveKey=\"1\" className=\"border\">\n                            <TabPane tab=\"Contract Job\" key=\"1\"  className='p-3'>\n                                {data.get_contracts_pagination.data.length > 0 ?\n                                    <>\n                                        <Suspense fallback={<Skeleton />}>\n                                            <AppointmentDetail data={data.get_contracts_pagination.data} />\n                                        </Suspense>\n                                    </>\n                                    :\n                                    <>\n                                        <Suspense fallback={<Skeleton />}>\n                                            <AppiontmentsEmpty />\n                                        </Suspense>\n                                    </>\n                                }\n                            </TabPane>\n                            <TabPane tab=\"On Demand job\" key=\"2\">\n                                {data.get_contracts_pagination.data.length > 0 ?\n                                    <>\n                                        <Suspense fallback={<Skeleton />}>\n                                            <AppointmentDetail data={data.get_contracts_pagination.data} />\n                                        </Suspense>\n                                    </>\n                                    :\n                                    <>\n                                        <Suspense fallback={<Skeleton />}>\n                                            <AppiontmentsEmpty />\n                                        </Suspense>\n                                    </>\n                                }\n                            </TabPane>\n                            <TabPane tab=\"On hold project\" key=\"3\">\n                                {data.get_contracts_pagination.data.length > 0 ?\n                                    <>\n                                        <Suspense fallback={<Skeleton />}>\n                                            <AppointmentDetail data={data.get_contracts_pagination.data} />\n                                        </Suspense>\n                                    </>\n                                    :\n                                    <>\n                                        <Suspense fallback={<Skeleton />}>\n                                            <AppiontmentsEmpty />\n                                        </Suspense>\n                                    </>\n                                }\n                            </TabPane>\n                        </Tabs>\n                    </>\n                );\n            }}\n        </Query >\n    )\n};\n\n\nexport default React.memo(Appointments);"],"sourceRoot":""}