"use strict";(self.webpackChunkjiffy=self.webpackChunkjiffy||[]).push([[7656],{77656:function(e,t,n){n.r(t);var r=n(35466),a=n(60441),c=n(63286),l=n(32513),o=n(2895),i=n(1554),u=n(96990),s=n(14962),f=n(43280),m=n(76970),d=n(55702),y=n(73849),p=n(59854),v=n(69753),h=n(79520);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t,n,r,a,c,l){try{var o=e[c](l),i=o.value}catch(e){return void n(e)}o.done?t(i):Promise.resolve(i).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function l(e){g(c,r,a,l,o,"next",e)}function o(e){g(c,r,a,l,o,"throw",e)}l(void 0)}))}}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);l=!0);}catch(e){o=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Z=a.Z.Panel,k=c.Z.Title,x=r.lazy((function(){return n.e(1230).then(n.bind(n,21230))}));t.default=d.Z.create()((function(e){e.form;var t=(0,v.Z)(),n=(t.history,t.match),c=w((0,r.useState)([]),2),d=c[0],g=c[1],C=w((0,r.useState)({}),2),S=(C[0],C[1],w((0,p.Db)(y.Yy),2)),_=S[0],j=(S[1].loading,w((0,r.useState)(!1),2)),A=j[0],N=j[1],P=w((0,r.useState)(!1),2),R=P[0],T=P[1],D=(0,p.aM)(y.yx);(0,r.useEffect)((function(){n.params.id&&I()}),[]);var I=function(){var e=E(regeneratorRuntime.mark((function e(){var t,r,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),a={pagination:!1,category_id:n.params.id},e.next=4,D.refetch(a);case 4:c=e.sent,g(null===(t=c.data)||void 0===t||null===(r=t.GetCategoryCurrency)||void 0===r?void 0:r.data),T(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=E(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={_id:n},T(!0),e.next=4,_({variables:r});case 4:a=e.sent,(0,h.F)(a.data.DeleteCategoryCurrency),"success"===a.data.DeleteCategoryCurrency.status&&I(),t.stopPropagation();case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),F=function(){I(),N(!1)};return r.createElement(r.Fragment,null,r.createElement(l.Z,{spinning:R},r.createElement("div",{className:"d-flex justify-content-between m-3"},r.createElement(k,{level:4,className:""},"Currency"),r.createElement(o.Z,{className:"align-items-center d-flex",type:"primary",icon:"plus",onClick:function(){N(!A)}},"Add Currency")),r.createElement(a.Z,{accordion:!0},d&&d.length&&d.map((function(e,t){var n,a;return r.createElement(Z,(b(a={key:t,Panel:!0,className:"multi_currency_panel",header:r.createElement("div",{className:"d-flex justify-content-between"},r.createElement("div",null,null==e||null===(n=e.get_parent_currency)||void 0===n?void 0:n.name),r.createElement("div",null))},"key",t),b(a,"extra",r.createElement("div",null,r.createElement(i.Z,{title:"Sure to delete because may be under some more bookings ?",onConfirm:function(t){O(t,e._id)}},r.createElement(u.Z,{type:"delete",theme:"twoTone",twoToneColor:"#52c41a",className:"f_25"})))),a),r.createElement(r.Suspense,{fallback:r.createElement(s.Z,{active:!0})},r.createElement(x,{from_parent:F,data:e,currency_disable:!0})))})),!d&&!d.length&&r.createElement("div",{className:"d-flex justify-content-center p-4"},r.createElement(f.Z,{description:!1})))),r.createElement(m.Z,{visible:A,title:"Add new currency",onCancel:function(){N(!A)},footer:null},r.createElement(r.Suspense,{fallback:r.createElement(s.Z,{active:!0})},r.createElement(x,{currency_data:d,from_parent:F}))))}))}}]);