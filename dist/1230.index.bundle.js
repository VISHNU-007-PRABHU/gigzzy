"use strict";(self.webpackChunkjiffy=self.webpackChunkjiffy||[]).push([[1230],{21230:function(e,r,t){t.r(r);var a=t(35466),n=t(24123),l=t(32513),i=t(55702),c=t(49624),u=t(40137),o=t(19670),s=t(15300),d=t(2895),m=t(59854),f=t(69753),p=t(79520),y=t(49253),h=t(73849),v=t(90214),g=t.n(v);function E(e,r,t,a,n,l,i){try{var c=e[l](i),u=c.value}catch(e){return void t(e)}c.done?r(u):Promise.resolve(u).then(a,n)}function Z(e){return function(){var r=this,t=arguments;return new Promise((function(a,n){var l=e.apply(r,t);function i(e){E(l,a,n,i,c,"next",e)}function c(e){E(l,a,n,i,c,"throw",e)}i(void 0)}))}}function _(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var a,n,l=[],i=!0,c=!1;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(l.push(a.value),!r||l.length!==r);i=!0);}catch(e){c=!0,n=e}finally{try{i||null==t.return||t.return()}finally{if(c)throw n}}return l}}(e,r)||function(e,r){if(e){if("string"==typeof e)return b(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?b(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}var P=n.Z.Option,w=a.memo((function(e){var r,t=e.form,v=(0,f.Z)(),E=(v.history,v.match),b=_((0,a.useState)({}),2),w=b[0],x=b[1],N=_((0,a.useState)([]),2),F=N[0],C=N[1],k=_((0,a.useState)("hour"),2),S=k[0],q=k[1],I=_((0,a.useState)(!1),2),j=I[0],D=I[1],A=(0,m.aM)(y.x7),V=_((0,m.Db)(h.o3),2),L=V[0];V[1].loading,(0,a.useEffect)((function(){R(),console.log("props.data",e),e.data&&(x(e.data),e.data.price_type&&q(e.data.price_type))}),[]);var R=function(){var r=Z(regeneratorRuntime.mark((function r(){var t,a,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=[],e&&g()(e.currency_data)&&e.currency_data.forEach((function(e){t.push(e.currency_id)})),a={},t.length&&(a.search={$ne:t}),r.next=6,A.refetch(a);case 6:n=r.sent,C(n.data.get_currencys.data);case 8:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),U=function(r){t.validateFields(function(){var t=Z(regeneratorRuntime.mark((function t(a,n){var l,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=10;break}return n.category_id=E.params.id,l={_id:r,data:n},D(!0),t.next=6,L({variables:l});case 6:i=t.sent,(0,p.F)(i.data.UpdateCategoryCurrency),D(!1),"success"===i.data.UpdateCategoryCurrency.status&&e.from_parent();case 10:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}())};return a.createElement(a.Fragment,null,a.createElement(l.Z,{spinning:j},a.createElement(i.Z,{name:"multicurrency_ ".concat(null===(r=e.data)||void 0===r?void 0:r._id),className:""},a.createElement(c.Z,{gutter:12},a.createElement(u.Z,null,a.createElement(i.Z.Item,{label:"Choose Currency"},t.getFieldDecorator("currency_id",{initialValue:w.currency_id,rules:[{required:!0}]})(a.createElement(n.Z,{disabled:null==e?void 0:e.currency_disable,style:{width:"-webkit-fill-available"}},F.length&&F.map((function(e){return a.createElement(P,{key:null==e?void 0:e._id},null==e?void 0:e.country_code)}))))))),a.createElement(c.Z,null,a.createElement(o.ZP.Group,{name:"price_type",onChange:function(e){q(e.target.value)},value:S},a.createElement(o.ZP,{value:"hour"},"Per hour"),a.createElement(o.ZP,{value:"day"},"Per day"),a.createElement(o.ZP,{value:"job"},"Per job"))),a.createElement(c.Z,{className:"py-3",gutter:12},a.createElement(c.Z,{gutter:12,className:"hour"===S?"d-flex":"d-none"},a.createElement(u.Z,{className:"",lg:12},a.createElement(i.Z.Item,{label:"Limit (Per hour)"},t.getFieldDecorator("hour_limit",{initialValue:w.hour_limit,rules:[{required:!1,message:"Hour Limit is required"}]})(a.createElement(s.Z,{placeholder:"Limit (Per hour)"})))),a.createElement(u.Z,{className:"",lg:12},a.createElement(i.Z.Item,{label:"Price (Per hour price)"},t.getFieldDecorator("hour_price",{initialValue:w.hour_price,rules:[{required:!1}]})(a.createElement(s.Z,{placeholder:"Price (Per hour price)"}))))),a.createElement(c.Z,{gutter:12,className:"day"===S?"d-flex":"d-none"},a.createElement(u.Z,{className:"",lg:12},a.createElement(i.Z.Item,{label:"Limit (Per day)"},t.getFieldDecorator("day_limit",{initialValue:w.day_limit,rules:[{required:!1,message:"Day Limit is required"}]})(a.createElement(s.Z,{placeholder:"Limit (Per day)"})))),a.createElement(u.Z,{className:"",lg:12},a.createElement(i.Z.Item,{label:"Price (Per day price)"},t.getFieldDecorator("day_price",{initialValue:w.day_price,rules:[{required:!1}]})(a.createElement(s.Z,{placeholder:"Price (Per day price)"}))))),a.createElement(u.Z,{className:"",lg:12},a.createElement(i.Z.Item,{label:"Basic Price"},t.getFieldDecorator("base_price",{initialValue:w.base_price,rules:[{required:!0}]})(a.createElement(s.Z,{placeholder:"Basic Price"})))),a.createElement(u.Z,{className:"",lg:12},a.createElement(i.Z.Item,{label:"Service Fee"},t.getFieldDecorator("service_fee",{initialValue:w.service_fee,rules:[{required:!0,message:"Service Fee is required"}]})(a.createElement(s.Z,{placeholder:"service Fee",addonAfter:"%"}))))),a.createElement("div",{className:null!=w&&w._id?"d-flex justify-content-end":"d-none"},a.createElement(d.Z,{className:"align-items-center d-flex",type:"primary",icon:"plus",onClick:function(){U(w._id)}},"Update")),a.createElement("div",{className:null!=w&&w._id?"d-none":"d-flex justify-content-end"},a.createElement(d.Z,{className:"align-items-center d-flex",type:"primary",icon:"plus",onClick:function(){U()}},"Add")))))}));r.default=i.Z.create()(w)}}]);