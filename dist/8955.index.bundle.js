"use strict";(self.webpackChunkjiffy=self.webpackChunkjiffy||[]).push([[8955],{38955:function(t,e,n){n.r(e);var r=n(35466),a=n(96990),o=n(39084),u=n(45447),i=n(86387);function l(t,e,n,r,a,o,u){try{var i=t[o](u),l=i.value}catch(t){return void n(t)}i.done?e(l):Promise.resolve(l).then(r,a)}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,o=[],u=!0,i=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);u=!0);}catch(t){i=!0,a=t}finally{try{u||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}e.default=function(t){(0,i.useHistory)();var e=s((0,r.useState)(""),2),n=e[0],c=e[1],f=s((0,r.useState)([]),2),m=f[0],d=f[1],p=s((0,r.useState)(!1),2),v=p[0],y=p[1],h=s((0,r.useState)(!1),2),g=h[0],w=h[1],b=s((0,r.useState)("avatar-uploader d-flex "),2),_=b[0],S=b[1],E=s((0,r.useState)(""),2),j=(E[0],E[1],s((0,r.useState)(!1),2)),A=j[0],L=j[1],k=s((0,r.useState)("Upload"),2),U=(k[0],k[1]),x=s((0,r.useState)(""),2),F=x[0],C=x[1];t.form,(0,r.useEffect)((function(){t.custom_class&&S(t.custom_class),t.custom_content&&U(t.custom_content),t.custom_sub_content&&C(t.custom_sub_content),t.set_show_images&&w(t.set_show_images),t.fileList_status&&y(t.fileList_status)}),[t]);var I=function(t,e){var n=new FileReader;n.addEventListener("load",(function(){return e(n.result)})),n.readAsDataURL(t)},N=function(){var e,n=(e=regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L(!0),n.file.status&&(r=(null==t?void 0:t.custom_category)||"others",t.onFileUpload(n.file.originFileObj,r),v&&d(n.fileList),I(n.file.originFileObj,(function(t){g&&c(t),L(!1)})));case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function u(t){l(o,r,a,u,i,"next",t)}function i(t){l(o,r,a,u,i,"throw",t)}u(void 0)}))});return function(t){return n.apply(this,arguments)}}(),O=r.createElement("div",null,r.createElement(a.Z,{type:A?"loading":"plus",className:""}),r.createElement("div",{className:"ant-upload-text"},r.createElement("div",null,F)));return r.createElement(r.Fragment,null,r.createElement(o.Z,{name:"avatar",accept:".png",listType:"picture-card",className:_,fileList:v&&m,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",showUploadList:!0,beforeUpload:function(t){var e="image/jpeg"===t.type||"image/png"===t.type;e||u.default.error("You can only upload JPG/PNG file!");var n=t.size/1024/1024<2;return n||u.default.error("Image must smaller than 2MB!"),e&&n},onChange:function(t){N(t)}},n?r.createElement("img",{src:n,alt:"avatar",style:{width:"50%"}}):O))}}}]);